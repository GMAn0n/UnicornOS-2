/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={1626:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o),s=n(4417),l=n.n(s),u=new URL(n(1716),n.b),c=a()(i()),d=l()(u);c.push([e.id,`@font-face {\n  font-family: 'ChicagoFLF';\n  src: url(${d}) format('truetype');\n  font-weight: normal;\n  font-style: normal;\n}\n\n.App {\n  font-family: 'ChicagoFLF', 'Courier New', monospace;\n  background-color: #858cb9;\n  color: #000;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden; /* Prevent scrolling */\n}\n\n.desktop {\n  position: relative;\n  width: 100vw;\n  height: calc(100vh - 40px); /* Subtract menu bar height */\n  overflow: hidden;\n  padding-top: 40px; /* Add this line to account for the menu bar */\n}\n\n.hard-disk-icon {\n  position: fixed;\n  top: 50px;\n  right: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: none;\n  border: none;\n  cursor: pointer;\n  color: #000;\n  font-family: 'ChicagoFLF', 'Courier New', monospace;\n  z-index: 10; /* Reverted to original value */\n  padding: 10px;\n  transition: transform 0.3s;\n}\n\n.hard-disk-icon:hover {\n  transform: scale(1.1);\n}\n\n.hard-disk-icon .icon-emoji {\n  font-size: 48px;\n  margin-bottom: 5px;\n}\n\n.hard-disk-icon .icon-text {\n  font-size: 12px;\n  text-align: center;\n  max-width: 64px;\n  word-wrap: break-word;\n}\n\n.file-explorer {\n  position: fixed;\n  top: 40px; /* Adjust based on your menu bar height */\n  left: 10%;\n  width: 80%;\n  height: calc(80% - 40px);\n  z-index: 1000;\n}\n\n.app-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: visible; /* Allow windows to overflow */\n  pointer-events: none; /* This allows clicks to pass through to elements below */\n}\n\n.window {\n  position: absolute;\n  background-color: #f0f0f0;\n  border: 1px solid #000;\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);\n  overflow: hidden;\n  z-index: 1100;\n}\n\n.menu-bar {\n  z-index: 1000;\n  background-color: #f0f0f0;\n  border-bottom: 1px solid #000;\n  padding: 5px;\n  display: flex;\n  align-items: center;\n  width: 100%; /* Ensure full width */\n  position: fixed; /* Fix the position */\n  top: 0; /* Align to the top */\n  left: 0; /* Align to the left */\n}\n\n.window {\n  pointer-events: auto; /* This allows interaction with the window */\n}\n\n/* Center windows on desktop */\n@media (min-width: 769px) {\n  .window:not(.fileexplorer):not(.iframe-app) {\n    top: 50% !important;\n    left: 50% !important;\n    transform: translate(-50%, -50%);\n  }\n\n  .window.iframe-app {\n    width: 80vw;\n    height: 80vh;\n    max-width: 90vw;\n    max-height: 90vh;\n    /* Remove the following lines:\n    top: 50% !important;\n    left: 50% !important;\n    transform: translate(-50%, -50%) !important;\n    position: fixed !important;\n    */\n  }\n}\n\n/* Full viewport on mobile */\n@media (max-width: 768px) {\n  .menu-bar {\n    padding: 5px 0; /* Remove horizontal padding */\n  }\n\n  .app-container {\n    top: 40px; /* Adjust this value to match your menu bar height */\n    padding-top: 10px; /* Add some padding below the menu bar */\n  }\n\n  .window:not(.fileexplorer) {\n    width: 100% !important;\n    height: calc(100% - 50px) !important; /* Adjust for menu bar height + padding */\n    top: 50px !important; /* Position below menu bar + padding */\n    left: 0 !important;\n    right: 0 !important;\n    bottom: 0 !important;\n  }\n\n  .file-explorer {\n    top: 50px; /* Position below menu bar + padding */\n    height: calc(100% - 50px); /* Adjust height */\n  }\n\n  .desktop {\n    padding-top: 50px; /* Adjust padding to account for menu bar + extra space */\n  }\n}\n\n.window-header {\n  background-color: #000080;\n  color: #fff;\n  padding: 5px;\n  cursor: move;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  z-index: 1300; /* Ensure the header is above the content */\n}\n\n.close-button {\n  background: none;\n  border: none;\n  color: #fff;\n  font-size: 16px;\n  cursor: pointer;\n  z-index: 1400; /* Ensure the close button is above everything else */\n  padding: 5px;\n  line-height: 1;\n  position: relative; /* Ensure z-index works */\n  touch-action: manipulation; /* Optimize for touch interactions */\n}\n\n@media (max-width: 768px) {\n  .close-button {\n    padding: 10px; /* Increase touch target size on mobile */\n  }\n\n  .window-header {\n    z-index: 1300; /* Ensure it's above the window content */\n  }\n\n  .resizable-window-header {\n    position: relative; /* Ensure z-index works */\n    z-index: 1300; /* Ensure it's above the window content */\n  }\n}\n\n.window-content {\n  height: calc(100% - 30px); /* Adjust based on your header height */\n  overflow: auto;\n  position: relative;\n}\n\n.resize-handle {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  width: 10px;\n  height: 10px;\n  cursor: se-resize;\n}\n\n.resize-handle {\n  display: none;\n}\n\n.hard-disk-icon {\n  top: 50px;\n  right: 10px;\n}\n\n/* Iframe apps styles */\n.window.iframe-app {\n  width: 80%;\n  height: 80%;\n}\n\n@media (max-width: 768px) {\n  .window.iframe-app {\n    width: 100% !important;\n    height: calc(100% - 40px) !important;\n  }\n}\n\n/* Native app sizes */\n.window.calcuwulator,\n.window.calendar,\n.window.notepad,\n.window.paint,\n.window.memoji-minesweeper {\n  width: 400px;\n  height: 500px;\n}\n\n/* Global rule for iframe apps on desktop */\n@media (min-width: 769px) {\n  .window.iframe-app {\n    width: 80vw;\n    height: 80vh;\n    max-width: 90vw;\n    max-height: 90vh;\n    /* Remove the following lines:\n    top: 50% !important;\n    left: 50% !important;\n    transform: translate(-50%, -50%) !important;\n    position: fixed !important;\n    */\n  }\n}\n\n/* ... (rest of the styles remain the same) */\n\n.stickies-layer {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1500;\n  pointer-events: none;\n}\n\n.stickies-container {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  z-index: 1000;\n}\n\n.stickies-container > * {\n  pointer-events: auto;\n}\n\n/* ... (keep any additional styles) */\n\n.window.memojiminesweeper {\n  width: auto !important;\n  height: auto !important;\n}\n\n@media (min-width: 769px) {\n  .window.memojiminesweeper {\n    top: 50px !important;\n    left: 50% !important;\n    transform: translateX(-50%) !important;\n  }\n}\n\n/* ... (keep other styles) */\n\n.resizable-window {\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.resizable-window-header {\n  background-color: #000080;\n  color: #fff;\n  padding: 5px;\n  cursor: move;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.resizable-window-content {\n  flex-grow: 1;\n  overflow: auto;\n}\n\n/* ... (rest of the styles) */\n\n.stickies-container {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  z-index: 1000;\n}\n\n.stickies-container > * {\n  pointer-events: auto;\n}`,""]);const h=c},1981:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([e.id,".black-market-beta {\n  width: 80%;\n  height: 80%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.black-market-beta .window-content {\n  padding: 0;\n  height: calc(100% - 30px); /* Adjust based on your header height */\n}\n\n.black-market-beta iframe {\n  width: 100%;\n  height: 100%;\n  border: none;\n}\n\n.black-market-beta-container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.black-market-beta-iframe {\n  flex: 1;\n  width: 100%;\n  border: none;\n}\n\n.window.blackmarketbeta .window-inner {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.window.blackmarketbeta .window-content {\n  flex: 1;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n}\n\n@media (max-width: 768px) {\n  .window.blackmarketbeta.fullscreen-mobile {\n    width: 100vw !important;\n    height: 100vh !important;\n  }\n}",""]);const s=a},2283:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([e.id,".black-market-liquidity {\n  width: 80%;\n  height: 80%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.black-market-liquidity .window-content {\n  padding: 0;\n  height: calc(100% - 30px); /* Adjust based on your header height */\n}\n\n.black-market-liquidity iframe {\n  width: 100%;\n  height: 100%;\n  border: none;\n}\n\n.black-market-liquidity-container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.black-market-liquidity-iframe {\n  flex: 1;\n  width: 100%;\n  border: none;\n}\n\n.window.blackmarketliquidity .window-inner {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.window.blackmarketliquidity .window-content {\n  flex: 1;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n}\n\n@media (max-width: 768px) {\n  .window.blackmarketliquidity.fullscreen-mobile {\n    width: 100vw !important;\n    height: 100vh !important;\n  }\n}",""]);const s=a},6575:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([e.id,".black-market-v2 {\n  width: 80%;\n  height: 80%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.black-market-v2 .window-content {\n  padding: 0;\n  height: calc(100% - 30px); /* Adjust based on your header height */\n}\n\n.black-market-v2 iframe {\n  width: 100%;\n  height: 100%;\n  border: none;\n}\n\n.black-market-v2-container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.black-market-v2-iframe {\n  flex: 1;\n  width: 100%;\n  border: none;\n}\n\n.window.blackmarketv2 .window-inner {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.window.blackmarketv2 .window-content {\n  flex: 1;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n}\n\n@media (max-width: 768px) {\n  .window.blackmarketv2.fullscreen-mobile {\n    width: 100vw !important;\n    height: 100vh !important;\n  }\n}",""]);const s=a},3402:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([e.id,".black-market-v3 {\n  width: 80%;\n  height: 80%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.black-market-v3 .window-content {\n  padding: 0;\n  height: calc(100% - 30px); /* Adjust based on your header height */\n}\n\n.black-market-v3 iframe {\n  width: 100%;\n  height: 100%;\n  border: none;\n}\n\n.black-market-v3-container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.black-market-v3-iframe {\n  flex: 1;\n  width: 100%;\n  border: none;\n}\n\n.window.blackmarketv3 .window-inner {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.window.blackmarketv3 .window-content {\n  flex: 1;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n}\n\n@media (max-width: 768px) {\n  .window.blackmarketv3.fullscreen-mobile {\n    width: 100vw !important;\n    height: 100vh !important;\n  }\n}",""]);const s=a},2090:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([e.id,".bluwumbuwurg-container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.bluwumbuwurg-iframe {\n  flex: 1;\n  width: 100%;\n  border: none;\n}\n\n.window.bluwumbuwurg .window-inner {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.window.bluwumbuwurg .window-content {\n  flex: 1;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n}\n\n@media (max-width: 768px) {\n  .window.bluwumbuwurg.fullscreen-mobile {\n    width: 100vw !important;\n    height: 100vh !important;\n  }\n}",""]);const s=a},904:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([e.id,".buwut-camp-container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.buwut-camp-iframe {\n  flex: 1;\n  width: 100%;\n  border: none;\n}\n\n.window.buwutcamp .window-inner {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.window.buwutcamp .window-content {\n  flex: 1;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n}\n\n@media (max-width: 768px) {\n  .window.buwutcamp.fullscreen-mobile {\n    width: 100vw !important;\n    height: 100vh !important;\n  }\n}",""]);const s=a},1372:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([e.id,".calcuwulator {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n}\n\n.display {\n  font-size: 2em;\n  text-align: right;\n  padding: 10px;\n  background-color: #f0f0f0;\n  margin-bottom: 10px;\n}\n\n.mode-switcher {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 10px;\n}\n\n.mode-switcher button {\n  flex: 1;\n  margin: 0 5px;\n}\n\n.calcuwulator-buttons {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n}\n\n.main-grid {\n  display: flex;\n  flex-grow: 1;\n}\n\n.number-pad {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 5px;\n  flex: 3;\n}\n\n.operations {\n  display: grid;\n  grid-template-columns: 1fr;\n  gap: 5px;\n  flex: 1;\n  margin-left: 5px;\n}\n\n.top-row {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 5px;\n  margin-bottom: 10px;\n}\n\nbutton {\n  font-size: 1.2em;\n  padding: 10px;\n}\n\n/* Adjustments for scientific and financial modes */\n.calcuwulator.scientific .top-row,\n.calcuwulator.financial .top-row {\n  grid-template-columns: repeat(4, 1fr);\n}\n\n.calcuwulator.scientific .operations,\n.calcuwulator.financial .operations {\n  grid-template-columns: repeat(2, 1fr);\n}\n\n.calcuwulator-display {\n  background-color: #fff;\n  padding: 10px;\n  text-align: right;\n  font-size: 24px;\n  border-bottom: 1px solid #ddd;\n}\n\n.mode-switcher {\n  display: flex;\n  justify-content: space-around;\n  padding: 5px;\n  background-color: #e0e0e0;\n}\n\n.mode-switcher button {\n  padding: 5px 10px;\n  background-color: #fff;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  cursor: pointer;\n  font-size: 14px;\n}\n\n.mode-switcher button:hover {\n  background-color: #f0f0f0;\n}\n\n.calcuwulator-buttons {\n  padding: 5px;\n}\n\n.main-grid {\n  display: flex;\n}\n\n.number-pad {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 3px;\n  flex: 3;\n}\n\n.number-pad .zero {\n  grid-column: span 2;\n}\n\n.operations {\n  display: grid;\n  grid-template-columns: repeat(1, 1fr);\n  gap: 3px;\n  flex: 1;\n  margin-left: 3px;\n}\n\n.calcuwulator-buttons button {\n  padding: 10px;\n  font-size: 16px;\n  border: 1px solid #000;\n  background-color: #f0f0f0;\n  cursor: pointer;\n}\n\n.calcuwulator-buttons button:hover {\n  background-color: #e0e0e0;\n}\n\n.calcuwulator-buttons button:active {\n  background-color: #d0d0d0;\n}\n\n/* Adjustments for different modes */\n.calcuwulator.scientific .top-row,\n.calcuwulator.financial .top-row {\n  display: flex;\n  justify-content: space-between;\n  gap: 10px;\n  margin: 10px 5px;\n  padding: 0 5px;\n}\n\n.calcuwulator.scientific .top-row button,\n.calcuwulator.financial .top-row button {\n  flex: 1;\n  padding: 12px 8px;\n  font-size: 16px;\n  font-weight: bold;\n  min-width: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  background-color: #e0e0e0;\n  border: 1px solid #999;\n  border-radius: 4px;\n}\n\n.calcuwulator.scientific .top-row button:hover,\n.calcuwulator.financial .top-row button:hover {\n  background-color: #d0d0d0;\n}\n\n.calcuwulator.scientific .top-row button:active,\n.calcuwulator.financial .top-row button:active {\n  background-color: #c0c0c0;\n}\n\n.calcuwulator.scientific .operations,\n.calcuwulator.financial .operations {\n  grid-template-columns: repeat(2, 1fr);\n}\n\n.simple-calculator .main-grid {\n  display: flex;\n}\n\n.simple-calculator .number-pad {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 3px;\n  flex: 3;\n}\n\n.simple-calculator .number-pad .zero {\n  grid-column: span 2;\n}\n\n.simple-calculator .operations {\n  display: grid;\n  grid-template-columns: 1fr;\n  gap: 3px;\n  flex: 1;\n  margin-left: 3px;\n}\n\n.simple-calculator .operations button:last-child {\n  background-color: #4CAF50;\n  color: white;\n}\n\n/* Adjustments for scientific and financial calculators */\n.calcuwulator.scientific .calcuwulator-buttons,\n.calcuwulator.financial .calcuwulator-buttons {\n  font-size: 14px;\n}\n\n.calcuwulator.scientific .calcuwulator-buttons button,\n.calcuwulator.financial .calcuwulator-buttons button {\n  padding: 8px 4px;\n  font-size: 14px;\n}\n\n.calcuwulator.scientific .top-row button,\n.calcuwulator.financial .top-row button {\n  padding: 12px 8px;\n  font-size: 16px;\n  font-weight: bold;\n}\n\n.calcuwulator.scientific .calcuwulator-buttons,\n.calcuwulator.financial .calcuwulator-buttons {\n  font-size: 14px;\n}\n\n.calcuwulator.scientific .calcuwulator-buttons button,\n.calcuwulator.financial .calcuwulator-buttons button {\n  padding: 8px 4px;\n  font-size: 14px;\n}\n\n.calcuwulator.scientific .top-row button,\n.calcuwulator.financial .top-row button {\n  padding: 12px 8px;\n  font-size: 16px;\n  font-weight: bold;\n}\n\n/* Increase the overall size of the calculator for scientific and financial modes */\n.calcuwulator.scientific,\n.calcuwulator.financial {\n  width: 450px;\n}\n\n/* Adjust the main grid layout for scientific and financial modes */\n.calcuwulator.scientific .main-grid,\n.calcuwulator.financial .main-grid {\n  display: grid;\n  grid-template-columns: 3fr 2fr;\n  gap: 8px;\n  padding: 0 5px;\n}\n\n.calcuwulator.scientific .number-pad,\n.calcuwulator.financial .number-pad {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 8px;\n}\n\n.calcuwulator.scientific .operations,\n.calcuwulator.financial .operations {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 8px;\n}\n\n@media (max-width: 768px) {\n  .window.calcuwulator.fullscreen-mobile {\n    width: 100vw !important;\n    height: 100vh !important;\n  }\n}\n\n.calcuwulator {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.display {\n  background-color: #f0f0f0;\n  padding: 10px;\n  font-size: 24px;\n  text-align: right;\n  margin-bottom: 10px;\n}\n\n.keypad {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 5px;\n}\n\n.keypad button {\n  padding: 10px;\n  font-size: 18px;\n  background-color: #e0e0e0;\n  border: 1px solid #ccc;\n  cursor: pointer;\n}\n\n.keypad button:hover {\n  background-color: #d0d0d0;\n}",""]);const s=a},2810:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([e.id,".calendar {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 10px;\n}\n\n.header button {\n  background: none;\n  border: none;\n  font-size: 18px;\n  cursor: pointer;\n}\n\n.header h2 {\n  margin: 0;\n  font-size: 18px;\n}\n\n.days-of-week {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  background-color: #e0e0e0;\n  padding: 5px 0;\n  margin-bottom: 5px;\n}\n\n.day-of-week {\n  text-align: center;\n  font-weight: bold;\n  font-size: 14px;\n}\n\n.days-grid {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: 1px;\n  background-color: #d0d0d0;\n  flex-grow: 1;\n  margin-bottom: 10px;\n}\n\n.day, .empty-day {\n  background-color: #ffffff;\n  text-align: center;\n  padding: 5px;\n  font-size: 14px;\n  cursor: pointer;\n}\n\n.day:hover {\n  background-color: #f0f0f0;\n}\n\n.day.has-event {\n  background-color: #ffe0e0;\n}\n\n.day.selected {\n  background-color: #e0e0ff;\n}\n\n.event-form {\n  display: flex;\n  margin-bottom: 10px;\n}\n\n.event-form input {\n  flex-grow: 1;\n  margin-right: 5px;\n  padding: 5px;\n}\n\n.event-form button {\n  padding: 5px 10px;\n  cursor: pointer;\n}\n\n.events-list {\n  background-color: #f0f0f0;\n  padding: 10px;\n  border-radius: 5px;\n}\n\n.events-list h3 {\n  margin-top: 0;\n  font-size: 16px;\n}\n\n.events-list ul {\n  list-style-type: none;\n  padding: 0;\n}\n\n.events-list li {\n  margin-bottom: 5px;\n}\n\n@media (max-width: 768px) {\n  .window.calendar.fullscreen-mobile {\n    width: 100vw !important;\n    height: 100vh !important;\n  }\n}",""]);const s=a},4932:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([e.id,".file-explorer {\n  background-color: #f0f0f0;\n  border: 1px solid #000;\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);\n  display: flex;\n  flex-direction: column;\n}\n\n.file-explorer-header {\n  background-color: #000080;\n  color: #fff;\n  padding: 5px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.file-explorer-content {\n  flex-grow: 1;\n  overflow: auto;\n  padding: 10px;\n}\n\n.icon-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); /* Increased from 80px to 100px */\n  gap: 15px; /* Increased from 10px to 15px */\n}\n\n.app-icon {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  background: none;\n  border: none;\n  cursor: pointer;\n  padding: 5px;\n  text-align: center;\n  z-index: 1001;\n  width: 100%;\n  height: 100px; /* Set a fixed height */\n}\n\n.app-icon .icon {\n  font-size: 32px;\n  margin-bottom: 5px;\n}\n\n.app-icon .name {\n  font-size: 12px;\n  word-wrap: break-word;\n  max-width: 100%;\n  overflow-wrap: break-word;\n  hyphens: auto;\n  line-height: 1.2;\n  max-height: 2.4em; /* Allows for 2 lines of text */\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n\n@media (max-width: 768px) {\n  .file-explorer.fullscreen-mobile {\n    top: 40px;\n    left: 0;\n    width: 100%;\n    height: calc(100% - 40px);\n  }\n\n  .icon-grid {\n    grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); /* Adjust for mobile */\n  }\n\n  .app-icon {\n    height: 80px; /* Adjust height for mobile */\n  }\n\n  .app-icon .icon {\n    font-size: 28px; /* Slightly smaller icon for mobile */\n  }\n\n  .app-icon .name {\n    font-size: 11px; /* Slightly smaller text for mobile */\n  }\n}",""]);const s=a},867:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([e.id,".memoji-minesweeper-container {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.game-controls {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px;\n  flex-wrap: wrap;\n}\n\n.players {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  margin-bottom: 10px;\n}\n\n.player {\n  margin: 0 5px;\n  font-size: 12px;\n}\n\n.grid-container {\n  flex-grow: 1;\n  overflow: auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 10px;\n}\n\n.grid {\n  display: grid;\n  gap: 1px;\n  background-color: #bdbdbd;\n  border: 2px solid #7b7b7b;\n  padding: 2px;\n  max-width: 100%;\n  max-height: 100%;\n  aspect-ratio: 1 / 1;\n}\n\n.cell {\n  aspect-ratio: 1 / 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-weight: bold;\n  background-color: #ddd;\n  border: 1px solid #999;\n  cursor: pointer;\n  font-size: inherit;\n  padding: 0;\n}\n\n.cell.revealed {\n  background-color: #fff;\n}\n\n.cell:hover:not(:disabled) {\n  background-color: #d0d0d0;\n}\n\n.cell:disabled {\n  cursor: not-allowed;\n}\n\n.cell.mine {\n  background-color: #f00;\n}\n\n.game-over, .game-won {\n  font-size: 18px;\n  font-weight: bold;\n  margin-bottom: 10px;\n}\n\n.game-over {\n  color: red;\n}\n\n.game-won {\n  color: green;\n}\n\n.new-game-button {\n  padding: 8px 16px;\n  font-size: 14px;\n  background-color: #4CAF50;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n}\n\n.new-game-button:hover {\n  background-color: #45a049;\n}\n\n@media (max-width: 768px) {\n  .memoji-minesweeper-window {\n    width: 100% !important;\n    height: 100% !important;\n    margin-top: 0 !important;\n  }\n\n  .react-draggable {\n    position: fixed !important;\n    top: 0 !important;\n    left: 0 !important;\n    width: 100% !important;\n    height: 100% !important;\n    min-height: 100% !important; /* Override the min-height */\n    transform: none !important;\n  }\n\n  .memoji-minesweeper {\n    height: 100%;\n  }\n\n  .grid-container {\n    height: calc(100% - 100px); /* Adjust this value based on your controls height */\n    padding: 5px;\n  }\n\n  .grid {\n    width: 95vmin;\n    height: 95vmin;\n  }\n\n  .cell {\n    font-size: 2.5vmin;\n  }\n}",""]);const s=a},9462:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([e.id,".menu-bar {\n  background-color: #f0f0f0;\n  padding: 10px;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  border-bottom: 1px solid #ccc;\n}\n\n.menu-bar button {\n  margin-right: 10px;\n  padding: 5px 10px;\n  font-family: 'ChicagoFLF', 'Courier New', monospace;\n  background-color: #DDDDDD;\n  border: 1px solid #000;\n  cursor: pointer;\n}\n\n.menu-bar button:active {\n  background-color: #BBBBBB;\n}\n\n.version {\n  margin-left: auto;\n  font-family: 'ChicagoFLF', 'Courier New', monospace;\n  font-size: 12px;\n  color: #666;\n}\n\n.menu-item {\n  position: relative;\n}\n\n.dropdown-menu {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  background-color: #f0f0f0;\n  border: 1px solid #000;\n  z-index: 1000;\n}\n\n.dropdown-menu button {\n  display: block;\n  width: 100%;\n  text-align: left;\n  padding: 5px 10px;\n  border: none;\n  background: none;\n  cursor: pointer;\n}\n\n.dropdown-menu button:hover {\n  background-color: #f0f0f0;\n}",""]);const s=a},4265:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([e.id,".notepad {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.notepad-textarea {\n  flex-grow: 1;\n  width: 100%;\n  height: 100%;\n  resize: none;\n  border: none;\n  padding: 10px;\n  font-family: 'ChicagoFLF', 'Courier New', monospace;\n  font-size: 14px;\n}\n\n.notepad-textarea:focus {\n  outline: none;\n}\n\n@media (max-width: 768px) {\n  .window.notepad.fullscreen-mobile {\n    width: 100vw !important;\n    height: 100vh !important;\n  }\n}",""]);const s=a},4046:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([e.id,".paint {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow: hidden;\n}\n\n.paint-controls {\n  display: flex;\n  justify-content: space-around;\n  padding: 10px;\n  background-color: #f0f0f0;\n}\n\n.paint-controls input,\n.paint-controls button {\n  margin: 0 5px;\n}\n\n.paint canvas {\n  flex-grow: 1;\n  background-color: white;\n  cursor: crosshair;\n}\n\n@media (max-width: 768px) {\n  .window.paint.fullscreen-mobile {\n    width: 100vw !important;\n    height: 100vh !important;\n  }\n  \n  .paint-controls {\n    flex-wrap: wrap;\n  }\n  \n  .paint-controls input,\n  .paint-controls button {\n    margin: 5px;\n  }\n}",""]);const s=a},5709:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([e.id,".purity-finance {\n  width: 80%;\n  height: 80%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.purity-finance .window-content {\n  padding: 0;\n  height: calc(100% - 30px); /* Adjust based on your header height */\n}\n\n.purity-finance iframe {\n  width: 100%;\n  height: 100%;\n  border: none;\n}\n\n.purity-finance-container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.purity-finance-iframe {\n  flex: 1;\n  width: 100%;\n  border: none;\n}\n\n.window.purityfinance .window-inner {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.window.purityfinance .window-content {\n  flex: 1;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n}\n\n@media (max-width: 768px) {\n  .window.purityfinance.fullscreen-mobile {\n    width: 100vw !important;\n    height: 100vh !important;\n  }\n}",""]);const s=a},7333:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o),s=n(4417),l=n.n(s),u=new URL(n(9224),n.b),c=a()(i()),d=l()(u);c.push([e.id,`.resizable-window {\n  background-color: #f0f0f0;\n  border: 1px solid #ccc;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n  position: absolute;\n}\n\n.resizable-window-header {\n  display: flex;\n  align-items: center;\n  background-color: #e0e0e0;\n  padding: 5px;\n  cursor: move;\n  user-select: none;\n}\n\n.close-button {\n  background: none;\n  border: none;\n  font-size: 18px;\n  cursor: pointer;\n  padding: 0 5px;\n  margin-left: auto;\n}\n\n.window-title {\n  flex-grow: 1;\n  text-align: center;\n}\n\n.resizable-window-content {\n  height: calc(100% - 30px);\n  overflow: hidden;\n}\n\n.iframe-app .resizable-window-content,\n.iframe-app .resizable-window-content > div,\n.iframe-app iframe {\n  width: 100%;\n  height: 100%;\n  border: none;\n}\n\n\n\n.iframe-app .react-resizable-handle {\n  z-index: 1000;\n}\n\n/* Styling for active dragging state */\n.react-draggable-dragging {\n  opacity: 0.8;\n  z-index: 1001 !important;\n}\n\n/* Resize handle styles */\n.react-resizable-handle {\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  background-repeat: no-repeat;\n  background-origin: content-box;\n  box-sizing: border-box;\n  background-image: url(${d});\n  background-position: bottom right;\n  padding: 0 3px 3px 0;\n}\n\n.react-resizable-handle-se {\n  bottom: 0;\n  right: 0;\n  cursor: se-resize;\n}\n\n@media (max-width: 768px) {\n  .resizable-window.fullscreen-mobile {\n    width: 100% !important;\n    height: calc(100% - 40px) !important;\n    top: 40px !important;\n    left: 0 !important;\n    right: 0 !important;\n    bottom: 0 !important;\n    position: fixed !important;\n  }\n\n  .resizable-window.fullscreen-mobile .react-resizable-handle {\n    display: none;\n  }\n}\n\n@media (min-width: 769px) {\n  .resizable-window {\n    max-width: 90vw;\n    max-height: calc(100vh - 40px);\n  }\n\n  /* Remove all specific styling for iframe apps on desktop */\n  .resizable-window.iframe-app {\n    /* No specific styles here */\n  }\n}`,""]);const h=c},4753:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([e.id,".stickies-container {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  z-index: 1000;\n}\n\n.sticky {\n  position: absolute;\n  width: 200px;\n  height: 200px;\n  padding: 10px;\n  box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n  z-index: 2000;\n  background-color: #ffd700; /* Default color, will be overridden by inline style */\n  pointer-events: auto;\n}\n\n.sticky-header {\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 5px;\n}\n\n.close-sticky {\n  background: none;\n  border: none;\n  font-size: 18px;\n  cursor: pointer;\n  padding: 5px;\n  line-height: 1;\n  width: 25px;\n  height: 25px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  background-color: rgba(255, 255, 255, 0.5);\n}\n\n.close-sticky:hover {\n  background-color: rgba(255, 255, 255, 0.8);\n}\n\n.sticky textarea {\n  width: 100%;\n  height: calc(100% - 30px);\n  border: none;\n  resize: none;\n  font-family: inherit;\n  background: transparent;\n  font-size: 14px;\n}\n\n.sticky textarea:focus {\n  outline: none;\n}\n\n@media (max-width: 768px) {\n  .sticky {\n    width: 150px;\n    height: 150px;\n  }\n\n  .sticky textarea {\n    font-size: 12px;\n  }\n\n  .close-sticky {\n    font-size: 16px;\n  }\n}\n\n.delete-sticky {\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  background: none;\n  border: none;\n  font-size: 18px;\n  cursor: pointer;\n}\n\n/* ... (rest of the styles) */",""]);const s=a},5704:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([e.id,".terminal-container {\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.terminal-icon {\n  font-size: 24px;\n  background: none;\n  border: none;\n  cursor: pointer;\n  width: 64px;\n  height: 64px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color: #000;\n}\n\n.terminal-icon-image {\n  width: 48px;\n  height: 48px;\n  background-color: #000;\n  border: 2px solid #000;\n  border-radius: 5px;\n  position: relative;\n  overflow: hidden;\n}\n\n.terminal-icon-image::before {\n  content: '>';\n  position: absolute;\n  top: 5px;\n  left: 5px;\n  color: #00FF00;\n  font-family: monospace;\n  font-size: 24px;\n}\n\n.terminal-fullscreen {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  z-index: 1000;\n  background-color: #000;\n}\n\n.close-terminal {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  z-index: 1001;\n  background: #BDBDBD;\n  border: 1px solid #FFF;\n  color: #000;\n  font-size: 16px;\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n\n.terminal-fullscreen iframe {\n  width: 100%;\n  height: 100%;\n  border: none;\n}\n\n.terminal .window-content {\n  padding: 0;\n  height: calc(100% - 30px); /* Adjust based on your header height */\n}\n\n.terminal iframe {\n  width: 100%;\n  height: 100%;\n  border: none;\n}\n\n.window.terminal .window-inner {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.window.terminal .window-content {\n  flex: 1;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n}\n\n@media (max-width: 768px) {\n  .window.terminal.fullscreen-mobile {\n    width: 100vw !important;\n    height: 100vh !important;\n  }\n}",""]);const s=a},8667:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([e.id,".tetris-window {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n}\n\n.tetris {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background-color: #f0f0f0;\n  overflow: hidden;\n}\n\n.tetris-content {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  flex-grow: 1;\n  padding: 10px;\n  overflow-y: auto;\n}\n\n.tetris-board-container {\n  width: 100%;\n  max-width: 300px;\n  aspect-ratio: 1 / 2;\n  margin-bottom: 10px;\n}\n\n.tetris-board {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border: 2px solid #333;\n  background-color: #fff;\n  display: grid;\n  grid-template-columns: repeat(10, 1fr);\n  grid-template-rows: repeat(20, 1fr);\n}\n\n.tetris-cell {\n  border: 1px solid #ccc;\n  box-sizing: border-box;\n}\n\n.tetris-cell.I { background-color: cyan; }\n.tetris-cell.O { background-color: yellow; }\n.tetris-cell.T { background-color: purple; }\n.tetris-cell.S { background-color: green; }\n.tetris-cell.Z { background-color: red; }\n.tetris-cell.J { background-color: blue; }\n.tetris-cell.L { background-color: orange; }\n\n.tetris-piece {\n  position: absolute;\n}\n\n.tetris-piece-row {\n  display: contents;\n}\n\n.tetris-piece-cell {\n  position: absolute;\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n}\n\n.tetris-piece-cell.filled {\n  border: 1px solid rgba(0, 0, 0, 0.2);\n}\n\n/* Tetromino colors */\n.I .tetris-piece-cell.filled { background-color: cyan; }\n.O .tetris-piece-cell.filled { background-color: yellow; }\n.T .tetris-piece-cell.filled { background-color: purple; }\n.S .tetris-piece-cell.filled { background-color: green; }\n.Z .tetris-piece-cell.filled { background-color: red; }\n.J .tetris-piece-cell.filled { background-color: blue; }\n.L .tetris-piece-cell.filled { background-color: orange; }\n\n.tetris-controls {\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  max-width: 400px;\n  margin-bottom: 10px;\n}\n\n.tetris-controls button {\n  font-size: 18px;\n  padding: 10px 20px;\n  margin: 0 10px;\n}\n\n.show-leaderboard-button {\n  font-size: 16px;\n  padding: 10px 20px;\n}\n\n.game-over-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.game-over-message {\n  background-color: white;\n  padding: 20px;\n  border-radius: 10px;\n  text-align: center;\n  max-width: 80%;\n  max-height: 80%;\n  overflow-y: auto;\n}\n\n.vanity-number-selector {\n  margin-top: 20px;\n}\n\n.vanity-number-selector input {\n  margin-right: 10px;\n  padding: 5px;\n  width: 100px;\n}\n\n.vanity-number-selector button {\n  margin-top: 10px;\n  padding: 5px 10px;\n}\n\n.game-over-message button,\n.leaderboard button {\n  margin-top: 10px;\n}\n\n.leaderboard {\n  max-width: 80%;\n  max-height: 80%;\n  overflow-y: auto;\n}\n\n.leaderboard table {\n  width: 100%;\n  border-collapse: collapse;\n}\n\n.leaderboard th,\n.leaderboard td {\n  padding: 5px;\n  border: 1px solid #ccc;\n}\n\n.leaderboard .highlighted {\n  background-color: #fffacd;\n}\n\n.close-leaderboard-button {\n  margin-top: 10px;\n}\n\n@media (max-width: 768px) {\n  .tetris-window {\n    width: 100% !important;\n    height: 100% !important;\n    margin-top: 0 !important;\n  }\n\n  .react-draggable {\n    position: fixed !important;\n    top: 0 !important;\n    left: 0 !important;\n    width: 100% !important;\n    height: 100% !important;\n    min-height: 100% !important; /* Override the min-height */\n    transform: none !important;\n  }\n\n  .tetris {\n    height: 100%;\n  }\n\n  .tetris-content {\n    height: calc(100% - 40px); /* Subtract the height of the header */\n    padding: 5px;\n  }\n\n  .tetris-controls button {\n    font-size: 16px;\n    padding: 8px 16px;\n  }\n}",""]);const s=a},5242:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([e.id,".unicorn-pinball {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.game-container {\n  position: relative;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\ncanvas {\n  max-width: 100%;\n  max-height: 100%;\n}\n\n.controls {\n  position: absolute;\n  bottom: 10px;\n  left: 0;\n  right: 0;\n  display: flex;\n  justify-content: space-between;\n  padding: 0 10px;\n}\n\n.flipper-button {\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  background-color: rgba(255, 255, 255, 0.5);\n  border: none;\n  font-size: 12px;\n}\n\n.launch-button {\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  background-color: rgba(255, 255, 255, 0.5);\n  border: none;\n  font-size: 12px;\n  align-self: flex-end;\n}\n\n.game-info {\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  color: white;\n}\n\n.game-over-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color: white;\n}",""]);const s=a},989:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([e.id,".uwuscape {\n  /* Add styles for UwUScape component */\n}\n\n.uwuscape iframe {\n  width: 100%;\n  height: 100%;\n  border: none;\n}\n\n.uwuscape .window-content {\n  padding: 0;\n  height: calc(100% - 30px); /* Adjust based on your header height */\n}\n\n.uwuscape-container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.uwuscape-iframe {\n  flex: 1;\n  width: 100%;\n  border: none;\n}\n\n.window.uwuscape .window-inner {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.window.uwuscape .window-content {\n  flex: 1;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n}\n\n@media (max-width: 768px) {\n  .window.uwuscape.fullscreen-mobile {\n    width: 100vw !important;\n    height: 100vh !important;\n  }\n}",""]);const s=a},9783:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([e.id,".virtual-unicorn {\n  width: 80%;\n  height: 80%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.virtual-unicorn .window-content {\n  padding: 0;\n  height: calc(100% - 30px); /* Adjust based on your header height */\n}\n\n.virtual-unicorn iframe {\n  width: 100%;\n  height: 100%;\n  border: none;\n}\n\n.virtual-unicorn-container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.virtual-unicorn-iframe {\n  flex: 1;\n  width: 100%;\n  border: none;\n}\n\n.window.virtualunicorn .window-inner {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.window.virtualunicorn .window-content {\n  flex: 1;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n}\n\n@media (max-width: 768px) {\n  .window.virtualunicorn.fullscreen-mobile {\n    width: 100vw !important;\n    height: 100vh !important;\n  }\n}",""]);const s=a},6314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&a[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),t.push(c))}},t}},4417:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},1601:e=>{"use strict";e.exports=function(e){return e[1]}},2694:(e,t,n)=>{"use strict";var r=n(6925);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5556:(e,t,n)=>{e.exports=n(2694)()},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2551:(e,t,n)=>{"use strict";var r=n(6540),i=n(9982);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),N=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function z(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=A&&e[A]||e["@@iterator"])?e:null}var O,L=Object.assign;function F(e){if(void 0===O)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var W=!1;function j(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return j(e.type,!1);case 11:return j(e.type.render,!1);case 1:return j(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case x:return"Portal";case S:return"Profiler";case C:return"StrictMode";case I:return"Suspense";case P:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return U(e(t))}catch(e){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,ke=null,Ce=null;function Se(e){if(e=bi(e)){if("function"!=typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=_i(t),xe(e.stateNode,e.type,t))}}function Ee(e){ke?Ce?Ce.push(e):Ce=[e]:ke=e}function Ne(){if(ke){var e=ke,t=Ce;if(Ce=ke=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function Ie(){}var Pe=!1;function Re(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Te(e,t,n)}finally{Pe=!1,(null!==ke||null!==Ce)&&(Ie(),Ne())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var Me=!1;if(c)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(ce){Me=!1}function ze(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Oe=!1,Le=null,Fe=!1,We=null,je={onError:function(e){Oe=!0,Le=e}};function Be(e,t,n,r,i,o,a,s,l){Oe=!1,Le=null,ze.apply(je,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function qe(e){if(Ue(e)!==e)throw Error(o(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return qe(i),e;if(a===r)return qe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ge=i.unstable_shouldYield,Ke=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null,at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2,ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!=(o&=a)&&(r=dt(o))}else 0!=(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&!(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&4194240&o))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return!(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var _t,xt,kt,Ct,St,Et=!1,Nt=[],Tt=null,It=null,Pt=null,Rt=new Map,Dt=new Map,Mt=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Ot(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&null!==(t=bi(t))&&xt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=vi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void St(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Wt(e,t,n){Ft(e)&&n.delete(t)}function jt(){Et=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==It&&Ft(It)&&(It=null),null!==Pt&&Ft(Pt)&&(Pt=null),Rt.forEach(Wt),Dt.forEach(Wt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function Ut(e){function t(t){return Bt(t,e)}if(0<Nt.length){Bt(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Bt(Tt,e),null!==It&&Bt(It,e),null!==Pt&&Bt(Pt,e),Rt.forEach(t),Dt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Mt.shift()}var Ht=w.ReactCurrentBatchConfig,qt=!0;function Vt(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=1,Yt(e,t,n,r)}finally{bt=i,Ht.transition=o}}function $t(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=4,Yt(e,t,n,r)}finally{bt=i,Ht.transition=o}}function Yt(e,t,n,r){if(qt){var i=Gt(e,t,n,r);if(null===i)qr(e,t,r,Qt,n),zt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Ot(Tt,e,t,n,r,i),!0;case"dragenter":return It=Ot(It,e,t,n,r,i),!0;case"mouseover":return Pt=Ot(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Rt.set(o,Ot(Rt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Dt.set(o,Ot(Dt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(zt(e,r),4&t&&-1<At.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&_t(o),null===(o=Gt(e,t,n,r))&&qr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Qt=null;function Gt(e,t,n,r){if(Qt=null,null!==(e=vi(e=_e(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),dn=L({},un,{view:0,detail:0}),hn=on(dn),pn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=on(pn),mn=on(L({},pn,{dataTransfer:0})),gn=on(L({},dn,{relatedTarget:0})),yn=on(L({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),wn=on(L({},un,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Sn(){return Cn}var En=L({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=on(En),Tn=on(L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Pn=on(L({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=L({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=on(Rn),Mn=[9,13,27,32],An=c&&"CompositionEvent"in window,zn=null;c&&"documentMode"in document&&(zn=document.documentMode);var On=c&&"TextEvent"in window&&!zn,Ln=c&&(!An||zn&&8<zn&&11>=zn),Fn=String.fromCharCode(32),Wn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1,Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ee(r),0<(t=$r(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Qn(e){Fr(e,0)}function Gn(e){if(Y(wi(e)))return e}function Kn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"==typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){$n&&($n.detachEvent("onpropertychange",nr),Yn=$n=null)}function nr(e){if("value"===e.propertyName&&Gn(Yn)){var t=[];Vn(t,Yn,e,_e(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,($n=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Yn)}function or(e,t){if("click"===e)return Gn(t)}function ar(e,t){if("input"===e||"change"===e)return Gn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function lr(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||(r="selectionStart"in(r=gr)&&pr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=$r(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},kr={},Cr={};function Sr(e){if(kr[e])return kr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return kr[e]=n[t];return e}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Sr("animationend"),Nr=Sr("animationiteration"),Tr=Sr("animationstart"),Ir=Sr("transitionend"),Pr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Pr.set(e,t),l(t,[e])}for(var Mr=0;Mr<Rr.length;Mr++){var Ar=Rr[Mr];Dr(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Dr(Er,"onAnimationEnd"),Dr(Nr,"onAnimationIteration"),Dr(Tr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Ir,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(zr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,u){if(Be.apply(this,arguments),Oe){if(!Oe)throw Error(o(198));var c=Le;Oe=!1,Le=null,Fe||(Fe=!0,We=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,u),o=l}}}if(Fe)throw e=We,Fe=!1,We=null,e}function Wr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,jr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Kt(t)){case 1:var i=Vt;break;case 4:i=$t;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=vi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=o,i=_e(n),a=[];e:{var s=Pr.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Nn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Er:case Nr:case Tr:l=yn;break;case Ir:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var c=!!(4&t),d=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&null!=(m=De(f,h))&&c.push(Vr(f,m,p))),d)break;f=f.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!vi(u)&&!u[fi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?vi(u):null)&&(u!==(d=Ue(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?s:wi(l),p=null==u?s:wi(u),(s=new c(m,f+"leave",l,n,i)).target=d,s.relatedTarget=p,m=null,vi(i)===r&&((c=new c(h,f+"enter",u,n,i)).target=p,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(h=u,f=0,p=c=l;p;p=Yr(p))f++;for(p=0,m=h;m;m=Yr(m))p++;for(;0<f-p;)c=Yr(c),f--;for(;0<p-f;)h=Yr(h),p--;for(;f--;){if(c===h||null!==h&&c===h.alternate)break e;c=Yr(c),h=Yr(h)}c=null}else c=null;null!==l&&Qr(a,s,l,c,!1),null!==u&&null!==d&&Qr(a,d,u,c,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Kn;else if(qn(s))if(Xn)g=ar;else{g=ir;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Vn(a,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?wi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var v;if(An)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?jn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(v=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Un=!0)),0<(y=$r(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:y}),(v||null!==(v=Bn(n)))&&(b.data=v))),(v=On?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Wn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Wn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!An&&jn(e,t)?(e=en(),Zt=Jt=Xt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=$r(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v)}Fr(a,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $r(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=De(e,n))&&r.unshift(Vr(e,o,i)),null!=(o=De(e,t))&&r.push(Vr(e,o,i))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=De(n,o))&&a.unshift(Vr(n,l,s)):i||null!=(l=De(n,o))&&a.push(Vr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Gr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Xr(e){return("string"==typeof e?e:""+e).replace(Gr,"\n").replace(Kr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,oi="function"==typeof Promise?Promise:void 0,ai="function"==typeof queueMicrotask?queueMicrotask:void 0!==oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,pi="__reactProps$"+di,fi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _i(e){return e[pi]||null}var xi=[],ki=-1;function Ci(e){return{current:e}}function Si(e){0>ki||(e.current=xi[ki],xi[ki]=null,ki--)}function Ei(e,t){ki++,xi[ki]=e.current,e.current=t}var Ni={},Ti=Ci(Ni),Ii=Ci(!1),Pi=Ni;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ni;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Di(e){return null!=e.childContextTypes}function Mi(){Si(Ii),Si(Ti)}function Ai(e,t,n){if(Ti.current!==Ni)throw Error(o(168));Ei(Ti,t),Ei(Ii,n)}function zi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,H(e)||"Unknown",i));return L({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ni,Pi=Ti.current,Ei(Ti,e),Ei(Ii,Ii.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=zi(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Si(Ii),Si(Ti),Ei(Ti,e)):Si(Ii),Ei(Ii,n)}var Fi=null,Wi=!1,ji=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function Ui(){if(!ji&&null!==Fi){ji=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Wi=!1}catch(t){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ye(Ze,Ui),t}finally{bt=t,ji=!1}}return null}var Hi=[],qi=0,Vi=null,$i=0,Yi=[],Qi=0,Gi=null,Ki=1,Xi="";function Ji(e,t){Hi[qi++]=$i,Hi[qi++]=Vi,Vi=e,$i=t}function Zi(e,t,n){Yi[Qi++]=Ki,Yi[Qi++]=Xi,Yi[Qi++]=Gi,Gi=e;var r=Ki;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ki=1<<32-at(t)+i|n<<i|r,Xi=o+e}else Ki=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Vi;)Vi=Hi[--qi],Hi[qi]=null,$i=Hi[--qi],Hi[qi]=null;for(;e===Gi;)Gi=Yi[--Qi],Yi[Qi]=null,Xi=Yi[--Qi],Yi[Qi]=null,Ki=Yi[--Qi],Yi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Ru(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Gi?{id:Ki,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ru(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return!(!(1&e.mode)||128&e.flags)}function uo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ui(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw po(),Error(o(418));for(;t;)ao(e,t),t=ui(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ui(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ui(e.nextSibling)}function fo(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function yo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Mu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===D&&bo(o)===t.type)?((r=i(t,n.props)).ref=yo(e,t,n),r.return=e,r):((r=Au(n.type,n.key,n.props,null,e.mode,r)).ref=yo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=zu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Lu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Au(t.type,t.key,t.props,null,e.mode,n)).ref=yo(e,null,t),n.return=e,n;case x:return(t=Fu(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||z(t))return(t=zu(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?u(e,t,n,r):null;case x:return n.key===i?c(e,t,n,r):null;case D:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||z(n))return null!==i?null:d(e,t,n,r,null);vo(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||z(r))return d(t,e=e.get(n)||null,r,i,null);vo(t,r)}return null}function m(i,o,s,l){for(var u=null,c=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=p(i,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),o=a(y,o,m),null===c?u=y:c.sibling=y,c=y,d=g}if(m===s.length)return n(i,d),io&&Ji(i,m),u;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(o=a(d,o,m),null===c?u=d:c.sibling=d,c=d);return io&&Ji(i,m),u}for(d=r(i,d);m<s.length;m++)null!==(g=f(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,m),u}function g(i,s,l,u){var c=z(l);if("function"!=typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=p(i,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===d?c=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),io&&Ji(i,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,u))&&(s=a(v,s,g),null===d?c=v:d.sibling=v,d=v);return io&&Ji(i,g),c}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=f(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===d?c=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(i,e)})),io&&Ji(i,g),c}return function e(r,o,a,l){if("object"==typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var u=a.key,c=o;null!==c;){if(c.key===u){if((u=a.type)===k){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===D&&bo(u)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=yo(r,c,a),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===k?((o=zu(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Au(a.type,a.key,a.props,null,r.mode,l)).ref=yo(r,o,a),l.return=r,r=l)}return s(r);case x:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fu(a,r.mode,l)).return=r,r=o}return s(r);case D:return e(r,o,(c=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(z(a))return g(r,o,a,l);vo(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Lu(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var _o=wo(!0),xo=wo(!1),ko=Ci(null),Co=null,So=null,Eo=null;function No(){Eo=So=Co=null}function To(e){var t=ko.current;Si(ko),e._currentValue=t}function Io(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Po(e,t){Co=e,Eo=So=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ro(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},null===So){if(null===Co)throw Error(o(308));So=e,Co.dependencies={lanes:0,firstContext:e}}else So=So.next=e;return t}var Do=null;function Mo(e){null===Do?Do=[e]:Do.push(e)}function Ao(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Mo(t)):(n.next=i.next,i.next=n),t.interleaved=n,zo(e,r)}function zo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oo=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Tl){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,zo(e,n)}return null===(i=r.interleaved)?(t.next=t,Mo(r)):(t.next=i.next,i.next=t),r.interleaved=t,zo(e,n)}function Bo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ho(e,t,n,r){var i=e.updateQueue;Oo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;null!==c&&(s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l)}if(null!==o){var d=i.baseState;for(a=0,c=u=l=null,s=o;;){var h=s.lane,p=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(h=t,p=n,m.tag){case 1:if("function"==typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(h="function"==typeof(f=m.payload)?f.call(p,d,h):f))break e;d=L({},d,h);break e;case 2:Oo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=p,l=d):c=c.next=p,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ol|=a,e.lanes=a,e.memoizedState=d}}function qo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var Vo={},$o=Ci(Vo),Yo=Ci(Vo),Qo=Ci(Vo);function Go(e){if(e===Vo)throw Error(o(174));return e}function Ko(e,t){switch(Ei(Qo,t),Ei(Yo,e),Ei($o,Vo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si($o),Ei($o,t)}function Xo(){Si($o),Si(Yo),Si(Qo)}function Jo(e){Go(Qo.current);var t=Go($o.current),n=le(t,e.type);t!==n&&(Ei(Yo,e),Ei($o,n))}function Zo(e){Yo.current===e&&(Si($o),Si(Yo))}var ea=Ci(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=w.ReactCurrentDispatcher,oa=w.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ua=null,ca=!1,da=!1,ha=0,pa=0;function fa(){throw Error(o(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Za:es,e=n(r,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(o(301));a+=1,ua=la=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(da)}if(ia.current=Ja,t=null!==la&&null!==la.next,aa=0,ua=la=sa=null,ca=!1,t)throw Error(o(300));return e}function ya(){var e=0!==ha;return ha=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ua?sa.memoizedState=ua=e:ua=ua.next=e,ua}function ba(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ua?sa.memoizedState:ua.next;if(null!==t)ua=t,la=e;else{if(null===e)throw Error(o(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ua?sa.memoizedState=ua=e:ua=ua.next=e}return ua}function wa(e,t){return"function"==typeof t?t(e):t}function _a(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,u=null,c=a;do{var d=c.lane;if((aa&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,s=r):u=u.next=h,sa.lanes|=d,Ol|=d}c=c.next}while(null!==c&&c!==a);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Ol|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ka(){}function Ca(e,t){var n=sa,r=ba(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Oa(Na.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ua&&1&ua.memoizedState.tag){if(n.flags|=2048,Ra(9,Ea.bind(null,n,r,i,t),void 0,null),null===Il)throw Error(o(349));30&aa||Sa(n,t,i)}return i}function Sa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ea(e,t,n,r){t.value=n,t.getSnapshot=r,Ta(t)&&Ia(e)}function Na(e,t,n){return n((function(){Ta(t)&&Ia(e)}))}function Ta(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(e){return!0}}function Ia(e){var t=zo(e,1);null!==t&&nu(t,e,1,-1)}function Pa(e){var t=va();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Qa.bind(null,sa,e),[t.memoizedState,e]}function Ra(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Da(){return ba().memoizedState}function Ma(e,t,n,r){var i=va();sa.flags|=e,i.memoizedState=Ra(1|t,n,void 0,void 0===r?null:r)}function Aa(e,t,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==r&&ma(r,a.deps))return void(i.memoizedState=Ra(t,n,o,r))}sa.flags|=e,i.memoizedState=Ra(1|t,n,o,r)}function za(e,t){return Ma(8390656,8,e,t)}function Oa(e,t){return Aa(2048,8,e,t)}function La(e,t){return Aa(4,2,e,t)}function Fa(e,t){return Aa(4,4,e,t)}function Wa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ja(e,t,n){return n=null!=n?n.concat([e]):null,Aa(4,4,Wa.bind(null,t,e),n)}function Ba(){}function Ua(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ha(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qa(e,t,n){return 21&aa?(sr(n,t)||(n=mt(),sa.lanes|=n,Ol|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n)}function Va(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{bt=n,oa.transition=r}}function $a(){return ba().memoizedState}function Ya(e,t,n){var r=tu(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ga(e)?Ka(t,n):null!==(n=Ao(e,t,n,r))&&(nu(n,e,r,eu()),Xa(n,t,r))}function Qa(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ga(e))Ka(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Mo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(e){}null!==(n=Ao(e,t,i,r))&&(nu(n,e,r,i=eu()),Xa(n,t,r))}}function Ga(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ka(e,t){da=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ja={readContext:Ro,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},Za={readContext:Ro,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Ro,useEffect:za,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ma(4194308,4,Wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ma(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ya.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Pa,useDebugValue:Ba,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Pa(!1),t=e[0];return e=Va.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=va();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Il)throw Error(o(349));30&aa||Sa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,za(Na.bind(null,r,a,e),[e]),r.flags|=2048,Ra(9,Ea.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Il.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Ki&~(1<<32-at(Ki)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ro,useCallback:Ua,useContext:Ro,useEffect:Oa,useImperativeHandle:ja,useInsertionEffect:La,useLayoutEffect:Fa,useMemo:Ha,useReducer:_a,useRef:Da,useState:function(){return _a(wa)},useDebugValue:Ba,useDeferredValue:function(e){return qa(ba(),la.memoizedState,e)},useTransition:function(){return[_a(wa)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ca,useId:$a,unstable_isNewReconciler:!1},ts={readContext:Ro,useCallback:Ua,useContext:Ro,useEffect:Oa,useImperativeHandle:ja,useInsertionEffect:La,useLayoutEffect:Fa,useMemo:Ha,useReducer:xa,useRef:Da,useState:function(){return xa(wa)},useDebugValue:Ba,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:qa(t,la.memoizedState,e)},useTransition:function(){return[xa(wa)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ca,useId:$a,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Wo(r,i);o.payload=t,null!=n&&(o.callback=n),null!==(t=jo(e,o,i))&&(nu(t,e,i,r),Bo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Wo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=jo(e,o,i))&&(nu(t,e,i,r),Bo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Wo(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=jo(e,i,r))&&(nu(t,e,r,n),Bo(t,e,r))}};function os(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&lr(n,r)&&lr(i,o))}function as(e,t,n){var r=!1,i=Ni,o=t.contextType;return"object"==typeof o&&null!==o?o=Ro(o):(i=Di(t)?Pi:Ti.current,o=(r=null!=(r=t.contextTypes))?Ri(e,i):Ni),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Lo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Ro(o):(o=Di(t)?Pi:Ti.current,i.context=Ri(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),Ho(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function us(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function cs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var hs="function"==typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Wo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Vl=r),ds(0,t)},n}function fs(e,t,n){(n=Wo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!=typeof r&&(null===$l?$l=new Set([this]):$l.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Su.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Wo(-1,1)).tag=2,jo(n,t,1))),n.lanes|=1),e)}var vs=w.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?xo(t,null,n,r):_o(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var o=t.ref;return Po(t,i),r=ga(e,t,n,r,o,i),n=ya(),null===e||bs?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||Du(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Au(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ks(e,t,o,r,i))}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return qs(e,t,i)}return t.flags|=1,(e=Mu(o,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,!(e.lanes&i))return t.lanes=e.lanes,qs(e,t,i);131072&e.flags&&(bs=!0)}}return Es(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ml,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ei(Ml,Dl),Dl|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ml,Dl),Dl|=n;else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ei(Ml,Dl),Dl|=r;return ws(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,r,i){var o=Di(n)?Pi:Ti.current;return o=Ri(t,o),Po(t,i),n=ga(e,t,n,r,o,i),r=ya(),null===e||bs?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Ns(e,t,n,r,i){if(Di(n)){var o=!0;Oi(t)}else o=!1;if(Po(t,i),null===t.stateNode)Hs(e,t),as(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;u="object"==typeof u&&null!==u?Ro(u):Ri(t,u=Di(n)?Pi:Ti.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&ss(t,a,r,u),Oo=!1;var h=t.memoizedState;a.state=h,Ho(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ii.current||Oo?("function"==typeof c&&(rs(t,n,c,r),l=t.memoizedState),(s=Oo||os(t,n,s,r,h,l,u))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fo(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ns(t.type,s),a.props=u,d=t.pendingProps,h=a.context,l="object"==typeof(l=n.contextType)&&null!==l?Ro(l):Ri(t,l=Di(n)?Pi:Ti.current);var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,a,r,l),Oo=!1,h=t.memoizedState,a.state=h,Ho(t,r,a,i);var f=t.memoizedState;s!==d||h!==f||Ii.current||Oo?("function"==typeof p&&(rs(t,n,p,r),f=t.memoizedState),(u=Oo||os(t,n,u,r,h,f,l)||!1)?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,o,i)}function Ts(e,t,n,r,i,o){Ss(e,t);var a=!!(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),qs(e,t,o);r=t.stateNode,vs.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=_o(t,e.child,null,o),t.child=_o(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Is(e){var t=e.stateNode;t.pendingContext?Ai(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ai(0,t.context,!1),Ko(e,t.containerInfo)}function Ps(e,t,n,r,i){return fo(),mo(i),t.flags|=256,ws(e,t,n,r),t.child}var Rs,Ds,Ms,As,zs={dehydrated:null,treeContext:null,retryLane:0};function Os(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ei(ea,1&a),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},1&i||null===s?s=Ou(l,i,0,null):(s.childLanes=0,s.pendingProps=l),e=zu(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Os(n),t.memoizedState=zs,e):Fs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Ws(e,t,s,r=cs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Ou({mode:"visible",children:r.children},i,0,null),(a=zu(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,1&t.mode&&_o(t,e.child,null,s),t.child.memoizedState=Os(s),t.memoizedState=zs,a);if(!(1&t.mode))return Ws(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ws(e,t,s,r=cs(a=Error(o(419)),r,void 0))}if(l=!!(s&e.childLanes),bs||l){if(null!==(r=Il)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=i&(r.suspendedLanes|s)?0:i)&&i!==a.retryLane&&(a.retryLane=i,zo(e,i),nu(r,e,i,-1))}return mu(),Ws(e,t,s,r=cs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Nu.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ui(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Yi[Qi++]=Ki,Yi[Qi++]=Xi,Yi[Qi++]=Gi,Ki=e.id,Xi=e.overflow,Gi=t),(t=Fs(t,r.children)).flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:i.children};return 1&l||t.child===a?(i=Mu(a,u)).subtreeFlags=14680064&a.subtreeFlags:((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null),null!==r?s=Mu(r,s):(s=zu(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Os(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=zs,i}return e=(s=e.child).sibling,i=Mu(s,{mode:"visible",children:i.children}),!(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Ou({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ws(e,t,n,r){return null!==r&&mo(r),_o(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function js(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Io(e.return,t,n)}function Bs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Us(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),2&(r=ea.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&js(e,n,t);else if(19===e.tag)js(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(ea,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,o);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Hs(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Mu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $s(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ys(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $s(t),null;case 1:case 17:return Di(t.type)&&Mi(),$s(t),null;case 3:return r=t.stateNode,Xo(),Si(Ii),Si(Ti),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==oo&&(au(oo),oo=null))),Ds(e,t),$s(t),null;case 5:Zo(t);var i=Go(Qo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ms(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return $s(t),null}if(e=Go($o.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[pi]=a,e=!!(1&t.mode),n){case"dialog":Wr("cancel",r),Wr("close",r);break;case"iframe":case"object":case"embed":Wr("load",r);break;case"video":case"audio":for(i=0;i<zr.length;i++)Wr(zr[i],r);break;case"source":Wr("error",r);break;case"img":case"image":case"link":Wr("error",r),Wr("load",r);break;case"details":Wr("toggle",r);break;case"input":K(r,a),Wr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Wr("invalid",r);break;case"textarea":ie(r,a),Wr("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"==typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Wr("scroll",r)}switch(n){case"input":$(r),Z(r,a,!0);break;case"textarea":$(r),ae(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[pi]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Wr("cancel",e),Wr("close",e),i=r;break;case"iframe":case"object":case"embed":Wr("load",e),i=r;break;case"video":case"audio":for(i=0;i<zr.length;i++)Wr(zr[i],e);i=r;break;case"source":Wr("error",e),i=r;break;case"img":case"image":case"link":Wr("error",e),Wr("load",e),i=r;break;case"details":Wr("toggle",e),i=r;break;case"input":K(e,r),i=G(e,r),Wr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Wr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Wr("invalid",e)}for(a in ve(n,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?ge(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===a?"string"==typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"==typeof c&&he(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Wr("scroll",e):null!=c&&b(e,a,c,l))}switch(n){case"input":$(e),Z(e,r,!1);break;case"textarea":$(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $s(t),null;case 6:if(e&&null!=t.stateNode)As(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(n=Go(Qo.current),Go($o.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,!!(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return $s(t),null;case 13:if(Si(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&1&t.mode&&!(128&t.flags))po(),fo(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else fo(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$s(t),a=!1}else null!==oo&&(au(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ea.current?0===Al&&(Al=3):mu())),null!==t.updateQueue&&(t.flags|=4),$s(t),null);case 4:return Xo(),Ds(e,t),null===e&&Ur(t.stateNode.containerInfo),$s(t),null;case 10:return To(t.type._context),$s(t),null;case 19:if(Si(ea),null===(a=t.memoizedState))return $s(t),null;if(r=!!(128&t.flags),null===(l=a.rendering))if(r)Vs(a,!1);else{if(0!==Al||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Vs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Ul&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return $s(t),null}else 2*Xe()-a.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ea.current,Ei(ea,r?1&n|2:1&n),t):($s(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Dl)&&($s(t),6&t.subtreeFlags&&(t.flags|=8192)):$s(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qs(e,t){switch(to(t),t.tag){case 1:return Di(t.type)&&Mi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xo(),Si(Ii),Si(Ti),ra(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Si(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ea),null;case 4:return Xo(),null;case 10:return To(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},Ms=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Go($o.current);var o,a=null;switch(n){case"input":i=G(e,i),r=G(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Zr)}for(c in ve(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Wr("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},As=function(e,t,n,r){n!==r&&(t.flags|=4)};var Gs=!1,Ks=!1,Xs="function"==typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Cu(e,t,n)}else n.current=null}function el(e,t,n){try{n()}catch(n){Cu(e,t,n)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[mi],delete t[gi],delete t[yi]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"==typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(e){}switch(n.tag){case 5:Ks||Zs(n,t);case 6:var r=cl,i=dl;cl=null,hl(e,t,n),dl=i,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ut(e)):li(cl,n.stateNode));break;case 4:r=cl,i=dl,cl=n.stateNode.containerInfo,dl=!0,hl(e,t,n),cl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ks&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(2&o||4&o)&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Ks&&(Zs(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Cu(n,t,e)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ks=(r=Ks)||null!==n.memoizedState,hl(e,t,n),Ks=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Tu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(o(160));pl(a,s,i),cl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(e){Cu(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(t){Cu(e,e.return,t)}try{nl(5,e,e.return)}catch(t){Cu(e,e.return,t)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(t){Cu(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),be(l,s);var c=be(l,a);for(s=0;s<u.length;s+=2){var d=u[s],h=u[s+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,c)}switch(l){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(i,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(t){Cu(e,e.return,t)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(t){Cu(e,e.return,t)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(t){Cu(e,e.return,t)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Xe())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ks=(c=Ks)||d,ml(t,e),Ks=c):ml(t,e),yl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&1&e.mode)for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(f=(p=Js).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Zs(p,p.return);var m=p.stateNode;if("function"==typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){Cu(r,n,e)}}break;case 5:Zs(p,p.return);break;case 22:if(null!==p.memoizedState){_l(h);continue}}null!==f?(f.return=p,Js=f):_l(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,c?"function"==typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=null!=(u=h.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",s))}catch(t){Cu(e,e.return,t)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(t){Cu(e,e.return,t)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&fl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(t){Cu(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Js=e,bl(e,t,n)}function bl(e,t,n){for(var r=!!(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Gs;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ks;s=Gs;var u=Ks;if(Gs=a,(Ks=l)&&!u)for(Js=i;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?xl(i):null!==l?(l.return=a,Js=l):xl(i);for(;null!==o;)Js=o,bl(o,t,n),o=o.sibling;Js=i,Gs=s,Ks=u}wl(e)}else 8772&i.subtreeFlags&&null!==o?(o.return=i,Js=o):wl(e)}}function wl(e){for(;null!==Js;){var t=Js;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Ks||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ks)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&qo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(o(163))}Ks||512&t.flags&&il(t)}catch(e){Cu(t,t.return,e)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function _l(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function xl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(e){Cu(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){Cu(t,i,e)}}var o=t.return;try{il(t)}catch(e){Cu(t,o,e)}break;case 5:var a=t.return;try{il(t)}catch(e){Cu(t,a,e)}}}catch(e){Cu(t,t.return,e)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var kl,Cl=Math.ceil,Sl=w.ReactCurrentDispatcher,El=w.ReactCurrentOwner,Nl=w.ReactCurrentBatchConfig,Tl=0,Il=null,Pl=null,Rl=0,Dl=0,Ml=Ci(0),Al=0,zl=null,Ol=0,Ll=0,Fl=0,Wl=null,jl=null,Bl=0,Ul=1/0,Hl=null,ql=!1,Vl=null,$l=null,Yl=!1,Ql=null,Gl=0,Kl=0,Xl=null,Jl=-1,Zl=0;function eu(){return 6&Tl?Xe():-1!==Jl?Jl:Jl=Xe()}function tu(e){return 1&e.mode?2&Tl&&0!==Rl?Rl&-Rl:null!==go.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Kt(e.type):1}function nu(e,t,n,r){if(50<Kl)throw Kl=0,Xl=null,Error(o(185));yt(e,n,r),2&Tl&&e===Il||(e===Il&&(!(2&Tl)&&(Ll|=n),4===Al&&su(e,Rl)),ru(e,r),1===n&&0===Tl&&!(1&t.mode)&&(Ul=Xe()+500,Wi&&Ui()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?s&n&&!(s&r)||(i[a]=pt(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Il?Rl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Wi=!0,Bi(e)}(lu.bind(null,e)):Bi(lu.bind(null,e)),ai((function(){!(6&Tl)&&Ui()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Iu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Jl=-1,Zl=0,6&Tl)throw Error(o(327));var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=ht(e,e===Il?Rl:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=gu(e,r);else{t=r;var i=Tl;Tl|=2;var a=fu();for(Il===e&&Rl===t||(Hl=null,Ul=Xe()+500,hu(e,t));;)try{vu();break}catch(t){pu(e,t)}No(),Sl.current=a,Tl=i,null!==Pl?t=0:(Il=null,Rl=0,t=Al)}if(0!==t){if(2===t&&0!==(i=ft(e))&&(r=i,t=ou(e,i)),1===t)throw n=zl,hu(e,0),su(e,r),ru(e,Xe()),n;if(6===t)su(e,r);else{if(i=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)||(t=gu(e,r),2===t&&(a=ft(e),0!==a&&(r=a,t=ou(e,a))),1!==t)))throw n=zl,hu(e,0),su(e,r),ru(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:_u(e,jl,Hl);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=Bl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_u.bind(null,e,jl,Hl),t);break}_u(e,jl,Hl);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=ri(_u.bind(null,e,jl,Hl),r);break}_u(e,jl,Hl);break;default:throw Error(o(329))}}}return ru(e,Xe()),e.callbackNode===n?iu.bind(null,e):null}function ou(e,t){var n=Wl;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=jl,jl=n,null!==t&&au(t)),e}function au(e){null===jl?jl=e:jl.push.apply(jl,e)}function su(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(6&Tl)throw Error(o(327));xu();var t=ht(e,0);if(!(1&t))return ru(e,Xe()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=zl,hu(e,0),su(e,t),ru(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_u(e,jl,Hl),ru(e,Xe()),null}function uu(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Ul=Xe()+500,Wi&&Ui())}}function cu(e){null!==Ql&&0===Ql.tag&&!(6&Tl)&&xu();var t=Tl;Tl|=1;var n=Nl.transition,r=bt;try{if(Nl.transition=null,bt=1,e)return e()}finally{bt=r,Nl.transition=n,!(6&(Tl=t))&&Ui()}}function du(){Dl=Ml.current,Si(Ml)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Mi();break;case 3:Xo(),Si(Ii),Si(Ti),ra();break;case 5:Zo(r);break;case 4:Xo();break;case 13:case 19:Si(ea);break;case 10:To(r.type._context);break;case 22:case 23:du()}n=n.return}if(Il=e,Pl=e=Mu(e.current,null),Rl=Dl=t,Al=0,zl=null,Fl=Ll=Ol=0,jl=Wl=null,null!==Do){for(t=0;t<Do.length;t++)if(null!==(r=(n=Do[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Do=null}return e}function pu(e,t){for(;;){var n=Pl;try{if(No(),ia.current=Ja,ca){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(aa=0,ua=la=sa=null,da=!1,ha=0,El.current=null,null===n||null===n.return){Al=1,zl=t,Pl=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=Rl,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,d=l,h=d.tag;if(!(1&d.mode||0!==h&&11!==h&&15!==h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=gs(s);if(null!==f){f.flags&=-257,ys(f,s,l,0,t),1&f.mode&&ms(a,c,t),u=c;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(!(1&t)){ms(a,c,t),mu();break e}u=Error(o(426))}else if(io&&1&l.mode){var y=gs(s);if(null!==y){!(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),mo(us(u,l));break e}}a=u=us(u,l),4!==Al&&(Al=2),null===Wl?Wl=[a]:Wl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Uo(a,ps(0,u,t));break e;case 1:l=u;var v=a.type,b=a.stateNode;if(!(128&a.flags||"function"!=typeof v.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==$l&&$l.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Uo(a,fs(a,l,t));break e}}a=a.return}while(null!==a)}wu(n)}catch(e){t=e,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function fu(){var e=Sl.current;return Sl.current=Ja,null===e?Ja:e}function mu(){0!==Al&&3!==Al&&2!==Al||(Al=4),null===Il||!(268435455&Ol)&&!(268435455&Ll)||su(Il,Rl)}function gu(e,t){var n=Tl;Tl|=2;var r=fu();for(Il===e&&Rl===t||(Hl=null,hu(e,t));;)try{yu();break}catch(t){pu(e,t)}if(No(),Tl=n,Sl.current=r,null!==Pl)throw Error(o(261));return Il=null,Rl=0,Al}function yu(){for(;null!==Pl;)bu(Pl)}function vu(){for(;null!==Pl&&!Ge();)bu(Pl)}function bu(e){var t=kl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?wu(e):Pl=t,El.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Al=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Ys(n,t,Dl)))return void(Pl=n);if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Al&&(Al=5)}function _u(e,t,n){var r=bt,i=Nl.transition;try{Nl.transition=null,bt=1,function(e,t,n,r){do{xu()}while(null!==Ql);if(6&Tl)throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Il&&(Pl=Il=null,Rl=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Yl||(Yl=!0,Iu(tt,(function(){return xu(),null}))),a=!!(15990&n.flags),15990&n.subtreeFlags||a){a=Nl.transition,Nl.transition=null;var s=bt;bt=1;var l=Tl;Tl|=4,El.current=null,function(e,t){if(ei=qt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(u=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++c===i&&(l=s),p===a&&++d===r&&(u=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Js=t;null!==Js;)if(e=(t=Js).child,1028&t.subtreeFlags&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(e){Cu(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(ti),qt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Ke(),Tl=l,bt=s,Nl.transition=a}else e.current=n;if(Yl&&(Yl=!1,Ql=e,Gl=i),0===(a=e.pendingLanes)&&($l=null),function(e){if(ot&&"function"==typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),ru(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Vl,Vl=null,e;!!(1&Gl)&&0!==e.tag&&xu(),1&(a=e.pendingLanes)?e===Xl?Kl++:(Kl=0,Xl=e):Kl=0,Ui()}(e,t,n,r)}finally{Nl.transition=i,bt=r}return null}function xu(){if(null!==Ql){var e=wt(Gl),t=Nl.transition,n=bt;try{if(Nl.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Gl=0,6&Tl)throw Error(o(331));var i=Tl;for(Tl|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(16&Js.flags){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Js=c;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var p=(d=Js).sibling,f=d.return;if(ol(d),d===c){Js=null;break}if(null!==p){p.return=f,Js=p;break}Js=f}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Js=a}}if(2064&a.subtreeFlags&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(2048&(a=Js).flags)switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Js=v;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var w=(s=Js).child;if(2064&s.subtreeFlags&&null!==w)w.return=s,Js=w;else e:for(s=b;null!==Js;){if(2048&(l=Js).flags)try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(e){Cu(l,l.return,e)}if(l===s){Js=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Js=_;break e}Js=l.return}}if(Tl=i,Ui(),ot&&"function"==typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(e){}r=!0}return r}finally{bt=n,Nl.transition=t}}return!1}function ku(e,t,n){e=jo(e,t=ps(0,t=us(n,t),1),1),t=eu(),null!==e&&(yt(e,1,t),ru(e,t))}function Cu(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===$l||!$l.has(r))){t=jo(t,e=fs(t,e=us(n,e),1),1),e=eu(),null!==t&&(yt(t,1,e),ru(t,e));break}}t=t.return}}function Su(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Rl&n)===n&&(4===Al||3===Al&&(130023424&Rl)===Rl&&500>Xe()-Bl?hu(e,0):Fl|=n),ru(e,t)}function Eu(e,t){0===t&&(1&e.mode?(t=ct,!(130023424&(ct<<=1))&&(ct=4194304)):t=1);var n=eu();null!==(e=zo(e,t))&&(yt(e,t,n),ru(e,n))}function Nu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Eu(e,n)}function Tu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Eu(e,n)}function Iu(e,t){return Ye(e,t)}function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ru(e,t,n,r){return new Pu(e,t,n,r)}function Du(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mu(e,t){var n=e.alternate;return null===n?((n=Ru(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Au(e,t,n,r,i,a){var s=2;if(r=e,"function"==typeof e)Du(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case k:return zu(n.children,i,a,t);case C:s=8,i|=8;break;case S:return(e=Ru(12,n,t,2|i)).elementType=S,e.lanes=a,e;case I:return(e=Ru(13,n,t,i)).elementType=I,e.lanes=a,e;case P:return(e=Ru(19,n,t,i)).elementType=P,e.lanes=a,e;case M:return Ou(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case N:s=9;break e;case T:s=11;break e;case R:s=14;break e;case D:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ru(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function zu(e,t,n,r){return(e=Ru(7,e,r,t)).lanes=n,e}function Ou(e,t,n,r){return(e=Ru(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Lu(e,t,n){return(e=Ru(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=Ru(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ju(e,t,n,r,i,o,a,s,l){return e=new Wu(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ru(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function Bu(e){if(!e)return Ni;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Di(n))return zi(e,n,t)}return t}function Uu(e,t,n,r,i,o,a,s,l){return(e=ju(n,r,!0,e,0,o,0,s,l)).context=Bu(null),n=e.current,(o=Wo(r=eu(),i=tu(n))).callback=null!=t?t:null,jo(n,o,i),e.current.lanes=i,yt(e,i,r),ru(e,r),e}function Hu(e,t,n,r){var i=t.current,o=eu(),a=tu(i);return n=Bu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Wo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=jo(i,t,a))&&(nu(e,i,a,o),Bo(e,i,a)),a}function qu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $u(e,t){Vu(e,t),(e=e.alternate)&&Vu(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)bs=!0;else{if(!(e.lanes&n||128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Is(t),fo();break;case 5:Jo(t);break;case 1:Di(t.type)&&Oi(t);break;case 4:Ko(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ko,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(ea,1&ea.current),t.flags|=128,null):n&t.child.childLanes?Ls(e,t,n):(Ei(ea,1&ea.current),null!==(e=qs(e,t,n))?e.sibling:null);Ei(ea,1&ea.current);break;case 19:if(r=!!(n&t.childLanes),128&e.flags){if(r)return Us(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return qs(e,t,n)}(e,t,n);bs=!!(131072&e.flags)}else bs=!1,io&&1048576&t.flags&&Zi(t,$i,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Ri(t,Ti.current);Po(t,n),i=ga(null,t,r,e,i,n);var a=ya();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(a=!0,Oi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Lo(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=Ts(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Du(e)?1:0;if(null!=e){if((e=e.$$typeof)===T)return 11;if(e===R)return 14}return 2}(r),e=ns(r,e),i){case 0:t=Es(null,t,r,e,n);break e;case 1:t=Ns(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(Is(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fo(e,t),Ho(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ps(e,t,r,n,i=us(Error(o(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=us(Error(o(424)),t));break e}for(ro=ui(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),r===i){t=qs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&uo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Ss(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Ls(e,t,n);case 4:return Ko(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_o(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ei(ko,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ii.current){t=qs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=Wo(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Io(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Io(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Po(t,n),r=r(i=Ro(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),xs(e,t,r,i=ns(r.type,i),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),Hs(e,t),t.tag=1,Di(r)?(e=!0,Oi(t)):e=!1,Po(t,n),as(t,r,i),ls(t,r,i,n),Ts(null,t,r,!0,e,n);case 19:return Us(e,t,n);case 22:return Cs(e,t,n)}throw Error(o(156,t.tag))};var Yu="function"==typeof reportError?reportError:function(e){console.error(e)};function Qu(e){this._internalRoot=e}function Gu(e){this._internalRoot=e}function Ku(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function Zu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"==typeof i){var s=i;i=function(){var e=qu(a);s.call(e)}}Hu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=qu(a);o.call(e)}}var a=Uu(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=a,e[fi]=a.current,Ur(8===e.nodeType?e.parentNode:e),cu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=qu(l);s.call(e)}}var l=ju(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[fi]=l.current,Ur(8===e.nodeType?e.parentNode:e),cu((function(){Hu(t,l,n,r)})),l}(n,t,e,i,r);return qu(a)}Gu.prototype.render=Qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hu(e,t,null,null)},Gu.prototype.unmount=Qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Hu(null,e,null,null)})),t[fi]=null}},Gu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Lt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),ru(t,Xe()),!(6&Tl)&&(Ul=Xe()+500,Ui()))}break;case 13:cu((function(){var t=zo(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),$u(e,1)}},xt=function(e){if(13===e.tag){var t=zo(e,134217728);null!==t&&nu(t,e,134217728,eu()),$u(e,134217728)}},kt=function(e){if(13===e.tag){var t=tu(e),n=zo(e,t);null!==n&&nu(n,e,t,eu()),$u(e,t)}},Ct=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(o(90));Y(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uu,Ie=cu;var ec={usingClientEntryPoint:!1,Events:[bi,wi,_i,Ee,Ne,uu]},tc={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),ot=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ku(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ku(e))throw Error(o(299));var n=!1,r="",i=Yu;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=ju(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Qu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(o(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ku(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Yu;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Uu(t,null,e,1,null!=n?n:null,i,0,a,s),e[fi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Gu(t)},t.render=function(e,t,n){if(!Xu(t))throw Error(o(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(o(40));return!!e._reactRootContainer&&(cu((function(){Zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},961:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(2551)},6027:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(6540)),i=h(n(5556)),o=h(n(961)),a=h(n(1322)),s=n(1089),l=n(1726),u=n(7056),c=h(n(6888)),d=h(n(8696));function h(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function m(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends r.Component{static getDerivedStateFromProps(e,t){let{position:n}=e,{prevPropsPosition:r}=t;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:{...n}})}constructor(e){super(e),m(this,"onDragStart",((e,t)=>{if((0,d.default)("Draggable: onDragStart: %j",t),!1===this.props.onStart(e,(0,l.createDraggableData)(this,t)))return!1;this.setState({dragging:!0,dragged:!0})})),m(this,"onDrag",((e,t)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",t);const n=(0,l.createDraggableData)(this,t),r={x:n.x,y:n.y,slackX:0,slackY:0};if(this.props.bounds){const{x:e,y:t}=r;r.x+=this.state.slackX,r.y+=this.state.slackY;const[i,o]=(0,l.getBoundPosition)(this,r.x,r.y);r.x=i,r.y=o,r.slackX=this.state.slackX+(e-r.x),r.slackY=this.state.slackY+(t-r.y),n.x=r.x,n.y=r.y,n.deltaX=r.x-this.state.x,n.deltaY=r.y-this.state.y}if(!1===this.props.onDrag(e,n))return!1;this.setState(r)})),m(this,"onDragStop",((e,t)=>{if(!this.state.dragging)return!1;if(!1===this.props.onStop(e,(0,l.createDraggableData)(this,t)))return!1;(0,d.default)("Draggable: onDragStop: %j",t);const n={dragging:!1,slackX:0,slackY:0};if(Boolean(this.props.position)){const{x:e,y:t}=this.props.position;n.x=e,n.y=t}this.setState(n)})),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var e,t;return null!==(e=null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current)&&void 0!==e?e:o.default.findDOMNode(this)}render(){const{axis:e,bounds:t,children:n,defaultPosition:i,defaultClassName:o,defaultClassNameDragging:u,defaultClassNameDragged:d,position:h,positionOffset:p,scale:m,...g}=this.props;let y={},v=null;const b=!Boolean(h)||this.state.dragging,w=h||i,_={x:(0,l.canDragX)(this)&&b?this.state.x:w.x,y:(0,l.canDragY)(this)&&b?this.state.y:w.y};this.state.isElementSVG?v=(0,s.createSVGTransform)(_,p):y=(0,s.createCSSTransform)(_,p);const x=(0,a.default)(n.props.className||"",o,{[u]:this.state.dragging,[d]:this.state.dragged});return r.createElement(c.default,f({},g,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(n),{className:x,style:{...n.props.style,...y},transform:v}))}}t.default=g,m(g,"displayName","Draggable"),m(g,"propTypes",{...c.default.propTypes,axis:i.default.oneOf(["both","x","y","none"]),bounds:i.default.oneOfType([i.default.shape({left:i.default.number,right:i.default.number,top:i.default.number,bottom:i.default.number}),i.default.string,i.default.oneOf([!1])]),defaultClassName:i.default.string,defaultClassNameDragging:i.default.string,defaultClassNameDragged:i.default.string,defaultPosition:i.default.shape({x:i.default.number,y:i.default.number}),positionOffset:i.default.shape({x:i.default.oneOfType([i.default.number,i.default.string]),y:i.default.oneOfType([i.default.number,i.default.string])}),position:i.default.shape({x:i.default.number,y:i.default.number}),className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),m(g,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})},6888:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(6540)),i=c(n(5556)),o=c(n(961)),a=n(1089),s=n(1726),l=n(7056),u=c(n(8696));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p={start:"touchstart",move:"touchmove",stop:"touchend"},f={start:"mousedown",move:"mousemove",stop:"mouseup"};let m=f;class g extends r.Component{constructor(){super(...arguments),h(this,"dragging",!1),h(this,"lastX",NaN),h(this,"lastY",NaN),h(this,"touchIdentifier",null),h(this,"mounted",!1),h(this,"handleDragStart",(e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=t;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,a.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,a.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;"touchstart"===e.type&&e.preventDefault();const r=(0,a.getTouchIdentifier)(e);this.touchIdentifier=r;const i=(0,s.getControlPosition)(e,r,this);if(null==i)return;const{x:o,y:l}=i,c=(0,s.createCoreData)(this,o,l);(0,u.default)("DraggableCore: handleDragStart: %j",c),(0,u.default)("calling",this.props.onStart),!1!==this.props.onStart(e,c)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,a.addUserSelectStyles)(n),this.dragging=!0,this.lastX=o,this.lastY=l,(0,a.addEvent)(n,m.move,this.handleDrag),(0,a.addEvent)(n,m.stop,this.handleDragStop))})),h(this,"handleDrag",(e=>{const t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,t=r-this.lastY;if([e,t]=(0,s.snapToGrid)(this.props.grid,e,t),!e&&!t)return;n=this.lastX+e,r=this.lastY+t}const i=(0,s.createCoreData)(this,n,r);if((0,u.default)("DraggableCore: handleDrag: %j",i),!1!==this.props.onDrag(e,i)&&!1!==this.mounted)this.lastX=n,this.lastY=r;else try{this.handleDragStop(new MouseEvent("mouseup"))}catch(e){const t=document.createEvent("MouseEvents");t.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(t)}})),h(this,"handleDragStop",(e=>{if(!this.dragging)return;const t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX||0,t=r-this.lastY||0;[e,t]=(0,s.snapToGrid)(this.props.grid,e,t),n=this.lastX+e,r=this.lastY+t}const i=(0,s.createCoreData)(this,n,r);if(!1===this.props.onStop(e,i)||!1===this.mounted)return!1;const o=this.findDOMNode();o&&this.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(o.ownerDocument),(0,u.default)("DraggableCore: handleDragStop: %j",i),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,o&&((0,u.default)("DraggableCore: Removing handlers"),(0,a.removeEvent)(o.ownerDocument,m.move,this.handleDrag),(0,a.removeEvent)(o.ownerDocument,m.stop,this.handleDragStop))})),h(this,"onMouseDown",(e=>(m=f,this.handleDragStart(e)))),h(this,"onMouseUp",(e=>(m=f,this.handleDragStop(e)))),h(this,"onTouchStart",(e=>(m=p,this.handleDragStart(e)))),h(this,"onTouchEnd",(e=>(m=p,this.handleDragStop(e))))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,a.addEvent)(e,p.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,a.removeEvent)(t,f.move,this.handleDrag),(0,a.removeEvent)(t,p.move,this.handleDrag),(0,a.removeEvent)(t,f.stop,this.handleDragStop),(0,a.removeEvent)(t,p.stop,this.handleDragStop),(0,a.removeEvent)(e,p.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(t)}}findDOMNode(){var e,t;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current:o.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}t.default=g,h(g,"displayName","DraggableCore"),h(g,"propTypes",{allowAnyClick:i.default.bool,children:i.default.node.isRequired,disabled:i.default.bool,enableUserSelectHack:i.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:i.default.arrayOf(i.default.number),handle:i.default.string,cancel:i.default.string,nodeRef:i.default.object,onStart:i.default.func,onDrag:i.default.func,onStop:i.default.func,onMouseDown:i.default.func,scale:i.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),h(g,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},5794:(e,t,n)=>{"use strict";const{default:r,DraggableCore:i}=n(6027);e.exports=r,e.exports.default=r,e.exports.DraggableCore=i},1089:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=u,t.addEvent=function(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.addUserSelectStyles=function(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&u(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){const n=l(e,t,"px");return{[(0,i.browserPrefixToKey)("transform",i.default)]:n}},t.createSVGTransform=function(e,t){return l(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,r.findInArray)(e.targetTouches,(e=>t===e.identifier))||e.changedTouches&&(0,r.findInArray)(e.changedTouches,(e=>t===e.identifier))},t.getTouchIdentifier=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0},t.getTranslation=l,t.innerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingTop),t-=(0,r.int)(n.paddingBottom),t},t.innerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingLeft),t-=(0,r.int)(n.paddingRight),t},t.matchesSelector=s,t.matchesSelectorAndParentsTo=function(e,t,n){let r=e;do{if(s(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(e,t,n){const r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(e.clientX+t.scrollLeft-r.left)/n,y:(e.clientY+t.scrollTop-r.top)/n}},t.outerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderTopWidth),t+=(0,r.int)(n.borderBottomWidth),t},t.outerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderLeftWidth),t+=(0,r.int)(n.borderRightWidth),t},t.removeClassName=c,t.removeEvent=function(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.removeUserSelectStyles=function(e){if(e)try{if(e.body&&c(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}};var r=n(7056),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(3514));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}let a="";function s(e,t){return a||(a=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,r.isFunction)(e[t])}))),!!(0,r.isFunction)(e[a])&&e[a](t)}function l(e,t,n){let{x:r,y:i}=e,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){const e="".concat("string"==typeof t.x?t.x:t.x+n),r="".concat("string"==typeof t.y?t.y:t.y+n);o="translate(".concat(e,", ").concat(r,")")+o}return o}function u(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function c(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},3514:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=i,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0,t.getPrefix=r;const n=["Moz","Webkit","O","ms"];function r(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";const r=null===(e=window.document)||void 0===e||null===(e=e.documentElement)||void 0===e?void 0:e.style;if(!r)return"";if(t in r)return"";for(let e=0;e<n.length;e++)if(i(t,n[e])in r)return n[e];return""}function i(e,t){return t?"".concat(t).concat(function(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}t.default=r()},8696:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},1726:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){const i=!(0,r.isNum)(e.lastX),a=o(e);return i?{node:a,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:a,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}},t.createDraggableData=function(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:a}=e.props;a="string"==typeof a?a:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(a);const s=o(e);if("string"==typeof a){const{ownerDocument:e}=s,t=e.defaultView;let n;if(n="parent"===a?s.parentNode:e.querySelector(a),!(n instanceof t.HTMLElement))throw new Error('Bounds selector "'+a+'" could not find an element.');const o=n,l=t.getComputedStyle(s),u=t.getComputedStyle(o);a={left:-s.offsetLeft+(0,r.int)(u.paddingLeft)+(0,r.int)(l.marginLeft),top:-s.offsetTop+(0,r.int)(u.paddingTop)+(0,r.int)(l.marginTop),right:(0,i.innerWidth)(o)-(0,i.outerWidth)(s)-s.offsetLeft+(0,r.int)(u.paddingRight)-(0,r.int)(l.marginRight),bottom:(0,i.innerHeight)(o)-(0,i.outerHeight)(s)-s.offsetTop+(0,r.int)(u.paddingBottom)-(0,r.int)(l.marginBottom)}}return(0,r.isNum)(a.right)&&(t=Math.min(t,a.right)),(0,r.isNum)(a.bottom)&&(n=Math.min(n,a.bottom)),(0,r.isNum)(a.left)&&(t=Math.max(t,a.left)),(0,r.isNum)(a.top)&&(n=Math.max(n,a.top)),[t,n]},t.getControlPosition=function(e,t,n){const r="number"==typeof t?(0,i.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;const a=o(n),s=n.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,i.offsetXYFromParent)(r||e,s,n.props.scale)},t.snapToGrid=function(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]};var r=n(7056),i=n(1089);function o(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},7056:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))},t.findInArray=function(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"==typeof e&&!isNaN(e)}},1322:(e,t,n)=>{"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.r(t),n.d(t,{clsx:()=>i,default:()=>o});const o=i},5287:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator,f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var _=Array.isArray,x=Object.prototype.hasOwnProperty,k={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,i)&&!C.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:k.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+T(l,0):o,_(a)?(i="",null!=e&&(i=e.replace(N,"$&/")+"/"),I(a,t,i,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(N,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",_(e))for(var u=0;u<e.length;u++){var c=o+T(s=e[u],u);l+=I(s,t,i,c,a)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=I(s=s.value,t,i,c=o+T(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},M={transition:null},A={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:M,ReactCurrentOwner:k};function z(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.act=z,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)x.call(t,u)&&!C.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=z,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},6540:(e,t,n)=>{"use strict";e.exports=n(5287)},7463:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function _(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,M(x);else{var t=r(c);null!==t&&A(_,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,v(E),E=-1),f=!0;var o=p;try{for(w(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!I());){var a=h.callback;if("function"==typeof a){h.callback=null,p=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?h.callback=s:h===r(u)&&i(u),w(n)}else i(u);h=r(u)}if(null!==h)var l=!0;else{var d=r(c);null!==d&&A(_,d.startTime-n),l=!1}return l}finally{h=null,p=o,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,C=!1,S=null,E=-1,N=5,T=-1;function I(){return!(t.unstable_now()-T<N)}function P(){if(null!==S){var e=t.unstable_now();T=e;var n=!0;try{n=S(!0,e)}finally{n?k():(C=!1,S=null)}}else C=!1}if("function"==typeof b)k=function(){b(P)};else if("undefined"!=typeof MessageChannel){var R=new MessageChannel,D=R.port2;R.port1.onmessage=P,k=function(){D.postMessage(null)}}else k=function(){y(P,0)};function M(e){S=e,C||(C=!0,k())}function A(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,M(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(g?(v(E),E=-1):g=!0,A(_,o-a))):(e.sortIndex=s,n(u,e),m||f||(m=!0,M(x))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},9982:(e,t,n)=>{"use strict";e.exports=n(7463)},5072:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},a=[],s=0;s<e.length;s++){var l=e[s],u=r.base?l[0]+r.base:l[0],c=o[u]||0,d="".concat(u," ").concat(c);o[u]=c+1;var h=n(d),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(p);else{var f=i(p,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:f,references:1})}a.push(d)}return a}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var s=n(o[a]);t[s].references--}for(var l=r(e,i),u=0;u<o.length;u++){var c=n(o[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}o=l}}},7659:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},5056:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},1113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},9224:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2IDYiIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiNmZmZmZmYwMCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI2cHgiIGhlaWdodD0iNnB4Ij48ZyBvcGFjaXR5PSIwLjMwMiI+PHBhdGggZD0iTSA2IDYgTCAwIDYgTCAwIDQuMiBMIDQgNC4yIEwgNC4yIDQuMiBMIDQuMiAwIEwgNiAwIEwgNiA2IEwgNiA2IFoiIGZpbGw9IiMwMDAwMDAiLz48L2c+PC9zdmc+"},1716:(e,t,n)=>{"use strict";e.exports=n.p+"155ecfce03714f348552.ttf"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=r[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{"use strict";var e=n(6540),t=n(961),r=n(5072),i=n.n(r),o=n(7825),a=n.n(o),s=n(7659),l=n.n(s),u=n(5056),c=n.n(u),d=n(540),h=n.n(d),p=n(1113),f=n.n(p),m=n(9462),g={};g.styleTagTransform=f(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=h(),i()(m.A,g),m.A&&m.A.locals&&m.A.locals;var y=function(t){var n=t.onFileExplorerClick,r=t.isWalletConnected,i=t.onWalletToggle,o=t.isStickiesOpen,a=t.onNewStickyClick,s=t.version,l=(0,e.useState)(!1),u=l[0],c=l[1];return e.createElement("div",{className:"menu-bar"},e.createElement("div",{className:"menu-item"},e.createElement("button",{onClick:function(){return c(!u)}}," File"),u&&e.createElement("div",{className:"dropdown-menu"},e.createElement("button",{onClick:n}," File Explorer"),e.createElement("button",{onClick:i},r?" Disconnect Wallet":" Connect Wallet"))),o&&e.createElement("button",{onClick:a}," New Sticky"),e.createElement("span",{className:"version"},"UnicornOS ",s))},v=n(4932),b={};b.styleTagTransform=f(),b.setAttributes=c(),b.insert=l().bind(null,"head"),b.domAPI=a(),b.insertStyleElement=h(),i()(v.A,b),v.A&&v.A.locals&&v.A.locals;var w=function(t){var n=t.onAppClick,r=t.onClose,i=t.isFullscreenOnMobile,o=void 0===i||i;return e.createElement("div",{className:"file-explorer ".concat(o?"fullscreen-mobile":"")},e.createElement("div",{className:"file-explorer-header"},e.createElement("span",null,"File Explorer"),e.createElement("button",{onClick:r},"")),e.createElement("div",{className:"file-explorer-content"},e.createElement("div",{className:"icon-grid"},[{name:"Calcuwulator",icon:""},{name:"Calendar",icon:""},{name:"Notepad",icon:""},{name:"Paint",icon:""},{name:"Memoji Minesweeper",icon:""},{name:"Bluwumbuwurg",icon:""},{name:"UwUScape",icon:""},{name:"Virtual Unicorn",icon:""},{name:"Black Market Beta",icon:""},{name:"Black Market V2",icon:""},{name:"Black Market V3",icon:""},{name:"Black Market Liquidity",icon:""},{name:"Purity Finance",icon:""},{name:"Buwut Camp",icon:""},{name:"Terminal",icon:""},{name:"Stickies",icon:""},{name:"Tetris",icon:""},{name:"Unicorn Pinball",icon:""}].map((function(t){return e.createElement("button",{key:t.name,className:"app-icon",onClick:function(){return n(t.name)}},e.createElement("span",{className:"icon"},t.icon),e.createElement("span",{className:"name"},t.name))})))))},_=n(5794),x=n.n(_),k=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C=function(){return C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},C.apply(this,arguments)},S={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},E={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},N={width:"20px",height:"20px",position:"absolute"},T={top:C(C({},S),{top:"-5px"}),right:C(C({},E),{left:void 0,right:"-5px"}),bottom:C(C({},S),{top:void 0,bottom:"-5px"}),left:C(C({},E),{left:"-5px"}),topRight:C(C({},N),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:C(C({},N),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:C(C({},N),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:C(C({},N),{left:"-10px",top:"-10px",cursor:"nw-resize"})},I=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.onMouseDown=function(t){e.props.onResizeStart(t,e.props.direction)},e.onTouchStart=function(t){e.props.onResizeStart(t,e.props.direction)},e}return k(n,t),n.prototype.render=function(){return e.createElement("div",{className:this.props.className||"",style:C(C({position:"absolute",userSelect:"none"},T[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},n}(e.PureComponent),P=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),R=function(){return R=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},R.apply(this,arguments)},D={width:"auto",height:"auto"},M=function(e,t,n){return Math.max(Math.min(e,n),t)},A=function(e,t){return Math.round(e/t)*t},z=function(e,t){return new RegExp(e,"i").test(t)},O=function(e){return Boolean(e.touches&&e.touches.length)},L=function(e,t,n){void 0===n&&(n=0);var r=t.reduce((function(n,r,i){return Math.abs(r-e)<Math.abs(t[n]-e)?i:n}),0),i=Math.abs(t[r]-e);return 0===n||i<n?t[r]:e},F=function(e){return"auto"===(e=e.toString())||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:e+"px"},W=function(e,t,n,r){if(e&&"string"==typeof e){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%"))return t*(Number(e.replace("%",""))/100);if(e.endsWith("vw"))return n*(Number(e.replace("vw",""))/100);if(e.endsWith("vh"))return r*(Number(e.replace("vh",""))/100)}return e},j=["as","ref","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],B="__resizable_base__",U=function(n){function r(e){var t,r,i,o,a=n.call(this,e)||this;return a.ratio=1,a.resizable=null,a.parentLeft=0,a.parentTop=0,a.resizableLeft=0,a.resizableRight=0,a.resizableTop=0,a.resizableBottom=0,a.targetLeft=0,a.targetTop=0,a.appendBase=function(){if(!a.resizable||!a.window)return null;var e=a.parentNode;if(!e)return null;var t=a.window.document.createElement("div");return t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0 0 100%",t.classList?t.classList.add(B):t.className+=B,e.appendChild(t),t},a.removeBase=function(e){var t=a.parentNode;t&&t.removeChild(e)},a.state={isResizing:!1,width:null!==(r=null===(t=a.propsSize)||void 0===t?void 0:t.width)&&void 0!==r?r:"auto",height:null!==(o=null===(i=a.propsSize)||void 0===i?void 0:i.height)&&void 0!==o?o:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},a.onResizeStart=a.onResizeStart.bind(a),a.onMouseMove=a.onMouseMove.bind(a),a.onMouseUp=a.onMouseUp.bind(a),a}return P(r,n),Object.defineProperty(r.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"window",{get:function(){return this.resizable&&this.resizable.ownerDocument?this.resizable.ownerDocument.defaultView:null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||D},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"size",{get:function(){var e=0,t=0;if(this.resizable&&this.window){var n=this.resizable.offsetWidth,r=this.resizable.offsetHeight,i=this.resizable.style.position;"relative"!==i&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:r,this.resizable.style.position=i}return{width:e,height:t}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,n=function(t){var n;if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&(null===(n=e.propsSize[t])||void 0===n?void 0:n.toString().endsWith("%"))){if(e.state[t].toString().endsWith("%"))return e.state[t].toString();var r=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/r[t]*100+"%"}return F(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?F(t.width):n("width"),height:t&&void 0!==t.height&&!this.state.isResizing?F(t.height):n("height")}},enumerable:!1,configurable:!0}),r.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var t=!1,n=this.parentNode.style.flexWrap;"wrap"!==n&&(t=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%",e.style.minHeight="100%";var r={width:e.offsetWidth,height:e.offsetHeight};return t&&(this.parentNode.style.flexWrap=n),this.removeBase(e),r},r.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},r.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},r.prototype.componentDidMount=function(){if(this.resizable&&this.window){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:"auto"!==e.flexBasis?e.flexBasis:void 0})}},r.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},r.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||void 0!==n&&"auto"!==n?e:"auto"},r.prototype.calculateNewMaxFromBoundary=function(e,t){var n,r,i=this.props.boundsByDirection,o=this.state.direction,a=i&&z("left",o),s=i&&z("top",o);if("parent"===this.props.bounds){var l=this.parentNode;l&&(n=a?this.resizableRight-this.parentLeft:l.offsetWidth+(this.parentLeft-this.resizableLeft),r=s?this.resizableBottom-this.parentTop:l.offsetHeight+(this.parentTop-this.resizableTop))}else"window"===this.props.bounds?this.window&&(n=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,r=s?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(n=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),r=s?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return n&&Number.isFinite(n)&&(e=e&&e<n?e:n),r&&Number.isFinite(r)&&(t=t&&t<r?t:r),{maxWidth:e,maxHeight:t}},r.prototype.calculateNewSizeFromDirection=function(e,t){var n,r=this.props.scale||1,i=(n=this.props.resizeRatio||1,Array.isArray(n)?n:[n,n]),o=i[0],a=i[1],s=this.state,l=s.direction,u=s.original,c=this.props,d=c.lockAspectRatio,h=c.lockAspectRatioExtraHeight,p=c.lockAspectRatioExtraWidth,f=u.width,m=u.height,g=h||0,y=p||0;return z("right",l)&&(f=u.width+(e-u.x)*o/r,d&&(m=(f-y)/this.ratio+g)),z("left",l)&&(f=u.width-(e-u.x)*o/r,d&&(m=(f-y)/this.ratio+g)),z("bottom",l)&&(m=u.height+(t-u.y)*a/r,d&&(f=(m-g)*this.ratio+y)),z("top",l)&&(m=u.height-(t-u.y)*a/r,d&&(f=(m-g)*this.ratio+y)),{newWidth:f,newHeight:m}},r.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,r){var i=this.props,o=i.lockAspectRatio,a=i.lockAspectRatioExtraHeight,s=i.lockAspectRatioExtraWidth,l=void 0===r.width?10:r.width,u=void 0===n.width||n.width<0?e:n.width,c=void 0===r.height?10:r.height,d=void 0===n.height||n.height<0?t:n.height,h=a||0,p=s||0;if(o){var f=(c-h)*this.ratio+p,m=(d-h)*this.ratio+p,g=(l-p)/this.ratio+h,y=(u-p)/this.ratio+h,v=Math.max(l,f),b=Math.min(u,m),w=Math.max(c,g),_=Math.min(d,y);e=M(e,v,b),t=M(t,w,_)}else e=M(e,l,u),t=M(t,c,d);return{newWidth:e,newHeight:t}},r.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var e=this.parentNode;if(e){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds&&"string"!=typeof this.props.bounds){var n=this.props.bounds.getBoundingClientRect();this.targetLeft=n.left,this.targetTop=n.top}if(this.resizable){var r=this.resizable.getBoundingClientRect(),i=r.left,o=r.top,a=r.right,s=r.bottom;this.resizableLeft=i,this.resizableRight=a,this.resizableTop=o,this.resizableBottom=s}},r.prototype.onResizeStart=function(e,t){if(this.resizable&&this.window){var n,r=0,i=0;if(e.nativeEvent&&function(e){return Boolean((e.clientX||0===e.clientX)&&(e.clientY||0===e.clientY))}(e.nativeEvent)?(r=e.nativeEvent.clientX,i=e.nativeEvent.clientY):e.nativeEvent&&O(e.nativeEvent)&&(r=e.nativeEvent.touches[0].clientX,i=e.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable&&!1===this.props.onResizeStart(e,t,this.resizable))return;this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height;var o=this.window.getComputedStyle(this.resizable);if("auto"!==o.flexBasis){var a=this.parentNode;if(a){var s=this.window.getComputedStyle(a).flexDirection;this.flexDir=s.startsWith("row")?"row":"column",n=o.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var l={original:{x:r,y:i,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:R(R({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:t,flexBasis:n};this.setState(l)}},r.prototype.onMouseMove=function(e){var n=this;if(this.state.isResizing&&this.resizable&&this.window){if(this.window.TouchEvent&&O(e))try{e.preventDefault(),e.stopPropagation()}catch(e){}var r=this.props,i=r.maxWidth,o=r.maxHeight,a=r.minWidth,s=r.minHeight,l=O(e)?e.touches[0].clientX:e.clientX,u=O(e)?e.touches[0].clientY:e.clientY,c=this.state,d=c.direction,h=c.original,p=c.width,f=c.height,m=this.getParentSize(),g=function(e,t,n,r,i,o,a){return r=W(r,e.width,t,n),i=W(i,e.height,t,n),o=W(o,e.width,t,n),a=W(a,e.height,t,n),{maxWidth:void 0===r?void 0:Number(r),maxHeight:void 0===i?void 0:Number(i),minWidth:void 0===o?void 0:Number(o),minHeight:void 0===a?void 0:Number(a)}}(m,this.window.innerWidth,this.window.innerHeight,i,o,a,s);i=g.maxWidth,o=g.maxHeight,a=g.minWidth,s=g.minHeight;var y=this.calculateNewSizeFromDirection(l,u),v=y.newHeight,b=y.newWidth,w=this.calculateNewMaxFromBoundary(i,o);this.props.snap&&this.props.snap.x&&(b=L(b,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(v=L(v,this.props.snap.y,this.props.snapGap));var _=this.calculateNewSizeFromAspectRatio(b,v,{width:w.maxWidth,height:w.maxHeight},{width:a,height:s});if(b=_.newWidth,v=_.newHeight,this.props.grid){var x=A(b,this.props.grid[0]),k=A(v,this.props.grid[1]),C=this.props.snapGap||0;b=0===C||Math.abs(x-b)<=C?x:b,v=0===C||Math.abs(k-v)<=C?k:v}var S={width:b-h.width,height:v-h.height};p&&"string"==typeof p&&(p.endsWith("%")?b=b/m.width*100+"%":p.endsWith("vw")?b=b/this.window.innerWidth*100+"vw":p.endsWith("vh")&&(b=b/this.window.innerHeight*100+"vh")),f&&"string"==typeof f&&(f.endsWith("%")?v=v/m.height*100+"%":f.endsWith("vw")?v=v/this.window.innerWidth*100+"vw":f.endsWith("vh")&&(v=v/this.window.innerHeight*100+"vh"));var E={width:this.createSizeForCssProperty(b,"width"),height:this.createSizeForCssProperty(v,"height")};"row"===this.flexDir?E.flexBasis=E.width:"column"===this.flexDir&&(E.flexBasis=E.height);var N=this.state.width!==E.width,T=this.state.height!==E.height,I=this.state.flexBasis!==E.flexBasis,P=N||T||I;P&&(0,t.flushSync)((function(){n.setState(E)})),this.props.onResize&&P&&this.props.onResize(e,d,this.resizable,S)}},r.prototype.onMouseUp=function(e){var t,n,r=this.state,i=r.isResizing,o=r.direction,a=r.original;if(i&&this.resizable){var s={width:this.size.width-a.width,height:this.size.height-a.height};this.props.onResizeStop&&this.props.onResizeStop(e,o,this.resizable,s),this.props.size&&this.setState({width:null!==(t=this.props.size.width)&&void 0!==t?t:"auto",height:null!==(n=this.props.size.height)&&void 0!==n?n:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:R(R({},this.state.backgroundStyle),{cursor:"auto"})})}},r.prototype.updateSize=function(e){var t,n;this.setState({width:null!==(t=e.width)&&void 0!==t?t:"auto",height:null!==(n=e.height)&&void 0!==n?n:"auto"})},r.prototype.renderResizer=function(){var t=this,n=this.props,r=n.enable,i=n.handleStyles,o=n.handleClasses,a=n.handleWrapperStyle,s=n.handleWrapperClass,l=n.handleComponent;if(!r)return null;var u=Object.keys(r).map((function(n){return!1!==r[n]?e.createElement(I,{key:n,direction:n,onResizeStart:t.onResizeStart,replaceStyles:i&&i[n],className:o&&o[n]},l&&l[n]?l[n]:null):null}));return e.createElement("div",{className:s,style:a},u)},r.prototype.render=function(){var t=this,n=Object.keys(this.props).reduce((function(e,n){return-1!==j.indexOf(n)||(e[n]=t.props[n]),e}),{}),r=R(R(R({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(r.flexBasis=this.state.flexBasis);var i=this.props.as||"div";return e.createElement(i,R({style:r,className:this.props.className},n,{ref:function(e){e&&(t.resizable=e)}}),this.state.isResizing&&e.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},r.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},r}(e.PureComponent),H=function(e,t){return H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},H(e,t)},q=function(){return q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},q.apply(this,arguments)},V={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},$=function(n){function r(e){var t=n.call(this,e)||this;return t.resizingPosition={x:0,y:0},t.offsetFromParent={left:0,top:0},t.resizableElement={current:null},t.originalPosition={x:0,y:0},t.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:e.maxWidth,maxHeight:e.maxHeight},t.onResizeStart=t.onResizeStart.bind(t),t.onResize=t.onResize.bind(t),t.onResizeStop=t.onResizeStop.bind(t),t.onDragStart=t.onDragStart.bind(t),t.onDrag=t.onDrag.bind(t),t.onDragStop=t.onDragStop.bind(t),t.getMaxSizesFromProps=t.getMaxSizesFromProps.bind(t),t}return function(e,t){function n(){this.constructor=e}H(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(r,n),r.prototype.componentDidMount=function(){this.updateOffsetFromParent();var e=this.offsetFromParent,t=e.left,n=e.top,r=this.getDraggablePosition(),i=r.x,o=r.y;this.draggable.setState({x:i-t,y:o-n}),this.forceUpdate()},r.prototype.getDraggablePosition=function(){var e=this.draggable.state;return{x:e.x,y:e.y}},r.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},r.prototype.getParentSize=function(){return this.resizable.getParentSize()},r.prototype.getMaxSizesFromProps=function(){return{maxWidth:void 0===this.props.maxWidth?Number.MAX_SAFE_INTEGER:this.props.maxWidth,maxHeight:void 0===this.props.maxHeight?Number.MAX_SAFE_INTEGER:this.props.maxHeight}},r.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},r.prototype.getOffsetHeight=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/t;case"body":return document.body.offsetHeight/t;default:return e.offsetHeight}},r.prototype.getOffsetWidth=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/t;case"body":return document.body.offsetWidth/t;default:return e.offsetWidth}},r.prototype.onDragStart=function(e,t){this.props.onDragStart&&this.props.onDragStart(e,t);var n=this.getDraggablePosition();if(this.originalPosition=n,this.props.bounds){var r,i=this.getParent(),o=this.props.scale;if("parent"===this.props.bounds)r=i;else{if("body"===this.props.bounds){var a=i.getBoundingClientRect(),s=a.left,l=a.top,u=document.body.getBoundingClientRect(),c=-(s-i.offsetLeft*o-u.left)/o,d=-(l-i.offsetTop*o-u.top)/o,h=(document.body.offsetWidth-this.resizable.size.width*o)/o+c,p=(document.body.offsetHeight-this.resizable.size.height*o)/o+d;return this.setState({bounds:{top:d,right:h,bottom:p,left:c}})}if("window"===this.props.bounds){if(!this.resizable)return;var f=i.getBoundingClientRect(),m=f.left,g=f.top,y=-(m-i.offsetLeft*o)/o,v=-(g-i.offsetTop*o)/o;return h=(window.innerWidth-this.resizable.size.width*o)/o+y,p=(window.innerHeight-this.resizable.size.height*o)/o+v,this.setState({bounds:{top:v,right:h,bottom:p,left:y}})}"string"==typeof this.props.bounds?r=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(r=this.props.bounds)}if(r instanceof HTMLElement&&i instanceof HTMLElement){var b=r.getBoundingClientRect(),w=b.left,_=b.top,x=i.getBoundingClientRect(),k=(w-x.left)/o,C=_-x.top;if(this.resizable){this.updateOffsetFromParent();var S=this.offsetFromParent;this.setState({bounds:{top:C-S.top,right:k+(r.offsetWidth-this.resizable.size.width)-S.left/o,bottom:C+(r.offsetHeight-this.resizable.size.height)-S.top,left:k-S.left/o}})}}}},r.prototype.onDrag=function(e,t){if(this.props.onDrag){var n=this.offsetFromParent,r=n.left,i=n.top;return this.props.dragAxis&&"both"!==this.props.dragAxis?"x"===this.props.dragAxis?this.props.onDrag(e,q(q({},t),{x:t.x+r,y:this.originalPosition.y+i,deltaY:0})):"y"===this.props.dragAxis?this.props.onDrag(e,q(q({},t),{x:this.originalPosition.x+r,y:t.y+i,deltaX:0})):void 0:this.props.onDrag(e,q(q({},t),{x:t.x+r,y:t.y+i}))}},r.prototype.onDragStop=function(e,t){if(this.props.onDragStop){var n=this.offsetFromParent,r=n.left,i=n.top;return this.props.dragAxis&&"both"!==this.props.dragAxis?"x"===this.props.dragAxis?this.props.onDragStop(e,q(q({},t),{x:t.x+r,y:this.originalPosition.y+i,deltaY:0})):"y"===this.props.dragAxis?this.props.onDragStop(e,q(q({},t),{x:this.originalPosition.x+r,y:t.y+i,deltaX:0})):void 0:this.props.onDragStop(e,q(q({},t),{x:t.x+r,y:t.y+i}))}},r.prototype.onResizeStart=function(e,t,n){e.stopPropagation(),this.setState({resizing:!0});var r=this.props.scale,i=this.offsetFromParent,o=this.getDraggablePosition();if(this.resizingPosition={x:o.x+i.left,y:o.y+i.top},this.originalPosition=o,this.props.bounds){var a=this.getParent(),s=void 0;"parent"===this.props.bounds?s=a:"body"===this.props.bounds?s=document.body:"window"===this.props.bounds?s=window:"string"==typeof this.props.bounds?s=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(s=this.props.bounds);var l=this.getSelfElement();if(l instanceof Element&&(s instanceof HTMLElement||s===window)&&a instanceof HTMLElement){var u=this.getMaxSizesFromProps(),c=u.maxWidth,d=u.maxHeight,h=this.getParentSize();if(c&&"string"==typeof c)if(c.endsWith("%")){var p=Number(c.replace("%",""))/100;c=h.width*p}else c.endsWith("px")&&(c=Number(c.replace("px","")));d&&"string"==typeof d&&(d.endsWith("%")?(p=Number(d.replace("%",""))/100,d=h.height*p):d.endsWith("px")&&(d=Number(d.replace("px",""))));var f=l.getBoundingClientRect(),m=f.left,g=f.top,y="window"===this.props.bounds?{left:0,top:0}:s.getBoundingClientRect(),v=y.left,b=y.top,w=this.getOffsetWidth(s),_=this.getOffsetHeight(s),x=t.toLowerCase().endsWith("left"),k=t.toLowerCase().endsWith("right"),C=t.startsWith("top"),S=t.startsWith("bottom");if((x||C)&&this.resizable){var E=(m-v)/r+this.resizable.size.width;this.setState({maxWidth:E>Number(c)?c:E})}(k||this.props.lockAspectRatio&&!x&&!C)&&(E=w+(v-m)/r,this.setState({maxWidth:E>Number(c)?c:E})),(C||x)&&this.resizable&&(E=(g-b)/r+this.resizable.size.height,this.setState({maxHeight:E>Number(d)?d:E})),(S||this.props.lockAspectRatio&&!C&&!x)&&(E=_+(b-g)/r,this.setState({maxHeight:E>Number(d)?d:E}))}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(e,t,n)},r.prototype.onResize=function(e,n,r,i){var o=this,a={x:this.originalPosition.x,y:this.originalPosition.y},s=-i.width,l=-i.height;["top","left","topLeft","bottomLeft","topRight"].includes(n)&&("bottomLeft"===n?a.x+=s:("topRight"===n||(a.x+=s),a.y+=l));var u=this.draggable.state;a.x===u.x&&a.y===u.y||(0,t.flushSync)((function(){o.draggable.setState(a)})),this.updateOffsetFromParent();var c=this.offsetFromParent,d=this.getDraggablePosition().x+c.left,h=this.getDraggablePosition().y+c.top;this.resizingPosition={x:d,y:h},this.props.onResize&&this.props.onResize(e,n,r,i,{x:d,y:h})},r.prototype.onResizeStop=function(e,t,n,r){this.setState({resizing:!1});var i=this.getMaxSizesFromProps(),o=i.maxWidth,a=i.maxHeight;this.setState({maxWidth:o,maxHeight:a}),this.props.onResizeStop&&this.props.onResizeStop(e,t,n,r,this.resizingPosition)},r.prototype.updateSize=function(e){this.resizable&&this.resizable.updateSize({width:e.width,height:e.height})},r.prototype.updatePosition=function(e){this.draggable.setState(e)},r.prototype.updateOffsetFromParent=function(){var e=this.props.scale,t=this.getParent(),n=this.getSelfElement();if(!t||null===n)return{top:0,left:0};var r=t.getBoundingClientRect(),i=r.left,o=r.top,a=n.getBoundingClientRect(),s=this.getDraggablePosition(),l=t.scrollLeft,u=t.scrollTop;this.offsetFromParent={left:a.left-i+l-s.x*e,top:a.top-o+u-s.y*e}},r.prototype.render=function(){var t=this,n=this.props,r=n.disableDragging,i=n.style,o=n.dragHandleClassName,a=n.position,s=n.onMouseDown,l=n.onMouseUp,u=n.dragAxis,c=n.dragGrid,d=n.bounds,h=n.enableUserSelectHack,p=n.cancel,f=n.children,m=(n.onResizeStart,n.onResize,n.onResizeStop,n.onDragStart,n.onDrag,n.onDragStop,n.resizeHandleStyles),g=n.resizeHandleClasses,y=n.resizeHandleComponent,v=n.enableResizing,b=n.resizeGrid,w=n.resizeHandleWrapperClass,_=n.resizeHandleWrapperStyle,k=n.scale,C=n.allowAnyClick,S=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(n,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick"]),E=this.props.default?q({},this.props.default):void 0;delete S.default;var N,T=r||o?{cursor:"auto"}:{cursor:"move"},I=q(q(q({},V),T),i),P=this.offsetFromParent,R=P.left,D=P.top;a&&(N={x:a.x-R,y:a.y-D});var M,A=this.state.resizing?void 0:N,z=this.state.resizing?"both":u;return(0,e.createElement)(x(),{ref:function(e){e&&(t.draggable=e)},handle:o?".".concat(o):void 0,defaultPosition:E,onMouseDown:s,onMouseUp:l,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:z,disabled:r,grid:c,bounds:d?this.state.bounds:void 0,position:A,enableUserSelectHack:h,cancel:p,scale:k,allowAnyClick:C,nodeRef:this.resizableElement},(0,e.createElement)(U,q({},S,{ref:function(e){e&&(t.resizable=e,t.resizableElement.current=e.resizable)},defaultSize:E,size:this.props.size,enable:"boolean"==typeof v?(M=v,{bottom:M,bottomLeft:M,bottomRight:M,left:M,right:M,top:M,topLeft:M,topRight:M}):v,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:I,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:b,handleWrapperClass:w,handleWrapperStyle:_,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:m,handleClasses:g,handleComponent:y,scale:this.props.scale}),f))},r.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},r}(e.PureComponent),Y=n(7333),Q={};Q.styleTagTransform=f(),Q.setAttributes=c(),Q.insert=l().bind(null,"head"),Q.domAPI=a(),Q.insertStyleElement=h(),i()(Y.A,Q),Y.A&&Y.A.locals&&Y.A.locals;var G=function(){return G=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},G.apply(this,arguments)};function K(t){var n=t.title,r=t.onClose,i=t.children,o=t.appName,a=t.initialWidth,s=t.initialHeight,l=t.isFullscreenOnMobile,u=void 0===l||l,c=t.className,d=t.style,h=t.isIframeApp,p=void 0!==h&&h,f=t.onFocus,m=(0,e.useState)(window.innerWidth<=768),g=m[0],y=m[1],v=(0,e.useState)({width:Math.max("number"==typeof a?a:parseInt(a),200),height:Math.max("number"==typeof s?s:parseInt(s),100)}),b=v[0],w=v[1],_=(0,e.useState)({x:0,y:0}),x=_[0],k=_[1],C=(0,e.useState)(!1),S=C[0],E=C[1],N=(0,e.useRef)(null);(0,e.useEffect)((function(){var e=function(){y(window.innerWidth<=768),N.current&&N.current.updatePosition({x:x.x,y:x.y})};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[x]),(0,e.useEffect)((function(){if(!g){var e=Math.min(800,.8*window.innerWidth),t=Math.min(600,.8*(window.innerHeight-40));w({width:e,height:t}),k({x:(window.innerWidth-e)/2,y:Math.max(50,(window.innerHeight-t)/2)})}}),[g]),(0,e.useEffect)((function(){var e=function(){S&&E(!1)};return window.addEventListener("mouseup",e),function(){window.removeEventListener("mouseup",e)}}),[S]);var T="resizable-window ".concat(o," window ").concat(o," ").concat(p?"iframe-app":""," ").concat(S?"react-draggable-dragging":""," ").concat(c||""),I=g&&u&&!p,P=function(e){e.stopPropagation(),r()};return e.createElement($,{ref:N,size:{width:b.width,height:b.height},position:x,onDragStart:function(e,t){E(!0)},onDrag:function(e,t){k({x:t.x,y:t.y})},onDragStop:function(e,t){E(!1),k({x:t.x,y:t.y})},onResizeStop:function(e,t,n,r,i){w({width:parseInt(n.style.width,10),height:parseInt(n.style.height,10)}),k(i)},minWidth:200,minHeight:100,dragHandleClassName:"resizable-window-header",disableDragging:I,enableResizing:!I,className:T,style:G(G(G({},d),{display:"flex",flexDirection:"column"}),I?{width:"100%",height:"calc(100% - 40px)",position:"fixed",top:40,left:0}:{})},e.createElement("div",{className:"resizable-window-header"},e.createElement("span",{className:"window-title"},n),e.createElement("button",{className:"close-button",onClick:P,onTouchEnd:P},"")),e.createElement("div",{className:"resizable-window-content",onMouseDown:f,onTouchStart:f},i))}var X=n(4753),J={};J.styleTagTransform=f(),J.setAttributes=c(),J.insert=l().bind(null,"head"),J.domAPI=a(),J.insertStyleElement=h(),i()(X.A,J),X.A&&X.A.locals&&X.A.locals;var Z=function(){return Z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Z.apply(this,arguments)},ee=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function te(t){var n=t.onClose,r=(t.onNewSticky,t.stickiesCount),i=(0,e.useState)([]),o=i[0],a=i[1],s=(0,e.useState)(""),l=s[0],u=s[1],c=(0,e.useRef)(0),d=(0,e.useRef)(!0),h=(0,e.useRef)(!1),p=(0,e.useCallback)((function(e){localStorage.setItem("stickies",JSON.stringify(e))}),[]),f=(0,e.useCallback)((function(){var e=Math.floor(360*Math.random()),t=70+10*Math.random(),n=80+10*Math.random(),r="hsl(".concat(e,", ").concat(t,"%, ").concat(n,"%)");return r===l?f():(u(r),r)}),[l]),m=(0,e.useCallback)((function(){var e={id:Date.now(),content:"",color:f(),position:{x:Math.random()*(window.innerWidth-200),y:Math.random()*(window.innerHeight-200)}};a((function(t){var n=ee(ee([],t,!0),[e],!1);return p(n),n}))}),[f,p]);(0,e.useEffect)((function(){var e=localStorage.getItem("stickies");e?(a(JSON.parse(e)),h.current=!0):d.current&&m(),d.current=!1}),[m]),(0,e.useEffect)((function(){!d.current&&r>c.current&&(h.current?h.current=!1:m()),c.current=r}),[r,m]);var g=(0,e.useCallback)((function(e,t){a((function(n){var r=n.map((function(n){return n.id===e?Z(Z({},n),{content:t}):n}));return p(r),r}))}),[p]),y=(0,e.useCallback)((function(e,t){a((function(n){var r=n.map((function(n){return n.id===e?Z(Z({},n),{position:t}):n}));return p(r),r}))}),[p]),v=(0,e.useCallback)((function(e){a((function(t){var r=t.filter((function(t){return t.id!==e}));return p(r),0===r.length&&n(),r}))}),[p,n]);return e.createElement("div",{className:"stickies-container"},o.map((function(t){return e.createElement("div",{key:t.id,className:"sticky",style:{backgroundColor:t.color,left:"".concat(t.position.x,"px"),top:"".concat(t.position.y,"px")},draggable:!0,onDragEnd:function(e){return y(t.id,{x:e.clientX,y:e.clientY})}},e.createElement("textarea",{value:t.content,onChange:function(e){return g(t.id,e.target.value)},placeholder:"Type your note here..."}),e.createElement("button",{className:"delete-sticky",onClick:function(){return v(t.id)}},""))})))}var ne=n(2090),re={};function ie(t){var n=t.onClose,r=t.className,i=t.style,o=t.isIframeApp;return e.createElement(K,{title:"Bluwumbuwurg",onClose:n,appName:"bluwumbuwurg",className:r,style:i,initialWidth:"80%",initialHeight:"80%",isIframeApp:o},e.createElement("div",{className:"bluwumbuwurg-container"},e.createElement("iframe",{src:"https://uwu.pro",title:"Bluwumbuwurg",className:"bluwumbuwurg-iframe"})))}re.styleTagTransform=f(),re.setAttributes=c(),re.insert=l().bind(null,"head"),re.domAPI=a(),re.insertStyleElement=h(),i()(ne.A,re),ne.A&&ne.A.locals&&ne.A.locals;var oe=n(989),ae={};function se(t){var n=t.onClose,r=t.className,i=t.style;return e.createElement(K,{title:"UwUScape",onClose:n,appName:"uwuscape",className:r,style:i,initialWidth:800,initialHeight:600,isIframeApp:!0},e.createElement("div",{className:"uwuscape-container"},e.createElement("iframe",{src:"https://uwu.direct",title:"UwUScape",className:"uwuscape-iframe"})))}ae.styleTagTransform=f(),ae.setAttributes=c(),ae.insert=l().bind(null,"head"),ae.domAPI=a(),ae.insertStyleElement=h(),i()(oe.A,ae),oe.A&&oe.A.locals&&oe.A.locals;var le=n(9783),ue={};function ce(t){var n=t.onClose,r=t.className,i=t.style,o=t.isIframeApp;return e.createElement(K,{title:"Virtual Unicorn",onClose:n,appName:"virtualunicorn",className:r,style:i,initialWidth:"80%",initialHeight:"80%",isIframeApp:o},e.createElement("div",{className:"virtual-unicorn-container"},e.createElement("iframe",{src:"https://unicorn.meme",title:"Virtual Unicorn",className:"virtual-unicorn-iframe"})))}ue.styleTagTransform=f(),ue.setAttributes=c(),ue.insert=l().bind(null,"head"),ue.domAPI=a(),ue.insertStyleElement=h(),i()(le.A,ue),le.A&&le.A.locals&&le.A.locals;var de=n(1981),he={};function pe(t){var n=t.onClose,r=t.className,i=t.style,o=t.isIframeApp;return e.createElement(K,{title:"Black Market Beta",onClose:n,appName:"blackmarketbeta",className:r,style:i,initialWidth:"80%",initialHeight:"80%",isIframeApp:o},e.createElement("div",{className:"black-market-beta-container"},e.createElement("iframe",{src:"https://uwublkmktalphatestpreviewhos.uwu-direct.pages.dev/",title:"Black Market Beta",className:"black-market-beta-iframe"})))}he.styleTagTransform=f(),he.setAttributes=c(),he.insert=l().bind(null,"head"),he.domAPI=a(),he.insertStyleElement=h(),i()(de.A,he),de.A&&de.A.locals&&de.A.locals;var fe=n(6575),me={};function ge(t){var n=t.onClose,r=t.className,i=t.style,o=t.isIframeApp;return e.createElement(K,{title:"Black Market V2",onClose:n,appName:"blackmarketv2",className:r,style:i,initialWidth:"80%",initialHeight:"80%",isIframeApp:o},e.createElement("div",{className:"black-market-v2-container"},e.createElement("iframe",{src:"https://unity-uwu.uwublk-market.pages.dev/",title:"Black Market V2",className:"black-market-v2-iframe"})))}me.styleTagTransform=f(),me.setAttributes=c(),me.insert=l().bind(null,"head"),me.domAPI=a(),me.insertStyleElement=h(),i()(fe.A,me),fe.A&&fe.A.locals&&fe.A.locals;var ye=n(3402),ve={};function be(t){var n=t.onClose,r=t.className,i=t.style,o=t.isIframeApp;return e.createElement(K,{title:"Black Market V3",onClose:n,appName:"blackmarketv3",className:r,style:i,initialWidth:"80%",initialHeight:"80%",isIframeApp:o},e.createElement("div",{className:"black-market-v3-container"},e.createElement("iframe",{src:"https://unity-bug-fixes.uwublk-market.pages.dev/",title:"Black Market V3",className:"black-market-v3-iframe"})))}ve.styleTagTransform=f(),ve.setAttributes=c(),ve.insert=l().bind(null,"head"),ve.domAPI=a(),ve.insertStyleElement=h(),i()(ye.A,ve),ye.A&&ye.A.locals&&ye.A.locals;var we=n(2283),_e={};function xe(t){var n=t.onClose,r=t.className,i=t.style,o=t.isIframeApp;return e.createElement(K,{title:"Black Market Liquidity",onClose:n,appName:"blackmarketliquidity",className:r,style:i,initialWidth:"80%",initialHeight:"80%",isIframeApp:o},e.createElement("div",{className:"black-market-liquidity-container"},e.createElement("iframe",{src:"https://unity-lp.uwu-direct.pages.dev/",title:"Black Market Liquidity",className:"black-market-liquidity-iframe"})))}_e.styleTagTransform=f(),_e.setAttributes=c(),_e.insert=l().bind(null,"head"),_e.domAPI=a(),_e.insertStyleElement=h(),i()(we.A,_e),we.A&&we.A.locals&&we.A.locals;var ke=n(5709),Ce={};function Se(t){var n=t.onClose,r=t.className,i=t.style,o=t.isIframeApp;return e.createElement(K,{title:"Purity Finance",onClose:n,appName:"purityfinance",className:r,style:i,initialWidth:"80%",initialHeight:"80%",isIframeApp:o},e.createElement("div",{className:"purity-finance-container"},e.createElement("iframe",{src:"https://purity.finance",title:"Purity Finance",className:"purity-finance-iframe"})))}Ce.styleTagTransform=f(),Ce.setAttributes=c(),Ce.insert=l().bind(null,"head"),Ce.domAPI=a(),Ce.insertStyleElement=h(),i()(ke.A,Ce),ke.A&&ke.A.locals&&ke.A.locals;var Ee=n(904),Ne={};function Te(t){var n=t.onClose,r=t.className,i=t.style,o=t.isIframeApp;return e.createElement(K,{title:"Buwut Camp",onClose:n,appName:"buwutcamp",className:r,style:i,initialWidth:"80%",initialHeight:"80%",isIframeApp:o},e.createElement("div",{className:"buwut-camp-container"},e.createElement("iframe",{src:"https://uwublack.market/?trademode=true",title:"Buwut Camp",className:"buwut-camp-iframe"})))}Ne.styleTagTransform=f(),Ne.setAttributes=c(),Ne.insert=l().bind(null,"head"),Ne.domAPI=a(),Ne.insertStyleElement=h(),i()(Ee.A,Ne),Ee.A&&Ee.A.locals&&Ee.A.locals;var Ie=n(5704),Pe={};function Re(t){var n=t.onClose,r=t.className,i=t.style,o=t.isIframeApp;return e.createElement(K,{title:"Terminal",onClose:n,appName:"terminal",className:r,style:i,initialWidth:"80%",initialHeight:"80%",isIframeApp:o},e.createElement("div",{className:"terminal-container"},e.createElement("iframe",{src:"https://unicornterminal.meme",title:"UnicornOS Terminal",className:"terminal-iframe"})))}Pe.styleTagTransform=f(),Pe.setAttributes=c(),Pe.insert=l().bind(null,"head"),Pe.domAPI=a(),Pe.insertStyleElement=h(),i()(Ie.A,Pe),Ie.A&&Ie.A.locals&&Ie.A.locals;var De=n(1372),Me={};function Ae(t){var n=t.onClose,r=t.className,i=t.style,o=t.isIframeApp,a=(0,e.useState)("0"),s=a[0],l=a[1],u=(0,e.useState)(null),c=u[0],d=u[1],h=(0,e.useState)(null),p=h[0],f=h[1],m=(0,e.useState)(0),g=m[0],y=m[1],v=function(e){l((function(t){return"0"===t?e:t+e}))},b=function(e){d(parseFloat(s)),f(e),l("0")};return e.createElement(K,{title:"Calcuwulator",onClose:n,appName:"calcuwulator",className:r,style:i,initialWidth:400,initialHeight:500,isIframeApp:o},e.createElement("div",{className:"calcuwulator"},e.createElement("div",{className:"display"},s),e.createElement("div",{className:"keypad"},e.createElement("button",{onClick:function(){return v("7")}},"7"),e.createElement("button",{onClick:function(){return v("8")}},"8"),e.createElement("button",{onClick:function(){return v("9")}},"9"),e.createElement("button",{onClick:function(){return b("+")}},"+"),e.createElement("button",{onClick:function(){return v("4")}},"4"),e.createElement("button",{onClick:function(){return v("5")}},"5"),e.createElement("button",{onClick:function(){return v("6")}},"6"),e.createElement("button",{onClick:function(){return b("-")}},"-"),e.createElement("button",{onClick:function(){return v("1")}},"1"),e.createElement("button",{onClick:function(){return v("2")}},"2"),e.createElement("button",{onClick:function(){return v("3")}},"3"),e.createElement("button",{onClick:function(){return b("*")}},"*"),e.createElement("button",{onClick:function(){return v("0")}},"0"),e.createElement("button",{onClick:function(){s.includes(".")||l((function(e){return e+"."}))}},"."),e.createElement("button",{onClick:function(){if(null!==c&&p){var e=parseFloat(s),t=void 0;switch(p){case"+":t=c+e;break;case"-":t=c-e;break;case"*":t=c*e;break;case"/":t=c/e;break;default:return}l(t.toString()),d(null),f(null)}}},"="),e.createElement("button",{onClick:function(){return b("/")}},"/"),e.createElement("button",{onClick:function(){l("0"),d(null),f(null)}},"C"),e.createElement("button",{onClick:function(){var e=s.split(",").map(Number),t=e[0],n=e[1],r=e[2],i=t*Math.pow(1+n/100,r);l(i.toFixed(2))}},"CI"),e.createElement("button",{onClick:function(){var e=s.split(",").map(Number),t=e[0],n=e[1]/100/12,r=12*e[2],i=t*n*Math.pow(1+n,r)/(Math.pow(1+n,r)-1);l(i.toFixed(2))}},"LP"),e.createElement("button",{onClick:function(){return l(Math.sin(parseFloat(s)).toString())}},"sin"),e.createElement("button",{onClick:function(){return l(Math.cos(parseFloat(s)).toString())}},"cos"),e.createElement("button",{onClick:function(){return l(Math.tan(parseFloat(s)).toString())}},"tan"),e.createElement("button",{onClick:function(){return l(Math.log10(parseFloat(s)).toString())}},"log"),e.createElement("button",{onClick:function(){return l(Math.log(parseFloat(s)).toString())}},"ln"),e.createElement("button",{onClick:function(){return l(Math.sqrt(parseFloat(s)).toString())}},""),e.createElement("button",{onClick:function(){return b("^")}},"^"),e.createElement("button",{onClick:function(){return y(g+parseFloat(s))}},"M+"),e.createElement("button",{onClick:function(){return y(g-parseFloat(s))}},"M-"),e.createElement("button",{onClick:function(){return l(g.toString())}},"MR"),e.createElement("button",{onClick:function(){return y(0)}},"MC"))))}Me.styleTagTransform=f(),Me.setAttributes=c(),Me.insert=l().bind(null,"head"),Me.domAPI=a(),Me.insertStyleElement=h(),i()(De.A,Me),De.A&&De.A.locals&&De.A.locals;var ze=n(2810),Oe={};Oe.styleTagTransform=f(),Oe.setAttributes=c(),Oe.insert=l().bind(null,"head"),Oe.domAPI=a(),Oe.insertStyleElement=h(),i()(ze.A,Oe),ze.A&&ze.A.locals&&ze.A.locals;var Le=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function Fe(t){var n=t.onClose,r=t.isFullscreenOnMobile,i=void 0===r||r,o=t.className,a=t.style,s=t.onFocus,l=(0,e.useState)({width:"400px",height:"500px"}),u=(l[0],l[1]),c=(0,e.useState)(new Date),d=c[0],h=c[1],p=(0,e.useState)([]),f=p[0],m=p[1],g=(0,e.useState)(""),y=g[0],v=g[1],b=(0,e.useState)(null),w=b[0],_=b[1];(0,e.useEffect)((function(){var e=localStorage.getItem("calendarEvents");e&&m(JSON.parse(e))}),[]);var x=new Date(d.getFullYear(),d.getMonth()+1,0).getDate(),k=new Date(d.getFullYear(),d.getMonth(),1).getDay(),C=w?f.filter((function(e){return e.date===w})):[];return(0,e.useEffect)((function(){var e=function(){var e=window.innerWidth<=768;u(e&&i?{width:"100vw",height:"100vh"}:{width:"400px",height:"500px"})};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[i]),e.createElement(K,{title:"Calendar",onClose:n,appName:"calendar",initialWidth:400,initialHeight:500,isFullscreenOnMobile:i,className:o,style:a,onFocus:s},e.createElement("div",{className:"calendar"},e.createElement("div",{className:"header"},e.createElement("button",{onClick:function(){return h(new Date(d.getFullYear(),d.getMonth()-1,1))}},"<"),e.createElement("h2",null,d.toLocaleString("default",{month:"long",year:"numeric"})),e.createElement("button",{onClick:function(){return h(new Date(d.getFullYear(),d.getMonth()+1,1))}},">")),e.createElement("div",{className:"days-of-week"},["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((function(t){return e.createElement("div",{key:t,className:"day-of-week"},t)}))),e.createElement("div",{className:"days-grid"},function(){for(var t=[],n=0;n<k;n++)t.push(e.createElement("div",{key:"empty-".concat(n),className:"empty-day"}));var r=function(n){var r="".concat(d.getFullYear(),"-").concat((d.getMonth()+1).toString().padStart(2,"0"),"-").concat(n.toString().padStart(2,"0")),i=f.some((function(e){return e.date===r}));t.push(e.createElement("div",{key:n,className:"day ".concat(i?"has-event":""," ").concat(r===w?"selected":""),onClick:function(){return _(r)}},n))};for(n=1;n<=x;n++)r(n);return t}()),e.createElement("div",{className:"event-form"},e.createElement("input",{type:"text",value:y,onChange:function(e){return v(e.target.value)},placeholder:"Enter event title"}),e.createElement("button",{onClick:function(){if(w&&y){var e={date:w,title:y},t=Le(Le([],f,!0),[e],!1);m(t),function(e){localStorage.setItem("calendarEvents",JSON.stringify(e))}(t),v(""),_(null)}},disabled:!w||!y},"Add Event")),w&&e.createElement("div",{className:"events-list"},e.createElement("h3",null,"Events for ",w,":"),C.length>0?e.createElement("ul",null,C.map((function(t,n){return e.createElement("li",{key:n},t.title)}))):e.createElement("p",null,"No events for this date."))))}var We=n(4265),je={};function Be(t){var n=t.onClose,r=t.className,i=t.style,o=t.isIframeApp,a=(0,e.useState)(""),s=a[0],l=a[1];return(0,e.useEffect)((function(){var e=localStorage.getItem("notepadContent");e&&l(e)}),[]),e.createElement(K,{title:"Notepad",onClose:n,appName:"notepad",className:r,style:i,initialWidth:400,initialHeight:500,isIframeApp:o},e.createElement("div",{className:"notepad"},e.createElement("textarea",{value:s,onChange:function(e){var t=e.target.value;l(t),localStorage.setItem("notepadContent",t)},placeholder:"Type your notes here...",className:"notepad-textarea"})))}je.styleTagTransform=f(),je.setAttributes=c(),je.insert=l().bind(null,"head"),je.domAPI=a(),je.insertStyleElement=h(),i()(We.A,je),We.A&&We.A.locals&&We.A.locals;var Ue=n(4046),He={};He.styleTagTransform=f(),He.setAttributes=c(),He.insert=l().bind(null,"head"),He.domAPI=a(),He.insertStyleElement=h(),i()(Ue.A,He),Ue.A&&Ue.A.locals&&Ue.A.locals;var qe=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function Ve(t){var n=t.onClose,r=t.className,i=t.style,o=t.isIframeApp,a=(0,e.useState)({width:800,height:600}),s=a[0],l=a[1],u=(0,e.useRef)(null),c=(0,e.useState)(!1),d=c[0],h=c[1],p=(0,e.useState)("#000000"),f=p[0],m=p[1],g=(0,e.useState)(5),y=g[0],v=g[1],b=(0,e.useState)([]),w=b[0],_=b[1];(0,e.useEffect)((function(){var e=function(){var e=window.innerWidth<=768;l(e?{width:window.innerWidth,height:window.innerHeight-100}:{width:800,height:600})};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),(0,e.useEffect)((function(){var e=u.current;if(e){var t=e.getContext("2d");if(t){t.lineCap="round",t.lineJoin="round",t.strokeStyle=f,t.lineWidth=y;var n=localStorage.getItem("paintCanvas");if(n){var r=new Image;r.onload=function(){t.drawImage(r,0,0),S()},r.src=n}else S()}}}),[f,y]);var x=function(e){h(!0),C(e)},k=function(){h(!1);var e=u.current;if(e){var t=e.getContext("2d");t&&t.beginPath(),localStorage.setItem("paintCanvas",e.toDataURL()),S()}},C=function(e){if(d){var t=u.current,n=null==t?void 0:t.getContext("2d");if(t&&n){var r,i,o=t.getBoundingClientRect(),a=t.width/o.width,s=t.height/o.height;"touches"in e?(r=(e.touches[0].clientX-o.left)*a,i=(e.touches[0].clientY-o.top)*s):(r=(e.clientX-o.left)*a,i=(e.clientY-o.top)*s),n.lineTo(r,i),n.stroke(),n.beginPath(),n.moveTo(r,i)}}},S=function(){var e=u.current,t=null==e?void 0:e.getContext("2d");if(e&&t){var n=t.getImageData(0,0,e.width,e.height);_((function(e){return qe(qe([],e,!0),[n],!1)}))}};return e.createElement(K,{title:"Paint",onClose:n,appName:"paint",className:r,style:i,initialWidth:s.width,initialHeight:s.height,isIframeApp:o},e.createElement("div",{className:"paint"},e.createElement("div",{className:"paint-controls"},e.createElement("input",{type:"color",value:f,onChange:function(e){return m(e.target.value)}}),e.createElement("input",{type:"range",min:"1",max:"20",value:y,onChange:function(e){return v(parseInt(e.target.value))}}),e.createElement("button",{onClick:function(){var e=u.current,t=null==e?void 0:e.getContext("2d");e&&t&&(t.clearRect(0,0,e.width,e.height),localStorage.removeItem("paintCanvas"),S())}},"Clear"),e.createElement("button",{onClick:function(){var e=u.current,t=null==e?void 0:e.getContext("2d");if(e&&t&&w.length>1){var n=qe([],w,!0);n.pop();var r=n[n.length-1];t.putImageData(r,0,0),_(n),localStorage.setItem("paintCanvas",e.toDataURL())}},disabled:w.length<=1},"Undo")),e.createElement("canvas",{ref:u,width:s.width,height:s.height-50,onMouseDown:x,onMouseMove:C,onMouseUp:k,onMouseOut:k,onTouchStart:x,onTouchMove:C,onTouchEnd:k})))}var $e=n(867),Ye={};Ye.styleTagTransform=f(),Ye.setAttributes=c(),Ye.insert=l().bind(null,"head"),Ye.domAPI=a(),Ye.insertStyleElement=h(),i()($e.A,Ye),$e.A&&$e.A.locals&&$e.A.locals;const Qe=function(e,t){if(!e)throw Ge(t)},Ge=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},Ke=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Xe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],o=t+1<e.length,a=o?e[t+1]:0,s=t+2<e.length,l=s?e[t+2]:0,u=i>>2,c=(3&i)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[u],n[c],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ke(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0;++t;const a=t<e.length?n[e.charAt(t)]:64;++t;const s=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==o||null==a||null==s)throw new Je;const l=i<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Je extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ze=function(e){const t=Ke(e);return Xe.encodeByteArray(t,!0)},et=function(e){return Ze(e).replace(/\./g,"")},tt=function(e){try{return Xe.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function nt(e){return rt(void 0,e)}function rt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=rt(e[n],t[n]));return e}const it=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&tt(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},ot=()=>{var e;return null===(e=it())||void 0===e?void 0:e.config};class at{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function st(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}class lt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,lt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ut.prototype.create)}}class ut{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(ct,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new lt(r,a,n)}}const ct=/\{\$([^}]+)}/g;function dt(e){return JSON.parse(e)}function ht(e){return JSON.stringify(e)}const pt=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=dt(tt(o[0])||""),n=dt(tt(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}};function ft(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function mt(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function gt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function yt(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function vt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(bt(n)&&bt(o)){if(!vt(n,o))return!1}else if(n!==o)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function bt(e){return null!==e&&"object"==typeof e}class wt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=4294967295&(t<<1|t>>>31)}let r,i,o=this.chain_[0],a=this.chain_[1],s=this.chain_[2],l=this.chain_[3],u=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(r=l^a&(s^l),i=1518500249):(r=a^s^l,i=1859775393):e<60?(r=a&s|l&(a|s),i=2400959708):(r=a^s^l,i=3395469782);const t=(o<<5|o>>>27)+r+u+i+n[e]&4294967295;u=l,l=s,s=4294967295&(a<<30|a>>>2),a=o,o=t}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let r=24;r>=0;r-=8)e[n]=this.chain_[t]>>r&255,++n;return e}}function _t(e,t){return`${e} failed: ${t} argument `}const xt=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function kt(e){return e&&e._delegate?e._delegate:e}class Ct{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const St="[DEFAULT]";class Et{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new at;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:St})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=St){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=St){return this.instances.has(e)}getOptions(e=St){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===St?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e=St){return this.component?this.component.multipleInstances?e:St:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Nt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Et(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Tt=[];var It;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(It||(It={}));const Pt={debug:It.DEBUG,verbose:It.VERBOSE,info:It.INFO,warn:It.WARN,error:It.ERROR,silent:It.SILENT},Rt=It.INFO,Dt={[It.DEBUG]:"log",[It.VERBOSE]:"log",[It.INFO]:"info",[It.WARN]:"warn",[It.ERROR]:"error"},Mt=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=Dt[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class At{constructor(e){this.name=e,this._logLevel=Rt,this._logHandler=Mt,this._userLogHandler=null,Tt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in It))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Pt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,It.DEBUG,...e),this._logHandler(this,It.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,It.VERBOSE,...e),this._logHandler(this,It.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,It.INFO,...e),this._logHandler(this,It.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,It.WARN,...e),this._logHandler(this,It.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,It.ERROR,...e),this._logHandler(this,It.ERROR,...e)}}const zt=(e,t)=>t.some((t=>e instanceof t));let Ot,Lt;const Ft=new WeakMap,Wt=new WeakMap,jt=new WeakMap,Bt=new WeakMap,Ut=new WeakMap;let Ht={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Wt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||jt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function qt(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Lt||(Lt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply($t(this),e),Vt(Ft.get(this))}:function(...e){return Vt(t.apply($t(this),e))}:function(e,...n){const r=t.call($t(this),e,...n);return jt.set(r,e.sort?e.sort():[e]),Vt(r)}:(e instanceof IDBTransaction&&function(e){if(Wt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Wt.set(e,t)}(e),zt(e,Ot||(Ot=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ht):e);var t}function Vt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Vt(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Ft.set(t,e)})).catch((()=>{})),Ut.set(t,e),t}(e);if(Bt.has(e))return Bt.get(e);const t=qt(e);return t!==e&&(Bt.set(e,t),Ut.set(t,e)),t}const $t=e=>Ut.get(e),Yt=["get","getKey","getAll","getAllKeys","count"],Qt=["put","add","delete","clear"],Gt=new Map;function Kt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Gt.get(t))return Gt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Qt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Yt.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let a=o.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),i&&o.done]))[0]};return Gt.set(t,o),o}var Xt;Xt=Ht,Ht={...Xt,get:(e,t,n)=>Kt(e,t)||Xt.get(e,t,n),has:(e,t)=>!!Kt(e,t)||Xt.has(e,t)};class Jt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Zt="@firebase/app",en="0.9.13",tn=new At("@firebase/app"),nn="@firebase/app-compat",rn="@firebase/analytics-compat",on="@firebase/analytics",an="@firebase/app-check-compat",sn="@firebase/app-check",ln="@firebase/auth",un="@firebase/auth-compat",cn="@firebase/database",dn="@firebase/database-compat",hn="@firebase/functions",pn="@firebase/functions-compat",fn="@firebase/installations",mn="@firebase/installations-compat",gn="@firebase/messaging",yn="@firebase/messaging-compat",vn="@firebase/performance",bn="@firebase/performance-compat",wn="@firebase/remote-config",_n="@firebase/remote-config-compat",xn="@firebase/storage",kn="@firebase/storage-compat",Cn="@firebase/firestore",Sn="@firebase/firestore-compat",En="firebase",Nn="[DEFAULT]",Tn={[Zt]:"fire-core",[nn]:"fire-core-compat",[on]:"fire-analytics",[rn]:"fire-analytics-compat",[sn]:"fire-app-check",[an]:"fire-app-check-compat",[ln]:"fire-auth",[un]:"fire-auth-compat",[cn]:"fire-rtdb",[dn]:"fire-rtdb-compat",[hn]:"fire-fn",[pn]:"fire-fn-compat",[fn]:"fire-iid",[mn]:"fire-iid-compat",[gn]:"fire-fcm",[yn]:"fire-fcm-compat",[vn]:"fire-perf",[bn]:"fire-perf-compat",[wn]:"fire-rc",[_n]:"fire-rc-compat",[xn]:"fire-gcs",[kn]:"fire-gcs-compat",[Cn]:"fire-fst",[Sn]:"fire-fst-compat","fire-js":"fire-js",[En]:"fire-js-all"},In=new Map,Pn=new Map;function Rn(e,t){try{e.container.addComponent(t)}catch(n){tn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Dn(e){const t=e.name;if(Pn.has(t))return tn.debug(`There were multiple attempts to register component ${t}.`),!1;Pn.set(t,e);for(const t of In.values())Rn(t,e);return!0}const Mn=new ut("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class An{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ct("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mn.create("app-deleted",{appName:this._name})}}function zn(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:Nn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw Mn.create("bad-app-name",{appName:String(i)});if(n||(n=ot()),!n)throw Mn.create("no-options");const o=In.get(i);if(o){if(vt(n,o.options)&&vt(r,o.config))return o;throw Mn.create("duplicate-app",{appName:i})}const a=new Nt(i);for(const e of Pn.values())a.addComponent(e);const s=new An(n,r,a);return In.set(i,s),s}function On(e,t,n){var r;let i=null!==(r=Tn[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void tn.warn(e.join(" "))}Dn(new Ct(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Ln="firebase-heartbeat-database",Fn=1,Wn="firebase-heartbeat-store";let jn=null;function Bn(){return jn||(jn=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),s=Vt(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Vt(a.result),e.oldVersion,e.newVersion,Vt(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}(Ln,Fn,{upgrade:(e,t)=>{0===t&&e.createObjectStore(Wn)}}).catch((e=>{throw Mn.create("idb-open",{originalErrorMessage:e.message})}))),jn}async function Un(e,t){try{const n=(await Bn()).transaction(Wn,"readwrite"),r=n.objectStore(Wn);await r.put(t,Hn(e)),await n.done}catch(e){if(e instanceof lt)tn.warn(e.message);else{const t=Mn.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});tn.warn(t.message)}}}function Hn(e){return`${e.name}!${e.options.appId}`}class qn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new $n(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Vn();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Vn(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Yn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Yn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=et(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Vn(){return(new Date).toISOString().substring(0,10)}class $n{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(e){try{const t=await Bn();return await t.transaction(Wn).objectStore(Wn).get(Hn(e))}catch(e){if(e instanceof lt)tn.warn(e.message);else{const t=Mn.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});tn.warn(t.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Un(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Un(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Yn(e){return et(JSON.stringify({version:2,heartbeats:e})).length}Dn(new Ct("platform-logger",(e=>new Jt(e)),"PRIVATE")),Dn(new Ct("heartbeat",(e=>new qn(e)),"PRIVATE")),On(Zt,en,""),On(Zt,en,"esm2017"),On("fire-js","");const Qn="@firebase/database",Gn="0.14.4";let Kn="";class Xn{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ht(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:dt(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Jn{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return ft(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Zn=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Xn(t)}}catch(e){}return new Jn},er=Zn("localStorage"),tr=Zn("sessionStorage"),nr=new At("@firebase/database"),rr=function(){let e=1;return function(){return e++}}(),ir=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,Qe(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new wt;n.update(t);const r=n.digest();return Xe.encodeByteArray(r)},or=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=or.apply(null,r):t+="object"==typeof r?ht(r):r,t+=" "}return t};let ar=null,sr=!0;const lr=function(...e){if(!0===sr&&(sr=!1,null===ar&&!0===tr.get("logging_enabled")&&(t=!0,Qe(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(nr.logLevel=It.VERBOSE,ar=nr.log.bind(nr),n&&tr.set("logging_enabled",!0)):"function"==typeof t?ar=t:(ar=null,tr.remove("logging_enabled")))),ar){const t=or.apply(null,e);ar(t)}var t,n},ur=function(e){return function(...t){lr(e,...t)}},cr=function(...e){const t="FIREBASE INTERNAL ERROR: "+or(...e);nr.error(t)},dr=function(...e){const t=`FIREBASE FATAL ERROR: ${or(...e)}`;throw nr.error(t),new Error(t)},hr=function(...e){const t="FIREBASE WARNING: "+or(...e);nr.warn(t)},pr=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},fr="[MIN_NAME]",mr="[MAX_NAME]",gr=function(e,t){if(e===t)return 0;if(e===fr||t===mr)return-1;if(t===fr||e===mr)return 1;{const n=Cr(e),r=Cr(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},yr=function(e,t){return e===t?0:e<t?-1:1},vr=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ht(t))},br=function(e){if("object"!=typeof e||null===e)return ht(e);const t=[];for(const n in e)t.push(n);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=ht(t[r]),n+=":",n+=br(e[t[r]]);return n+="}",n},wr=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function _r(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const xr=function(e){Qe(!pr(e),"Invalid JSON number");let t,n,r,i,o;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=i+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));const a=[];for(o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse();const s=a.join("");let l="";for(o=0;o<64;o+=8){let e=parseInt(s.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),l+=e}return l.toLowerCase()},kr=new RegExp("^-?(0*)\\d{1,10}$"),Cr=function(e){if(kr.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Sr=function(e){try{e()}catch(e){setTimeout((()=>{const t=e.stack||"";throw hr("Exception was thrown by user callback.",t),e}),Math.floor(0))}},Er=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class Nr{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){hr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Tr{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(lr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',hr(e)}}class Ir{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ir.OWNER="owner";const Pr="5",Rr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Dr="ac",Mr="websocket",Ar="long_polling";class zr{constructor(e,t,n,r,i=!1,o="",a=!1,s=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=s,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=er.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&er.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function Or(e,t,n){let r;if(Qe("string"==typeof t,"typeof type must == string"),Qe("object"==typeof n,"typeof params must == object"),t===Mr)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Ar)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return _r(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class Lr{constructor(){this.counters_={}}incrementCounter(e,t=1){ft(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return nt(this.counters_)}}const Fr={},Wr={};function jr(e){const t=e.toString();return Fr[t]||(Fr[t]=new Lr),Fr[t]}class Br{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Sr((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Ur="start";class Hr{constructor(e,t,n,r,i,o,a){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ur(e),this.stats_=jr(t),this.urlFn=e=>(this.appCheckToken&&(e[Dr]=this.appCheckToken),Or(t,Ar,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Br(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new qr(((...e)=>{const[t,n,r,i,o]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===Ur)this.id=n,this.password=r;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[Ur]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Pr,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[Dr]=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Rr.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Hr.forceAllow_=!0}static forceDisallow(){Hr.forceDisallow_=!0}static isAvailable(){return!(!Hr.forceAllow_&&(Hr.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=ht(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Ze(t),r=wr(n,1840);for(let e=0;e<r.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[e]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=ht(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class qr{constructor(e,t,n,r){this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=rr(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=qr.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(n='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(e){lr("frame writing exception"),e.stack&&lr(e.stack),lr(e)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||lr("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{lr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(e){}}),Math.floor(1))}}let Vr=null;"undefined"!=typeof MozWebSocket?Vr=MozWebSocket:"undefined"!=typeof WebSocket&&(Vr=WebSocket);class $r{constructor(e,t,n,r,i,o,a){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ur(this.connId),this.stats_=jr(t),this.connURL=$r.connectionURL_(t,o,a,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=Pr,"undefined"!=typeof location&&location.hostname&&Rr.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[Dr]=r),i&&(o.p=i),Or(e,Mr,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,er.set("previous_websocket_failure",!0);try{let e;0,this.mySock=new Vr(this.connURL,[],e)}catch(e){this.log_("Error instantiating WebSocket.");const t=e.message||e.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){$r.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Vr&&!$r.forceDisallow_}static previouslyFailed(){return er.isInMemoryStorage||!0===er.get("previous_websocket_failure")}markConnectionHealthy(){er.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=dt(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Qe(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=ht(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=wr(t,16384);n.length>1&&this.sendString_(String(n.length));for(let e=0;e<n.length;e++)this.sendString_(n[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}$r.responsesRequiredToBeHealthy=2,$r.healthyTimeout=3e4;class Yr{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Hr,$r]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=$r&&$r.isAvailable();let n=t&&!$r.previouslyFailed();if(e.webSocketOnly&&(t||hr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[$r];else{const e=this.transports_=[];for(const t of Yr.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Yr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Yr.globalTransportInitialized_=!1;class Qr{constructor(e,t,n,r,i,o,a,s,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ur("c:"+this.id+":"),this.transportManager_=new Yr(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Er((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=vr("t",e),n=vr("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=vr("t",e),n=vr("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=vr("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?cr("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):cr("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Pr!==n&&hr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Er((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Er((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(er.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Gr{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Kr{constructor(e){this.allowedEvents_=e,this.listeners_={},Qe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let e=0;e<r.length;e++)if(r[e].callback===t&&(!n||n===r[e].context))return void r.splice(e,1)}validateEventType_(e){Qe(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class Xr extends Kr{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||st()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new Xr}getInitialEvent(e){return Qe("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Jr{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Zr(){return new Jr("")}function ei(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ti(e){return e.pieces_.length-e.pieceNum_}function ni(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Jr(e.pieces_,t)}function ri(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ii(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function oi(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Jr(t,0)}function ai(e,t){const n=[];for(let t=e.pieceNum_;t<e.pieces_.length;t++)n.push(e.pieces_[t]);if(t instanceof Jr)for(let e=t.pieceNum_;e<t.pieces_.length;e++)n.push(t.pieces_[e]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Jr(n,0)}function si(e){return e.pieceNum_>=e.pieces_.length}function li(e,t){const n=ei(e),r=ei(t);if(null===n)return t;if(n===r)return li(ni(e),ni(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function ui(e,t){if(ti(e)!==ti(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ci(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(ti(e)>ti(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class di{constructor(e,t){this.errorPrefix_=t,this.parts_=ii(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let e=0;e<this.parts_.length;e++)this.byteLength_+=xt(this.parts_[e]);hi(this)}}function hi(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+pi(e))}function pi(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class fi extends Kr{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new fi}getInitialEvent(e){return Qe("visible"===e,"Unknown event type: "+e),[this.visible_]}}const mi=1e3;class gi extends Gr{constructor(e,t,n,r,i,o,a,s){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=s,this.id=gi.nextPersistentConnectionId_++,this.log_=ur("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=mi,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,s)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");fi.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Xr.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r,a:e,b:t};this.log_(ht(i)),Qe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new at,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Qe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Qe(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,a=i.s;gi.warnOnListenWarnings_(o,t),(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==a&&this.removeListen_(n,r),e.onComplete&&e.onComplete(a,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&ft(e,"w")){const n=mt(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();hr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=pt(e).claims;return"object"==typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=pt(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Qe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ht(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):cr("Unrecognized action received from server: "+ht(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Qe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=mi,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=mi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=mi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+gi.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const s=function(){a?a.close():(o=!0,n())},l=function(e){Qe(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:s,sendRequest:l};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[s,l]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?lr("getToken() completed but was canceled"):(lr("getToken() completed. Creating connection."),this.authToken_=s&&s.accessToken,this.appCheckToken_=l&&l.token,a=new Qr(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{hr(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(e){this.log_("Failed to get token: "+e),o||(this.repoInfo_.nodeAdmin&&hr(e),s())}}}interrupt(e){lr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){lr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],gt(this.interruptReasons_)&&(this.reconnectDelay_=mi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>br(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Jr(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){lr("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){lr("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+Kn.replace(/\./g,"-")]=1,st()?e["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Xr.getInstance().currentlyOnline();return gt(this.interruptReasons_)&&e}}gi.nextPersistentConnectionId_=0,gi.nextConnectionId_=0;class yi{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new yi(e,t)}}class vi{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new yi(fr,e),r=new yi(fr,t);return 0!==this.compare(n,r)}minPost(){return yi.MIN}}let bi;class wi extends vi{static get __EMPTY_NODE(){return bi}static set __EMPTY_NODE(e){bi=e}compare(e,t){return gr(e.name,t.name)}isDefinedOn(e){throw Ge("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return yi.MIN}maxPost(){return new yi(mr,bi)}makePost(e,t){return Qe("string"==typeof e,"KeyIndex indexValue must always be a string."),new yi(e,bi)}toString(){return".key"}}const _i=new wi;class xi{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ki{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ki.RED,this.left=null!=r?r:Ci.EMPTY_NODE,this.right=null!=i?i:Ci.EMPTY_NODE}copy(e,t,n,r,i){return new ki(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ci.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ci.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ki.RED=!0,ki.BLACK=!1;class Ci{constructor(e,t=Ci.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Ci(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ki.BLACK,null,null))}remove(e){return new Ci(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ki.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new xi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new xi(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new xi(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new xi(this.root_,null,this.comparator_,!0,e)}}function Si(e,t){return gr(e.name,t.name)}function Ei(e,t){return gr(e,t)}let Ni;Ci.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new ki(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Ti=function(e){return"number"==typeof e?"number:"+xr(e):"string:"+e},Ii=function(e){if(e.isLeafNode()){const t=e.val();Qe("string"==typeof t||"number"==typeof t||"object"==typeof t&&ft(t,".sv"),"Priority must be a string or number.")}else Qe(e===Ni||e.isEmpty(),"priority of unexpected type.");Qe(e===Ni||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Pi,Ri,Di;class Mi{constructor(e,t=Mi.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Qe(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ii(this.priorityNode_)}static set __childrenNodeConstructor(e){Pi=e}static get __childrenNodeConstructor(){return Pi}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Mi(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Mi.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return si(e)?this:".priority"===ei(e)?this.priorityNode_:Mi.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Mi.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=ei(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Qe(".priority"!==n||1===ti(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Mi.__childrenNodeConstructor.EMPTY_NODE.updateChild(ni(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ti(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?xr(this.value_):this.value_,this.lazyHash_=ir(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Mi.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Mi.__childrenNodeConstructor?-1:(Qe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Mi.VALUE_TYPE_ORDER.indexOf(t),i=Mi.VALUE_TYPE_ORDER.indexOf(n);return Qe(r>=0,"Unknown leaf type: "+t),Qe(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Mi.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Ai=new class extends vi{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?gr(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return yi.MIN}maxPost(){return new yi(mr,new Mi("[PRIORITY-POST]",Di))}makePost(e,t){const n=Ri(e);return new yi(t,new Mi("[PRIORITY-POST]",n))}toString(){return".priority"}},zi=Math.log(2);class Oi{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/zi,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Li=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let a,s;if(0===o)return null;if(1===o)return a=e[t],s=n?n(a):a,new ki(s,a.node,ki.BLACK,null,null);{const l=parseInt(o/2,10)+t,u=i(t,l),c=i(l+1,r);return a=e[l],s=n?n(a):a,new ki(s,a.node,ki.BLACK,u,c)}},o=function(t){let r=null,o=null,a=e.length;const s=function(t,r){const o=a-t,s=a;a-=t;const u=i(o+1,s),c=e[o],d=n?n(c):c;l(new ki(d,c.node,r,null,u))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?s(r,ki.BLACK):(s(r,ki.BLACK),s(r,ki.RED))}return o}(new Oi(e.length));return new Ci(r||t,o)};let Fi;const Wi={};class ji{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Qe(Wi&&Ai,"ChildrenNode.ts has not been loaded"),Fi=Fi||new ji({".priority":Wi},{".priority":Ai}),Fi}get(e){const t=mt(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ci?t:null}hasIndex(e){return ft(this.indexSet_,e.toString())}addIndex(e,t){Qe(e!==_i,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(yi.Wrap);let o,a=i.getNext();for(;a;)r=r||e.isDefinedOn(a.node),n.push(a),a=i.getNext();o=r?Li(n,e.getCompare()):Wi;const s=e.toString(),l=Object.assign({},this.indexSet_);l[s]=e;const u=Object.assign({},this.indexes_);return u[s]=o,new ji(u,l)}addToIndexes(e,t){const n=yt(this.indexes_,((n,r)=>{const i=mt(this.indexSet_,r);if(Qe(i,"Missing index implementation for "+r),n===Wi){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(yi.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),Li(n,i.getCompare())}return Wi}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new yi(e.name,r))),i.insert(e,e.node)}}));return new ji(n,this.indexSet_)}removeFromIndexes(e,t){const n=yt(this.indexes_,(n=>{if(n===Wi)return n;{const r=t.get(e.name);return r?n.remove(new yi(e.name,r)):n}}));return new ji(n,this.indexSet_)}}let Bi;class Ui{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ii(this.priorityNode_),this.children_.isEmpty()&&Qe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Bi||(Bi=new Ui(new Ci(Ei),null,ji.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Bi}updatePriority(e){return this.children_.isEmpty()?this:new Ui(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Bi:t}}getChild(e){const t=ei(e);return null===t?this:this.getImmediateChild(t).getChild(ni(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Qe(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new yi(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?Bi:this.priorityNode_;return new Ui(r,o,i)}}updateChild(e,t){const n=ei(e);if(null===n)return t;{Qe(".priority"!==ei(e)||1===ti(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(ni(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(Ai,((o,a)=>{t[o]=a.val(e),n++,i&&Ui.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Ti(this.getPriority().val())+":"),this.forEachChild(Ai,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":ir(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new yi(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new yi(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new yi(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,yi.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,yi.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Hi?-1:0}withIndex(e){if(e===_i||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Ui(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===_i||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Ai),n=t.getIterator(Ai);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===_i?null:this.indexMap_.get(e.toString())}}Ui.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Hi=new class extends Ui{constructor(){super(new Ci(Ei),Ui.EMPTY_NODE,ji.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ui.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(yi,{MIN:{value:new yi(fr,Ui.EMPTY_NODE)},MAX:{value:new yi(mr,Hi)}}),wi.__EMPTY_NODE=Ui.EMPTY_NODE,Mi.__childrenNodeConstructor=Ui,Ni=Hi,Di=Hi;const qi=!0;function Vi(e,t=null){if(null===e)return Ui.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),Qe(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Mi(e,Vi(t));if(e instanceof Array||!qi){let n=Ui.EMPTY_NODE;return _r(e,((t,r)=>{if(ft(e,t)&&"."!==t.substring(0,1)){const e=Vi(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(Vi(t))}{const n=[];let r=!1;if(_r(e,((e,t)=>{if("."!==e.substring(0,1)){const i=Vi(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new yi(e,i)))}})),0===n.length)return Ui.EMPTY_NODE;const i=Li(n,Si,(e=>e.name),Ei);if(r){const e=Li(n,Ai.getCompare());return new Ui(i,Vi(t),new ji({".priority":e},{".priority":Ai}))}return new Ui(i,Vi(t),ji.Default)}}!function(e){Ri=e}(Vi);class $i extends vi{constructor(e){super(),this.indexPath_=e,Qe(!si(e)&&".priority"!==ei(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?gr(e.name,t.name):i}makePost(e,t){const n=Vi(e),r=Ui.EMPTY_NODE.updateChild(this.indexPath_,n);return new yi(t,r)}maxPost(){const e=Ui.EMPTY_NODE.updateChild(this.indexPath_,Hi);return new yi(mr,e)}toString(){return ii(this.indexPath_,0).join("/")}}const Yi=new class extends vi{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?gr(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return yi.MIN}maxPost(){return yi.MAX}makePost(e,t){const n=Vi(e);return new yi(t,n)}toString(){return".value"}};function Qi(e){return{type:"value",snapshotNode:e}}function Gi(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Ki(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Xi(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Ji{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){Qe(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(Ki(t,a)):Qe(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Gi(t,n)):o.trackChildChange(Xi(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Ai,((e,r)=>{t.hasChild(e)||n.trackChildChange(Ki(e,r))})),t.isLeafNode()||t.forEachChild(Ai,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Xi(t,r,i))}else n.trackChildChange(Gi(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Ui.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Zi{constructor(e){this.indexedFilter_=new Ji(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Zi.getStartPost_(e),this.endPost_=Zi.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new yi(t,n))||(n=Ui.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Ui.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Ui.EMPTY_NODE);const i=this;return t.forEachChild(Ai,((e,t)=>{i.matches(new yi(e,t))||(r=r.updateImmediateChild(e,Ui.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class eo{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Zi(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new yi(t,n))||(n=Ui.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Ui.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Ui.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(Ui.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,Ui.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const a=e;Qe(a.numChildren()===this.limit_,"");const s=new yi(t,n),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(s);if(a.hasChild(t)){const e=a.getImmediateChild(t);let c=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=c&&(c.name===t||a.hasChild(c.name));)c=r.getChildAfterChild(this.index_,c,this.reverse_);const d=null==c?1:o(c,s);if(u&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Xi(t,n,e)),a.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(Ki(t,e));const n=a.updateImmediateChild(t,Ui.EMPTY_NODE);return null!=c&&this.rangedFilter_.matches(c)?(null!=i&&i.trackChildChange(Gi(c.name,c.node)),n.updateImmediateChild(c.name,c.node)):n}}return n.isEmpty()?e:u&&o(l,s)>=0?(null!=i&&(i.trackChildChange(Ki(l.name,l.node)),i.trackChildChange(Gi(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(l.name,Ui.EMPTY_NODE)):e}}class to{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ai}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Qe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Qe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fr}hasEnd(){return this.endSet_}getIndexEndValue(){return Qe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Qe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:mr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Qe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ai}copy(){const e=new to;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function no(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Ai?n="$priority":e.index_===Yi?n="$value":e.index_===_i?n="$key":(Qe(e.index_ instanceof $i,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ht(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=ht(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+ht(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=ht(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+ht(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function ro(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Ai&&(t.i=e.index_.toString()),t}class io extends Gr{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=ur("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Qe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=io.getListenId_(e,n),a={};this.listens_[o]=a;const s=no(e._queryParams);this.restRequest_(i+".json",s,((e,t)=>{let s=t;if(404===e&&(s=null,e=null),null===e&&this.onDataUpdate_(i,s,!1,n),mt(this.listens_,o)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=io.getListenId_(e,t);delete this.listens_[n]}get(e){const t=no(e._queryParams),n=e._path.toString(),r=new at;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([r,i])=>{r&&r.accessToken&&(t.auth=r.accessToken),i&&i.token&&(t.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+function(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=dt(a.responseText)}catch(e){hr("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&hr("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()}))}}class oo{constructor(){this.rootNode_=Ui.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function ao(){return{value:null,children:new Map}}function so(e,t,n){if(si(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=ei(t);e.children.has(r)||e.children.set(r,ao()),so(e.children.get(r),t=ni(t),n)}}function lo(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{lo(r,new Jr(t.toString()+"/"+e),n)}))}class uo{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&_r(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class co{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new uo(e);const n=1e4+2e4*Math.random();Er(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;_r(e,((e,r)=>{r>0&&ft(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),Er(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ho;function po(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ho||(ho={}));class fo{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ho.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(si(this.path)){if(null!=this.affectedTree.value)return Qe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Jr(e));return new fo(Zr(),t,this.revert)}}return Qe(ei(this.path)===e,"operationForChild called for unrelated child."),new fo(ni(this.path),this.affectedTree,this.revert)}}class mo{constructor(e,t){this.source=e,this.path=t,this.type=ho.LISTEN_COMPLETE}operationForChild(e){return si(this.path)?new mo(this.source,Zr()):new mo(this.source,ni(this.path))}}class go{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ho.OVERWRITE}operationForChild(e){return si(this.path)?new go(this.source,Zr(),this.snap.getImmediateChild(e)):new go(this.source,ni(this.path),this.snap)}}class yo{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ho.MERGE}operationForChild(e){if(si(this.path)){const t=this.children.subtree(new Jr(e));return t.isEmpty()?null:t.value?new go(this.source,Zr(),t.value):new yo(this.source,Zr(),t)}return Qe(ei(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new yo(this.source,ni(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class vo{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(si(e))return this.isFullyInitialized()&&!this.filtered_;const t=ei(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class bo{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function wo(e,t,n,r,i,o){const a=r.filter((e=>e.type===n));a.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Ge("Should only compare child_ events.");const r=new yi(t.childName,t.snapshotNode),i=new yi(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),a.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function _o(e,t){return{eventCache:e,serverCache:t}}function xo(e,t,n,r){return _o(new vo(t,n,r),e.serverCache)}function ko(e,t,n,r){return _o(e.eventCache,new vo(t,n,r))}function Co(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function So(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Eo;class No{constructor(e,t=(()=>(Eo||(Eo=new Ci(yr)),Eo))()){this.value=e,this.children=t}static fromObject(e){let t=new No(null);return _r(e,((e,n)=>{t=t.set(new Jr(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Zr(),value:this.value};if(si(e))return null;{const n=ei(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(ni(e),t);return null!=i?{path:ai(new Jr(n),i.path),value:i.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(si(e))return this;{const t=ei(e),n=this.children.get(t);return null!==n?n.subtree(ni(e)):new No(null)}}set(e,t){if(si(e))return new No(t,this.children);{const n=ei(e),r=(this.children.get(n)||new No(null)).set(ni(e),t),i=this.children.insert(n,r);return new No(this.value,i)}}remove(e){if(si(e))return this.children.isEmpty()?new No(null):new No(null,this.children);{const t=ei(e),n=this.children.get(t);if(n){const r=n.remove(ni(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new No(null):new No(this.value,i)}return this}}get(e){if(si(e))return this.value;{const t=ei(e),n=this.children.get(t);return n?n.get(ni(e)):null}}setTree(e,t){if(si(e))return t;{const n=ei(e),r=(this.children.get(n)||new No(null)).setTree(ni(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new No(this.value,i)}}fold(e){return this.fold_(Zr(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(ai(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Zr(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(si(e))return null;{const r=ei(e),i=this.children.get(r);return i?i.findOnPath_(ni(e),ai(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Zr(),t)}foreachOnPath_(e,t,n){if(si(e))return this;{this.value&&n(t,this.value);const r=ei(e),i=this.children.get(r);return i?i.foreachOnPath_(ni(e),ai(t,r),n):new No(null)}}foreach(e){this.foreach_(Zr(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(ai(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class To{constructor(e){this.writeTree_=e}static empty(){return new To(new No(null))}}function Io(e,t,n){if(si(t))return new To(new No(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const a=li(i,t);return o=o.updateChild(a,n),new To(e.writeTree_.set(i,o))}{const r=new No(n),i=e.writeTree_.setTree(t,r);return new To(i)}}}function Po(e,t,n){let r=e;return _r(n,((e,n)=>{r=Io(r,ai(t,e),n)})),r}function Ro(e,t){if(si(t))return To.empty();{const n=e.writeTree_.setTree(t,new No(null));return new To(n)}}function Do(e,t){return null!=Mo(e,t)}function Mo(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(li(n.path,t)):null}function Ao(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ai,((e,n)=>{t.push(new yi(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new yi(e,n.value))})),t}function zo(e,t){if(si(t))return e;{const n=Mo(e,t);return new To(null!=n?new No(n):e.writeTree_.subtree(t))}}function Oo(e){return e.writeTree_.isEmpty()}function Lo(e,t){return Fo(Zr(),e.writeTree_,t)}function Fo(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(Qe(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Fo(ai(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(ai(e,".priority"),r)),n}}function Wo(e,t){return Ko(t,e)}function jo(e,t){if(e.snap)return ci(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&ci(ai(e.path,n),t))return!0;return!1}function Bo(e){return e.visible}function Uo(e,t,n){let r=To.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)ci(n,e)?(t=li(n,e),r=Io(r,t,o.snap)):ci(e,n)&&(t=li(e,n),r=Io(r,Zr(),o.snap.getChild(t)));else{if(!o.children)throw Ge("WriteRecord should have .snap or .children");if(ci(n,e))t=li(n,e),r=Po(r,t,o.children);else if(ci(e,n))if(t=li(e,n),si(t))r=Po(r,Zr(),o.children);else{const e=mt(o.children,ei(t));if(e){const n=e.getChild(ni(t));r=Io(r,Zr(),n)}}}}}return r}function Ho(e,t,n,r,i){if(r||i){const o=zo(e.visibleWrites,t);if(!i&&Oo(o))return n;if(i||null!=n||Do(o,Zr())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(ci(e.path,t)||ci(t,e.path))};return Lo(Uo(e.allWrites,o,t),n||Ui.EMPTY_NODE)}return null}{const r=Mo(e.visibleWrites,t);if(null!=r)return r;{const r=zo(e.visibleWrites,t);return Oo(r)?n:null!=n||Do(r,Zr())?Lo(r,n||Ui.EMPTY_NODE):null}}}function qo(e,t,n,r){return Ho(e.writeTree,e.treePath,t,n,r)}function Vo(e,t){return function(e,t,n){let r=Ui.EMPTY_NODE;const i=Mo(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ai,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=zo(e.visibleWrites,t);return n.forEachChild(Ai,((e,t)=>{const n=Lo(zo(i,new Jr(e)),t);r=r.updateImmediateChild(e,n)})),Ao(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return Ao(zo(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function $o(e,t,n,r){return function(e,t,n,r,i){Qe(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=ai(t,n);if(Do(e.visibleWrites,o))return null;{const t=zo(e.visibleWrites,o);return Oo(t)?i.getChild(n):Lo(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Yo(e,t){return function(e,t){return Mo(e.visibleWrites,t)}(e.writeTree,ai(e.treePath,t))}function Qo(e,t,n){return function(e,t,n,r){const i=ai(t,n),o=Mo(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Lo(zo(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Go(e,t){return Ko(ai(e.treePath,t),e.writeTree)}function Ko(e,t){return{treePath:e,writeTree:t}}class Xo{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Qe("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Qe(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Xi(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Ki(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Gi(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Ge("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Xi(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Jo=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Zo{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new vo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Qo(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:So(this.viewCache_),i=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){let s;const l=zo(e.visibleWrites,t),u=Mo(l,Zr());if(null!=u)s=u;else{if(null==n)return[];s=Lo(l,n)}if(s=s.withIndex(a),s.isEmpty()||s.isLeafNode())return[];{const e=[],t=a.getCompare(),n=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function ea(e,t,n,r,i,o){const a=t.eventCache;if(null!=Yo(r,n))return t;{let s,l;if(si(n))if(Qe(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=So(t),i=Vo(r,n instanceof Ui?n:Ui.EMPTY_NODE);s=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=qo(r,So(t));s=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const u=ei(n);if(".priority"===u){Qe(1===ti(n),"Can't have a priority with additional path components");const i=a.getNode();l=t.serverCache.getNode();const o=$o(r,n,i,l);s=null!=o?e.filter.updatePriority(i,o):a.getNode()}else{const c=ni(n);let d;if(a.isCompleteForChild(u)){l=t.serverCache.getNode();const e=$o(r,n,a.getNode(),l);d=null!=e?a.getNode().getImmediateChild(u).updateChild(c,e):a.getNode().getImmediateChild(u)}else d=Qo(r,u,t.serverCache);s=null!=d?e.filter.updateChild(a.getNode(),u,d,c,i,o):a.getNode()}}return xo(t,s,a.isFullyInitialized()||si(n),e.filter.filtersNodes())}}function ta(e,t,n,r,i,o,a,s){const l=t.serverCache;let u;const c=a?e.filter:e.filter.getIndexedFilter();if(si(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),e,null)}else{const e=ei(n);if(!l.isCompleteForPath(n)&&ti(n)>1)return t;const i=ni(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);u=".priority"===e?c.updatePriority(l.getNode(),o):c.updateChild(l.getNode(),e,o,i,Jo,null)}const d=ko(t,u,l.isFullyInitialized()||si(n),c.filtersNodes());return ea(e,d,n,i,new Zo(i,d,o),s)}function na(e,t,n,r,i,o,a){const s=t.eventCache;let l,u;const c=new Zo(i,t,o);if(si(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),l=xo(t,u,!0,e.filter.filtersNodes());else{const i=ei(n);if(".priority"===i)u=e.filter.updatePriority(t.eventCache.getNode(),r),l=xo(t,u,s.isFullyInitialized(),s.isFiltered());else{const o=ni(n),u=s.getNode().getImmediateChild(i);let d;if(si(o))d=r;else{const e=c.getCompleteChild(i);d=null!=e?".priority"===ri(o)&&e.getChild(oi(o)).isEmpty()?e:e.updateChild(o,r):Ui.EMPTY_NODE}l=u.equals(d)?t:xo(t,e.filter.updateChild(s.getNode(),i,d,o,c,a),s.isFullyInitialized(),e.filter.filtersNodes())}}return l}function ra(e,t){return e.eventCache.isCompleteForChild(t)}function ia(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function oa(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,u=t;l=si(n)?r:new No(null).setTree(n,r);const c=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(c.hasChild(n)){const l=ia(0,t.serverCache.getNode().getImmediateChild(n),r);u=ta(e,u,new Jr(n),l,i,o,a,s)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!l){const l=ia(0,t.serverCache.getNode().getImmediateChild(n),r);u=ta(e,u,new Jr(n),l,i,o,a,s)}})),u}class aa{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new Ji(n.getIndex()),i=(o=n).loadsAllData()?new Ji(o.getIndex()):o.hasLimit()?new eo(o):new Zi(o);var o;this.processor_=function(e){return{filter:e}}(i);const a=t.serverCache,s=t.eventCache,l=r.updateFullNode(Ui.EMPTY_NODE,a.getNode(),null),u=i.updateFullNode(Ui.EMPTY_NODE,s.getNode(),null),c=new vo(l,a.isFullyInitialized(),r.filtersNodes()),d=new vo(u,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=_o(d,c),this.eventGenerator_=new bo(this.query_)}get query(){return this.query_}}function sa(e,t){const n=So(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!si(t)&&!n.getImmediateChild(ei(t)).isEmpty())?n.getChild(t):null}function la(e){return 0===e.eventRegistrations_.length}function ua(e,t,n){const r=[];if(n){Qe(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function ca(e,t,n,r){t.type===ho.MERGE&&null!==t.source.queryId&&(Qe(So(e.viewCache_),"We should always have a full cache before handling merges"),Qe(Co(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=function(e,t,n,r,i){const o=new Xo;let a,s;if(n.type===ho.OVERWRITE){const l=n;l.source.fromUser?a=na(e,t,l.path,l.snap,r,i,o):(Qe(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered()&&!si(l.path),a=ta(e,t,l.path,l.snap,r,i,s,o))}else if(n.type===ho.MERGE){const l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){let s=t;return r.foreach(((r,l)=>{const u=ai(n,r);ra(t,ei(u))&&(s=na(e,s,u,l,i,o,a))})),r.foreach(((r,l)=>{const u=ai(n,r);ra(t,ei(u))||(s=na(e,s,u,l,i,o,a))})),s}(e,t,l.path,l.children,r,i,o):(Qe(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=oa(e,t,l.path,l.children,r,i,s,o))}else if(n.type===ho.ACK_USER_WRITE){const s=n;a=s.revert?function(e,t,n,r,i,o){let a;if(null!=Yo(r,n))return t;{const s=new Zo(r,t,i),l=t.eventCache.getNode();let u;if(si(n)||".priority"===ei(n)){let n;if(t.serverCache.isFullyInitialized())n=qo(r,So(t));else{const e=t.serverCache.getNode();Qe(e instanceof Ui,"serverChildren would be complete if leaf node"),n=Vo(r,e)}u=e.filter.updateFullNode(l,n,o)}else{const i=ei(n);let c=Qo(r,i,t.serverCache);null==c&&t.serverCache.isCompleteForChild(i)&&(c=l.getImmediateChild(i)),u=null!=c?e.filter.updateChild(l,i,c,ni(n),s,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,Ui.EMPTY_NODE,ni(n),s,o):l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=qo(r,So(t)),a.isLeafNode()&&(u=e.filter.updateFullNode(u,a,o)))}return a=t.serverCache.isFullyInitialized()||null!=Yo(r,Zr()),xo(t,u,a,e.filter.filtersNodes())}}(e,t,s.path,r,i,o):function(e,t,n,r,i,o,a){if(null!=Yo(i,n))return t;const s=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(si(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return ta(e,t,n,l.getNode().getChild(n),i,o,s,a);if(si(n)){let r=new No(null);return l.getNode().forEachChild(_i,((e,t)=>{r=r.set(new Jr(e),t)})),oa(e,t,n,r,i,o,s,a)}return t}{let u=new No(null);return r.foreach(((e,t)=>{const r=ai(n,e);l.isCompleteForPath(r)&&(u=u.set(e,l.getNode().getChild(r)))})),oa(e,t,n,u,i,o,s,a)}}(e,t,s.path,s.affectedTree,r,i,o)}else{if(n.type!==ho.LISTEN_COMPLETE)throw Ge("Unknown operation type: "+n.type);a=function(e,t,n,r,i){const o=t.serverCache;return ea(e,ko(t,o.getNode(),o.isFullyInitialized()||si(n),o.isFiltered()),n,r,Jo,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Co(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Qi(Co(t)))}}(t,a,l),{viewCache:a,changes:l}}(e.processor_,i,t,n,r);var a,s;return a=e.processor_,s=o.viewCache,Qe(s.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),Qe(s.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),Qe(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,da(e,o.changes,o.viewCache.eventCache.getNode(),null)}function da(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),wo(e,i,"child_removed",t,r,n),wo(e,i,"child_added",t,r,n),wo(e,i,"child_moved",o,r,n),wo(e,i,"child_changed",t,r,n),wo(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let ha,pa;class fa{constructor(){this.views=new Map}}function ma(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return Qe(null!=o,"SyncTree gave us an op for an invalid query."),ca(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(ca(o,t,n,r));return i}}function ga(e,t,n,r,i,o){const a=function(e,t,n,r,i){const o=t._queryIdentifier,a=e.views.get(o);if(!a){let e=qo(n,i?r:null),o=!1;e?o=!0:r instanceof Ui?(e=Vo(n,r),o=!1):(e=Ui.EMPTY_NODE,o=!1);const a=_o(new vo(e,o,!1),new vo(r,i,!1));return new aa(t,a)}return a}(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ai,((e,t)=>{r.push(Gi(e,t))})),n.isFullyInitialized()&&r.push(Qi(n.getNode())),da(e,r,n.getNode(),t)}(a,n)}function ya(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function va(e,t){let n=null;for(const r of e.views.values())n=n||sa(r,t);return n}function ba(e,t){if(t._queryParams.loadsAllData())return xa(e);{const n=t._queryIdentifier;return e.views.get(n)}}function wa(e,t){return null!=ba(e,t)}function _a(e){return null!=xa(e)}function xa(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let ka=1;class Ca{constructor(e){this.listenProvider_=e,this.syncPointTree_=new No(null),this.pendingWriteTree_={visibleWrites:To.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Sa(e,t,n,r,i){return function(e,t,n,r,i){Qe(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Io(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Ra(e,new go({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Ea(e,t,n=!1){const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));Qe(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,a=e.allWrites.length-1;for(;i&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=n&&jo(t,r.path)?i=!1:ci(r.path,t.path)&&(o=!0)),a--}return!!i&&(o?(function(e){e.visibleWrites=Uo(e.allWrites,Bo,Zr()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0):(r.snap?e.visibleWrites=Ro(e.visibleWrites,r.path):_r(r.children,(t=>{e.visibleWrites=Ro(e.visibleWrites,ai(r.path,t))})),!0))}(e.pendingWriteTree_,t)){let t=new No(null);return null!=r.snap?t=t.set(Zr(),!0):_r(r.children,(e=>{t=t.set(new Jr(e),!0)})),Ra(e,new fo(r.path,t,n))}return[]}function Na(e,t,n){return Ra(e,new go({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Ta(e,t,n,r,i=!1){const o=t._path,a=e.syncPointTree_.get(o);let s=[];if(a&&("default"===t._queryIdentifier||wa(a,t))){const l=function(e,t,n,r){const i=t._queryIdentifier,o=[];let a=[];const s=_a(e);if("default"===i)for(const[t,i]of e.views.entries())a=a.concat(ua(i,n,r)),la(i)&&(e.views.delete(t),i.query._queryParams.loadsAllData()||o.push(i.query));else{const t=e.views.get(i);t&&(a=a.concat(ua(t,n,r)),la(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return s&&!_a(e)&&o.push(new(Qe(ha,"Reference.ts has not been loaded"),ha)(t._repo,t._path)),{removed:o,events:a}}(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const u=l.removed;if(s=l.events,!i){const n=-1!==u.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(o,((e,t)=>_a(t)));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&_a(t))return[xa(t)];{let e=[];return t&&(e=ya(t)),_r(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=Aa(e,r);e.listenProvider_.startListening(ja(i),za(e,i),o.hashFn,o.onComplete)}}}if(!i&&u.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(ja(t),n)}else u.forEach((t=>{const n=e.queryToTagMap.get(Oa(t));e.listenProvider_.stopListening(ja(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Oa(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,u)}return s}function Ia(e,t,n,r=!1){const i=t._path;let o=null,a=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=li(e,i);o=o||va(t,n),a=a||_a(t)}));let s,l=e.syncPointTree_.get(i);l?(a=a||_a(l),o=o||va(l,Zr())):(l=new fa,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=o?s=!0:(s=!1,o=Ui.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild(((e,t)=>{const n=va(t,Zr());n&&(o=o.updateImmediateChild(e,n))})));const u=wa(l,t);if(!u&&!t._queryParams.loadsAllData()){const n=Oa(t);Qe(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=ka++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let c=ga(l,t,n,Wo(e.pendingWriteTree_,i),o,s);if(!u&&!a&&!r){const n=ba(l,t);c=c.concat(function(e,t,n){const r=t._path,i=za(e,t),o=Aa(e,n),a=e.listenProvider_.startListening(ja(t),i,o.hashFn,o.onComplete),s=e.syncPointTree_.subtree(r);if(i)Qe(!_a(s.value),"If we're adding a query, it shouldn't be shadowed");else{const t=s.fold(((e,t,n)=>{if(!si(e)&&t&&_a(t))return[xa(t).query];{let e=[];return t&&(e=e.concat(ya(t).map((e=>e.query)))),_r(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(ja(r),za(e,r))}}return a}(e,t,n))}return c}function Pa(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=va(n,li(e,t));if(r)return r}));return Ho(r,t,i,n,!0)}function Ra(e,t){return Da(t,e.syncPointTree_,null,Wo(e.pendingWriteTree_,Zr()))}function Da(e,t,n,r){if(si(e.path))return Ma(e,t,n,r);{const i=t.get(Zr());null==n&&null!=i&&(n=va(i,Zr()));let o=[];const a=ei(e.path),s=e.operationForChild(a),l=t.children.get(a);if(l&&s){const e=n?n.getImmediateChild(a):null,t=Go(r,a);o=o.concat(Da(s,l,e,t))}return i&&(o=o.concat(ma(i,e,r,n))),o}}function Ma(e,t,n,r){const i=t.get(Zr());null==n&&null!=i&&(n=va(i,Zr()));let o=[];return t.children.inorderTraversal(((t,i)=>{const a=n?n.getImmediateChild(t):null,s=Go(r,t),l=e.operationForChild(t);l&&(o=o.concat(Ma(l,i,a,s)))})),i&&(o=o.concat(ma(i,e,r,n))),o}function Aa(e,t){const n=t.query,r=za(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Ui.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=La(e,n);if(r){const n=Fa(r),i=n.path,o=n.queryId,a=li(i,t);return Wa(e,i,new mo(po(o),a))}return[]}(e,n._path,r):function(e,t){return Ra(e,new mo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Ta(e,n,null,r)}}}}function za(e,t){const n=Oa(t);return e.queryToTagMap.get(n)}function Oa(e){return e._path.toString()+"$"+e._queryIdentifier}function La(e,t){return e.tagToQueryMap.get(t)}function Fa(e){const t=e.indexOf("$");return Qe(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Jr(e.substr(0,t))}}function Wa(e,t,n){const r=e.syncPointTree_.get(t);return Qe(r,"Missing sync point for query tag that we're tracking"),ma(r,n,Wo(e.pendingWriteTree_,t),null)}function ja(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Qe(pa,"Reference.ts has not been loaded"),pa)(e._repo,e._path):e}class Ba{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Ba(t)}node(){return this.node_}}class Ua{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ai(this.path_,e);return new Ua(this.syncTree_,t)}node(){return Pa(this.syncTree_,this.path_)}}const Ha=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},qa=function(e,t,n){return e&&"object"==typeof e?(Qe(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Va(e[".sv"],t,n):"object"==typeof e[".sv"]?$a(e[".sv"],t):void Qe(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Va=function(e,t,n){if("timestamp"===e)return n.timestamp;Qe(!1,"Unexpected server value: "+e)},$a=function(e,t,n){e.hasOwnProperty("increment")||Qe(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&Qe(!1,"Unexpected increment value: "+r);const i=t.node();if(Qe(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},Ya=function(e,t,n,r){return Ga(t,new Ua(n,e),r)},Qa=function(e,t,n){return Ga(e,new Ba(t),n)};function Ga(e,t,n){const r=e.getPriority().val(),i=qa(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=qa(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new Mi(o,Vi(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new Mi(i))),r.forEachChild(Ai,((e,r)=>{const i=Ga(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}class Ka{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function Xa(e,t){let n=t instanceof Jr?t:new Jr(t),r=e,i=ei(n);for(;null!==i;){const e=mt(r.node.children,i)||{children:{},childCount:0};r=new Ka(i,r,e),n=ni(n),i=ei(n)}return r}function Ja(e){return e.node.value}function Za(e,t){e.node.value=t,is(e)}function es(e){return e.node.childCount>0}function ts(e,t){_r(e.node.children,((n,r)=>{t(new Ka(n,e,r))}))}function ns(e,t,n,r){n&&!r&&t(e),ts(e,(e=>{ns(e,t,!0,r)})),n&&r&&t(e)}function rs(e){return new Jr(null===e.parent?e.name:rs(e.parent)+"/"+e.name)}function is(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Ja(e)&&!es(e)}(n),i=ft(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,is(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,is(e))}(e.parent,e.name,e)}const os=/[\[\].#$\/\u0000-\u001F\u007F]/,as=/[\[\].#$\u0000-\u001F\u007F]/,ss=10485760,ls=function(e){return"string"==typeof e&&0!==e.length&&!os.test(e)},us=function(e){return"string"==typeof e&&0!==e.length&&!as.test(e)},cs=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!pr(e)||e&&"object"==typeof e&&ft(e,".sv")},ds=function(e,t,n,r){r&&void 0===t||hs(_t(e,"value"),t,n)},hs=function(e,t,n){const r=n instanceof Jr?new di(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+pi(r));if("function"==typeof t)throw new Error(e+"contains a function "+pi(r)+" with contents = "+t.toString());if(pr(t))throw new Error(e+"contains "+t.toString()+" "+pi(r));if("string"==typeof t&&t.length>ss/3&&xt(t)>ss)throw new Error(e+"contains a string greater than "+ss+" utf8 bytes "+pi(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,i=!1;if(_r(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!ls(t)))throw new Error(e+" contains an invalid key ("+t+") "+pi(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=xt(t),hi(e)}(r,t),hs(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=xt(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+pi(r)+" in addition to actual children.")}},ps=function(e,t,n,r){if(!(r&&void 0===n||us(n)))throw new Error(_t(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},fs=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ps(e,t,n,r)},ms=function(e,t){if(".info"===ei(t))throw new Error(e+" failed = Can't modify data under /.info/")};class gs{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ys(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||ui(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function vs(e,t,n){ys(e,n),ws(e,(e=>ui(e,t)))}function bs(e,t,n){ys(e,n),ws(e,(e=>ci(e,t)||ci(t,e)))}function ws(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(_s(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function _s(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();ar&&lr("event: "+n.toString()),Sr(r)}}}const xs=25;class ks{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new gs,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ao(),this.transactionQueueTree_=new Ka,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Cs(e,t,n){if(e.stats_=jr(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new io(e.repoInfo_,((t,n,r,i)=>{Ns(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>Ts(e,!0)),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ht(n)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new gi(e.repoInfo_,t,((t,n,r,i)=>{Ns(e,t,n,r,i)}),(t=>{Ts(e,t)}),(t=>{!function(e,t){_r(t,((t,n)=>{Is(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(t){const n=t.toString();return Wr[n]||(Wr[n]=new co(e.stats_,e.server_)),Wr[n]}(e.repoInfo_),e.infoData_=new oo,e.infoSyncTree_=new Ca({startListening:(t,n,r,i)=>{let o=[];const a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=Na(e.infoSyncTree_,t._path,a),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),Is(e,"connected",!1),e.serverSyncTree_=new Ca({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);bs(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function Ss(e){const t=e.infoData_.getNode(new Jr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Es(e){return Ha({timestamp:Ss(e)})}function Ns(e,t,n,r,i){e.dataUpdateCount++;const o=new Jr(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(i)if(r){const t=yt(n,(e=>Vi(e)));a=function(e,t,n,r){const i=La(e,r);if(i){const r=Fa(i),o=r.path,a=r.queryId,s=li(o,t),l=No.fromObject(n);return Wa(e,o,new yo(po(a),s,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=Vi(n);a=function(e,t,n,r){const i=La(e,r);if(null!=i){const r=Fa(i),o=r.path,a=r.queryId,s=li(o,t);return Wa(e,o,new go(po(a),s,n))}return[]}(e.serverSyncTree_,o,t,i)}else if(r){const t=yt(n,(e=>Vi(e)));a=function(e,t,n){const r=No.fromObject(n);return Ra(e,new yo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=Vi(n);a=Na(e.serverSyncTree_,o,t)}let s=o;a.length>0&&(s=Os(e,o)),bs(e.eventQueue_,s,a)}function Ts(e,t){Is(e,"connected",t),!1===t&&function(e){Ms(e,"onDisconnectEvents");const t=Es(e),n=ao();lo(e.onDisconnect_,Zr(),((r,i)=>{const o=Ya(r,i,e.serverSyncTree_,t);so(n,r,o)}));let r=[];lo(n,Zr(),((t,n)=>{r=r.concat(Na(e.serverSyncTree_,t,n));const i=Bs(e,t);Os(e,i)})),e.onDisconnect_=ao(),bs(e.eventQueue_,Zr(),r)}(e)}function Is(e,t,n){const r=new Jr("/.info/"+t),i=Vi(n);e.infoData_.updateSnapshot(r,i);const o=Na(e.infoSyncTree_,r,i);bs(e.eventQueue_,r,o)}function Ps(e){return e.nextWriteId_++}function Rs(e,t,n,r,i){Ms(e,"set",{path:t.toString(),value:n,priority:r});const o=Es(e),a=Vi(n,r),s=Pa(e.serverSyncTree_,t),l=Qa(a,s,o),u=Ps(e),c=Sa(e.serverSyncTree_,t,l,u,!0);ys(e.eventQueue_,c),e.server_.put(t.toString(),a.val(!0),((n,r)=>{const o="ok"===n;o||hr("set at "+t+" failed: "+n);const a=Ea(e.serverSyncTree_,u,!o);bs(e.eventQueue_,t,a),function(e,t,n,r){t&&Sr((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}}))}(0,i,n,r)}));const d=Bs(e,t);Os(e,d),bs(e.eventQueue_,d,[])}function Ds(e,t,n){let r;r=".info"===ei(t._path)?Ta(e.infoSyncTree_,t,n):Ta(e.serverSyncTree_,t,n),vs(e.eventQueue_,t._path,r)}function Ms(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),lr(n,...t)}function As(e,t,n){return Pa(e.serverSyncTree_,t,n)||Ui.EMPTY_NODE}function zs(e,t=e.transactionQueueTree_){if(t||js(e,t),Ja(t)){const n=Fs(e,t);Qe(n.length>0,"Sending zero length transaction queue"),n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=As(e,t,r);let o=i;const a=i.hash();for(let e=0;e<n.length;e++){const r=n[e];Qe(0===r.status,"tryToSendTransactionQueue_: items in queue should all be run."),r.status=1,r.retryCount++;const i=li(t,r.path);o=o.updateChild(i,r.currentOutputSnapshotRaw)}const s=o.val(!0),l=t;e.server_.put(l.toString(),s,(r=>{Ms(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(Ea(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();js(e,Xa(e.transactionQueueTree_,t)),zs(e,e.transactionQueueTree_),bs(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)Sr(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{hr("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Os(e,t)}}),a)}(e,rs(t),n)}else es(t)&&ts(t,(t=>{zs(e,t)}))}function Os(e,t){const n=Ls(e,t),r=rs(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter((e=>0===e.status)).map((e=>e.currentWriteId));for(let s=0;s<t.length;s++){const l=t[s],u=li(n,l.path);let c,d=!1;if(Qe(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)d=!0,c=l.abortReason,i=i.concat(Ea(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=xs)d=!0,c="maxretry",i=i.concat(Ea(e.serverSyncTree_,l.currentWriteId,!0));else{const n=As(e,l.path,o);l.currentInputSnapshot=n;const r=t[s].update(n.val());if(void 0!==r){hs("transaction failed: Data returned ",r,l.path);let t=Vi(r);"object"==typeof r&&null!=r&&ft(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=l.currentWriteId,s=Es(e),u=Qa(t,n,s);l.currentOutputSnapshotRaw=t,l.currentOutputSnapshotResolved=u,l.currentWriteId=Ps(e),o.splice(o.indexOf(a),1),i=i.concat(Sa(e.serverSyncTree_,l.path,u,l.currentWriteId,l.applyLocally)),i=i.concat(Ea(e.serverSyncTree_,a,!0))}else d=!0,c="nodata",i=i.concat(Ea(e.serverSyncTree_,l.currentWriteId,!0))}bs(e.eventQueue_,n,i),i=[],d&&(t[s].status=2,a=t[s].unwatcher,setTimeout(a,Math.floor(0)),t[s].onComplete&&("nodata"===c?r.push((()=>t[s].onComplete(null,!1,t[s].currentInputSnapshot))):r.push((()=>t[s].onComplete(new Error(c),!1,null)))))}var a;js(e,e.transactionQueueTree_);for(let e=0;e<r.length;e++)Sr(r[e]);zs(e,e.transactionQueueTree_)}(e,Fs(e,n),r),r}function Ls(e,t){let n,r=e.transactionQueueTree_;for(n=ei(t);null!==n&&void 0===Ja(r);)r=Xa(r,n),n=ei(t=ni(t));return r}function Fs(e,t){const n=[];return Ws(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function Ws(e,t,n){const r=Ja(t);if(r)for(let e=0;e<r.length;e++)n.push(r[e]);ts(t,(t=>{Ws(e,t,n)}))}function js(e,t){const n=Ja(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Za(t,n.length>0?n:void 0)}ts(t,(t=>{js(e,t)}))}function Bs(e,t){const n=rs(Ls(e,t)),r=Xa(e.transactionQueueTree_,t);return function(e,t){let n=e.parent;for(;null!==n;){if(t(n))return!0;n=n.parent}}(r,(t=>{Us(e,t)})),Us(e,r),ns(r,(t=>{Us(e,t)})),n}function Us(e,t){const n=Ja(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Qe(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(Qe(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(Ea(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Za(t,void 0):n.length=o+1,bs(e.eventQueue_,rs(t),i);for(let e=0;e<r.length;e++)Sr(r[e])}}const Hs=function(e,t){const n=qs(e),r=n.namespace;"firebase.com"===n.domain&&dr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||dr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&hr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new zr(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Jr(n.pathString)}},qs=function(e){let t="",n="",r="",i="",o="",a=!0,s="https",l=443;if("string"==typeof e){let u=e.indexOf("//");u>=0&&(s=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");-1===c&&(c=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=function(e){let t="";const n=e.split("/");for(let e=0;e<n.length;e++)if(n[e].length>0){let r=n[e];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(e){}t+="/"+r}return t}(e.substring(c,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):hr(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(a="https"===s||"wss"===s,l=parseInt(t.substring(u+1),10)):u=t.length;const p=t.slice(0,u);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},Vs="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",$s=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=Vs.charAt(n%64),n=Math.floor(n/64);Qe(0===n,"Cannot push at time == 0");let a=o.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)a+=Vs.charAt(t[i]);return Qe(20===a.length,"nextPushId: Length should be 20."),a}}();class Ys{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ht(this.snapshot.exportVal())}}class Qs{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Gs{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Qe(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Ks{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return si(this._path)?null:ri(this._path)}get ref(){return new Xs(this._repo,this._path)}get _queryIdentifier(){const e=ro(this._queryParams),t=br(e);return"{}"===t?"default":t}get _queryObject(){return ro(this._queryParams)}isEqual(e){if(!((e=kt(e))instanceof Ks))return!1;const t=this._repo===e._repo,n=ui(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class Xs extends Ks{constructor(e,t){super(e,t,new to,!1)}get parent(){const e=oi(this._path);return null===e?null:new Xs(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Js{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Jr(e),n=el(this.ref,e);return new Js(this._node.getChild(t),n,Ai)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,((t,n)=>e(new Js(n,el(this.ref,t),Ai))))}hasChild(e){const t=new Jr(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Zs(e,t){return(e=kt(e))._checkNotDeleted("ref"),void 0!==t?el(e._root,t):e._root}function el(e,t){return null===ei((e=kt(e))._path)?fs("child","path",t,!1):ps("child","path",t,!1),new Xs(e._repo,ai(e._path,t))}function tl(e,t){e=kt(e),ms("push",e._path),ds("push",t,e._path,!0);const n=Ss(e._repo),r=$s(n),i=el(e,r),o=el(e,r);let a;return a=null!=t?nl(o,t).then((()=>o)):Promise.resolve(o),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function nl(e,t){e=kt(e),ms("set",e._path),ds("set",t,e._path,!1);const n=new at;return Rs(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}class rl{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Ys("value",this,new Js(e.snapshotNode,new Xs(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Qs(this,e,t):null}matches(e){return e instanceof rl&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class il{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Qs(this,e,t):null}createEvent(e,t){Qe(null!=e.childName,"Child events should have a childName.");const n=el(new Xs(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ys(e.type,this,new Js(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof il&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function ol(e,t,n,r){return function(e,t,n,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{Ds(e._repo,e,s),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const a=new Gs(n,o||void 0),s="value"===t?new rl(a):new il(t,a);return function(e,t,n){let r;r=".info"===ei(t._path)?Ia(e.infoSyncTree_,t,n):Ia(e.serverSyncTree_,t,n),vs(e.eventQueue_,t._path,r)}(e._repo,e,s),()=>Ds(e._repo,e,s)}(e,"value",t,n,r)}class al{}class sl extends al{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ks(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class ll extends al{constructor(e){super(),this._path=e}_apply(e){!function(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}(e,"orderByChild");const t=new Jr(this._path);if(si(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new $i(t),r=function(e,t){const n=e.copy();return n.index_=t,n}(e._queryParams,n);return function(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===_i){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==fr)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==mr)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Ai){if(null!=t&&!cs(t)||null!=n&&!cs(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Qe(e.getIndex()instanceof $i||e.getIndex()===Yi,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}(r),new Ks(e._repo,e._path,r,!0)}}!function(e){Qe(!ha,"__referenceConstructor has already been defined"),ha=e}(Xs),function(e){Qe(!pa,"__referenceConstructor has already been defined"),pa=e}(Xs);const ul={};function cl(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||dr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),lr("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a,s,l=Hs(o,i),u=l.repoInfo;"undefined"!=typeof process&&process.env&&(s=process.env.FIREBASE_DATABASE_EMULATOR_HOST),s?(a=!0,o=`http://${s}?ns=${u.namespace}`,l=Hs(o,i),u=l.repoInfo):a=!l.repoInfo.secure;const c=i&&a?new Ir(Ir.OWNER):new Tr(e.name,e.options,t);(function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!ls(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),us(e)}(n))throw new Error(_t(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",l),si(l.path)||dr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=ul[t.name];i||(i={},ul[t.name]=i);let o=i[e.toURLString()];return o&&dr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new ks(e,false,n,r),i[e.toURLString()]=o,o}(u,e,c,new Nr(e.name,n));return new dl(d,e)}class dl{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Cs(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xs(this._repo,Zr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(e,t){const n=ul[t];n&&n[e.key]===e||dr(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&dr("Cannot call "+e+" on a deleted database.")}}gi.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},gi.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},Kn="9.23.0",Dn(new Ct("database",((e,{instanceIdentifier:t})=>cl(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t)),"PUBLIC").setMultipleInstances(!0)),On(Qn,Gn,void 0),On(Qn,Gn,"esm2017"),On("firebase","9.23.0","app");var hl=function(e=function(e=Nn){const t=In.get(e);if(!t&&e===Nn&&ot())return zn();if(!t)throw Mn.create("no-app",{appName:e});return t}(),t){const n=function(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=(e=>{const t=(e=>{var t,n;return null===(n=null===(t=it())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("database");e&&function(e,t,n,r={}){(e=kt(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&dr("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&dr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ir(Ir.OWNER);else if(r.mockUserToken){const t="string"==typeof r.mockUserToken?r.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[et(JSON.stringify({alg:"none",type:"JWT"})),et(JSON.stringify(o)),""].join(".")}(r.mockUserToken,e.app.options.projectId);o=new Ir(t)}!function(e,t,n,r){e.repoInfo_=new zr(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}(n,...e)}return n}(zn({apiKey:"AIzaSyClVcmLhr91j8b6nlVWIQ4W3hZh4HYdsck",authDomain:"unicornos-staging.firebaseapp.com",projectId:"unicornos-staging",storageBucket:"unicornos-staging.appspot.com",messagingSenderId:"1053657933201",appId:"1:1053657933201:web:c9a0cdaccaf42bc43ce630",measurementId:"G-2V5XM0M3B3",databaseURL:"https://unicornos-staging-default-rtdb.firebaseio.com"})),pl=18,fl=["","","","","","","","","",""];function ml(t){t.onClose;var n=(0,e.useState)([]),r=n[0],i=n[1],o=(0,e.useState)([]),a=o[0],s=o[1],l=(0,e.useState)(null),u=l[0],c=l[1],d=(0,e.useState)(null),h=d[0],p=d[1],f=(0,e.useState)(!1),m=f[0],g=f[1],y=(0,e.useState)(window.innerWidth<=768),v=y[0],b=(y[1],(0,e.useState)(!1)),w=b[0],_=b[1],x=(0,e.useCallback)((function(){for(var e=Array(pl).fill(null).map((function(){return Array(pl).fill(null).map((function(){return{isMine:!1,isRevealed:!1,neighborMines:0,emoji:fl[Math.floor(Math.random()*fl.length)],playerId:null}}))})),t=0;t<40;){var n=Math.floor(Math.random()*pl),r=Math.floor(Math.random()*pl);e[n][r].isMine||(e[n][r].isMine=!0,t++)}for(n=0;n<pl;n++)for(r=0;r<pl;r++)e[n][r].isMine||(e[n][r].neighborMines=gl(e,n,r));return e}),[]);(0,e.useEffect)((function(){console.log("MemojiMinesweeper component mounted");var e=Zs(hl,"memojiMinesweeper");console.log("Database reference created:",e);var t=ol(e,(function(e){console.log("Received data from Firebase:",e.val());var t=e.val();if(t){if(t.grid&&Array.isArray(t.grid))console.log("Setting grid:",t.grid),i(t.grid),p(null);else{console.log("Grid data is missing or invalid. Initializing new grid.");var n=x();nl(Zs(hl,"memojiMinesweeper/grid"),n).then((function(){console.log("New grid set in database"),i(n)})).catch((function(e){return console.error("Error setting new grid:",e)}))}t.players&&"object"==typeof t.players?(console.log("Setting players:",Object.values(t.players)),s(Object.values(t.players)),p(null)):(console.log("Players data is missing or invalid. Initializing empty players object."),nl(Zs(hl,"memojiMinesweeper/players"),{}).then((function(){return console.log("Empty players object set in database")})).catch((function(e){return console.error("Error setting empty players object:",e)}))),g(t.gameOver||!1),_(t.gameWon||!1)}else{console.log("No data received from Firebase. Initializing new game state.");var r={grid:x(),players:{},gameOver:!1,gameWon:!1};nl(Zs(hl,"memojiMinesweeper"),r).then((function(){console.log("Initial state set in database"),i(r.grid)})).catch((function(e){return console.error("Error setting initial state:",e)}))}}),(function(e){console.error("Firebase error:",e),p("Firebase error: ".concat(e.message))})),n=tl(Zs(hl,"memojiMinesweeper/players")).key;return c(n),n&&nl(Zs(hl,"memojiMinesweeper/players/".concat(n)),{id:n,color:"#".concat(Math.floor(16777215*Math.random()).toString(16))}),function(){t(),n&&nl(Zs(hl,"memojiMinesweeper/players/".concat(n)),null)}}),[x]);var k=(0,e.useCallback)((function(e,t){if(!m&&!w){var n=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],r,!0),i=n[e][t];if(!i.isRevealed){i.isRevealed=!0,i.playerId=u,i.isMine?(g(!0),nl(Zs(hl,"memojiMinesweeper/gameOver"),!0)):0===i.neighborMines&&C(n,e,t),nl(Zs(hl,"memojiMinesweeper/grid"),n);var o=n.flat().filter((function(e){return e.isRevealed})).length;o===pl*pl-40&&(_(!0),nl(Zs(hl,"memojiMinesweeper/gameWon"),!0))}}}),[r,u,m,w]),C=function(e,t,n){for(var r=-1;r<=1;r++)for(var i=-1;i<=1;i++){var o=t+r,a=n+i;if(o>=0&&o<pl&&a>=0&&a<pl){var s=e[o][a];s.isRevealed||s.isMine||(s.isRevealed=!0,s.playerId=u,0===s.neighborMines&&C(e,o,a))}}};return e.createElement("div",{className:"memoji-minesweeper"},h&&e.createElement("div",{className:"error-message"},h),e.createElement("div",{className:"game-controls"},e.createElement("div",{className:"players"},a.map((function(t){return e.createElement("div",{key:t.id,className:"player",style:{color:t.color}},"Player ",t.id===u?"(You)":"")}))),m&&e.createElement("div",{className:"game-over"},"Game Over! "),w&&e.createElement("div",{className:"game-won"},"You Win! "),e.createElement("button",{onClick:function(){var e=x();nl(Zs(hl,"memojiMinesweeper"),{grid:e,players:{},gameOver:!1,gameWon:!1}).then((function(){console.log("New game started"),i(e),g(!1),_(!1)})).catch((function(e){return console.error("Error starting new game:",e)}))},className:"new-game-button"},"New Game")),r.length>0?e.createElement("div",{className:"grid-container"},e.createElement("div",{className:"grid",style:{gridTemplateColumns:"repeat(".concat(pl,", 1fr)"),fontSize:v?"10px":"16px"}},r.map((function(t,n){return t.map((function(t,r){var i;return e.createElement("button",{key:"".concat(n,"-").concat(r),className:"cell ".concat(t.isRevealed?"revealed":""," ").concat(m&&t.isMine?"mine":""),onClick:function(){return k(n,r)},style:{backgroundColor:t.playerId?null===(i=a.find((function(e){return e.id===t.playerId})))||void 0===i?void 0:i.color:""},disabled:m||w},t.isRevealed?t.isMine?"":t.neighborMines>0?t.neighborMines:t.emoji:"")}))})))):e.createElement("div",null,"Loading game board..."))}function gl(e,t,n){for(var r=0,i=-1;i<=1;i++)for(var o=-1;o<=1;o++){var a=t+i,s=n+o;a>=0&&a<pl&&s>=0&&s<pl&&e[a][s].isMine&&r++}return r}var yl=n(8667),vl={};vl.styleTagTransform=f(),vl.setAttributes=c(),vl.insert=l().bind(null,"head"),vl.domAPI=a(),vl.insertStyleElement=h(),i()(yl.A,vl),yl.A&&yl.A.locals&&yl.A.locals;var bl=function(){return bl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},bl.apply(this,arguments)},wl=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},_l=10,xl=20,kl={I:[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],O:[[1,1],[1,1]],T:[[0,1,0],[1,1,1],[0,0,0]],S:[[0,1,1],[1,1,0],[0,0,0]],Z:[[1,1,0],[0,1,1],[0,0,0]],J:[[1,0,0],[1,1,1],[0,0,0]],L:[[0,0,1],[1,1,1],[0,0,0]]};function Cl(t){var n=t.onClose,r=t.className,i=t.style,o=t.isIframeApp,a=(0,e.useState)(Array(xl).fill(null).map((function(){return Array(_l).fill(null)}))),s=a[0],l=a[1],u=(0,e.useState)(null),c=u[0],d=u[1],h=(0,e.useState)(0),p=h[0],f=h[1],m=(0,e.useState)(!1),g=m[0],y=m[1],v=(0,e.useState)([]),b=v[0],w=v[1],_=(0,e.useState)(!1),x=_[0],k=_[1],C=(0,e.useState)(null),S=C[0],E=C[1],N=(0,e.useState)(1),T=N[0],I=N[1],P=(0,e.useState)(!1),R=P[0],D=P[1],M=(0,e.useState)(null),A=M[0],z=M[1],O=(0,e.useState)([]),L=O[0],F=O[1],W=(0,e.useState)(!1),j=W[0],B=W[1],U=(0,e.useState)({width:400,height:600}),H=U[0],q=U[1],V=(0,e.useState)(!1),$=V[0],Y=V[1],Q=(0,e.useState)(0),G=Q[0],X=Q[1],J=(0,e.useState)(0),Z=J[0],ee=J[1],te=(0,e.useState)(""),ne=te[0],re=te[1],ie=(0,e.useState)(!0),oe=(ie[0],ie[1]),ae=(0,e.useCallback)((function(){var e=["I","O","T","S","Z","J","L"],t=e[Math.floor(Math.random()*e.length)];return{type:t,shape:kl[t],position:{x:Math.floor(5)-1,y:0}}}),[]);(0,e.useEffect)((function(){c||g||!x||d(ae())}),[c,g,x,ae]),(0,e.useEffect)((function(){var e=localStorage.getItem("tetrisVanityNumber");e&&z(parseInt(e));var t=localStorage.getItem("tetrisHighScore");t&&X(parseInt(t));var n,r=function(e,...t){let n=kt(e);for(const e of t)n=e._apply(n);return n}(Zs(hl,"tetrisHighScores"),(ps("orderByChild","path",n="score",!1),new ll(n)),function(){if(15!==Math.floor(15))throw new Error("limitToLast: First argument must be a positive integer.");return new sl(15)}()),i=Zs(hl,"usedVanityNumbers"),o=ol(r,(function(e){var t=e.val();if(t){var n=Object.entries(t).map((function(e){var t=e[0],n=e[1];return bl({id:t},n)})).sort((function(e,t){return t.score-e.score})).slice(0,15);w(n)}}));return ol(i,(function(e){var t=e.val();t&&F(t)})),E(1e3),function(){return o()}}),[]);var se=function(e,t){if(c&&!g){var n={x:c.position.x+e,y:c.position.y+t};ue(c.shape,n)?d(bl(bl({},c),{position:n})):t>0&&ce()}},le=function(){if(c&&!g){var e=c.shape[0].map((function(e,t){return c.shape.map((function(e){return e[t]})).reverse()}));ue(e,c.position)&&d(bl(bl({},c),{shape:e}))}},ue=function(e,t){for(var n=0;n<e.length;n++)for(var r=0;r<e[n].length;r++)if(e[n][r]){var i=t.x+r,o=t.y+n;if(i<0||i>=_l||o>=xl||o>=0&&s[o][i])return!1}return!0},ce=function(){if(c){for(var e=wl([],s,!0),t=!1,n=0;n<c.shape.length;n++){for(var r=0;r<c.shape[n].length;r++)if(c.shape[n][r]){var i=c.position.y+n,o=c.position.x+r;if(i<0){t=!0;break}e[i][o]=c.type}if(t)break}t||de(e)?he():(l(e),ge(e),d(ae()),E(1e3/(T+1)))}},de=function(e){return e[0].some((function(e){return null!==e}))},he=function(){y(!0),E(null),Y(!0),!A&&p>=500?B(!0):fe(),oe(!1)},pe=function(){l(Array(xl).fill(null).map((function(){return Array(_l).fill(null)}))),f(0),I(1),y(!1),Y(!1),d(ae()),E(1e3),ee(0)},fe=(0,e.useCallback)((function(){if(A){var e="Player ".concat(A);nl(tl(Zs(hl,"tetrisHighScores")),{name:e,score:p}).then((function(){console.log("Score submitted successfully")})).catch((function(e){console.error("Error submitting score:",e)}))}else console.log("Vanity number not set, score not submitted")}),[A,p]),me=(0,e.useCallback)((function(e){L.includes(e)?alert("This player number is already taken. Please choose another one."):(z(e),localStorage.setItem("tetrisVanityNumber",e.toString()),B(!1),F((function(t){return wl(wl([],t,!0),[e],!1)})),nl(Zs(hl,"usedVanityNumbers"),wl(wl([],L,!0),[e],!1)).then((function(){var t="Player ".concat(e);return nl(tl(Zs(hl,"tetrisHighScores")),{name:t,score:p})})).then((function(){console.log("Vanity number set and score submitted successfully")})).catch((function(e){console.error("Error setting vanity number or submitting score:",e)})))}),[L,p]),ge=function(e){for(var t=0,n=e.filter((function(e){return!e.every((function(e){return null!==e}))||(t++,!1)}));n.length<xl;)n.unshift(Array(_l).fill(null));l(n),function(e,t){f(e),ee(t),e>G&&(X(e),localStorage.setItem("tetrisHighScore",e.toString()))}(p+100*t*T,Z+t)},ye=function(e){void 0===e&&(e=1),k(!0),y(!1),f(0),I(e),l(Array(xl).fill(null).map((function(){return Array(_l).fill(null)}))),d(ae()),E(1e3/(e+1)),ee(0)},ve=(0,e.useCallback)((function(){c&&(ue(c.shape,{x:c.position.x,y:c.position.y+1})?d((function(e){return bl(bl({},e),{position:bl(bl({},e.position),{y:e.position.y+1})})})):ce())}),[c,ue,ce]),be=(0,e.useCallback)((function(){E(50)}),[]),we=(0,e.useCallback)((function(){E(1e3/(T+1))}),[T]);(0,e.useEffect)((function(){if(x&&!g&&null!==S){var e=setInterval((function(){ve()}),S);return function(){return clearInterval(e)}}}),[x,g,S,ve]),(0,e.useEffect)((function(){p>1e3*T&&(I((function(e){return e+1})),E((function(e){return e?.9*e:null})))}),[p,T]);var _e,xe=(0,e.useCallback)((function(e){if(x&&!g)switch(e.key){case"ArrowLeft":se(-1,0);break;case"ArrowRight":se(1,0);break;case"ArrowDown":be();break;case"ArrowUp":le()}}),[x,g,se,be,le]);return(0,e.useEffect)((function(){return document.addEventListener("keydown",xe),function(){document.removeEventListener("keydown",xe)}}),[xe]),(0,e.useEffect)((function(){var e=function(){var e=window.innerWidth<=768;q(e?{width:window.innerWidth,height:window.innerHeight}:{width:400,height:600})};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),e.createElement(K,{title:"Tetris - Score: ".concat(p," | Level: ").concat(T," | Lines: ").concat(Z," | Player #").concat(A||"???"),onClose:n,appName:"tetris",className:"".concat(r," tetris-window"),style:i,initialWidth:H.width,initialHeight:H.height,isIframeApp:o},e.createElement("div",{className:"tetris"},e.createElement("div",{className:"tetris-content"},e.createElement("div",{className:"tetris-board-container"},e.createElement("div",{className:"tetris-board"},s.map((function(t,n){return t.map((function(t,r){return function(t,n,r){return e.createElement("div",{key:"".concat(n,"-").concat(r),className:"tetris-cell ".concat(t||"")})}(t,r,n)}))})),c&&(_e=c,e.createElement("div",{className:"tetris-piece ".concat(_e.type),style:{top:"".concat(5*_e.position.y,"%"),left:"".concat(10*_e.position.x,"%"),width:"".concat(10*_e.shape[0].length,"%"),height:"".concat(5*_e.shape.length,"%")}},_e.shape.map((function(t,n){return t.map((function(t,r){return t?e.createElement("div",{key:"".concat(r,"-").concat(n),className:"tetris-piece-cell filled",style:{top:"".concat(n/_e.shape.length*100,"%"),left:"".concat(r/_e.shape[0].length*100,"%"),width:"".concat(1/_e.shape[0].length*100,"%"),height:"".concat(1/_e.shape.length*100,"%")}}):null}))})))))),e.createElement("div",{className:"tetris-controls"},x||g?x&&!g?e.createElement(e.Fragment,null,e.createElement("button",{onClick:function(){return se(-1,0)}},""),e.createElement("button",{onMouseDown:be,onMouseUp:we,onMouseLeave:we,onTouchStart:be,onTouchEnd:we},""),e.createElement("button",{onClick:function(){return se(1,0)}},""),e.createElement("button",{onClick:le},"")):e.createElement("button",{onClick:pe,className:"start-button"},"New Game"):e.createElement("div",{className:"start-buttons"},e.createElement("button",{onClick:function(){return ye(1)},className:"start-button"},"Level 1"),e.createElement("button",{onClick:function(){return ye(10)},className:"start-button"},"Level 10"))),e.createElement("button",{onClick:function(){return D(!R)},className:"show-leaderboard-button"},R?"Hide Leaderboard":"Show Leaderboard")),$&&e.createElement("div",{className:"game-over-overlay"},e.createElement("div",{className:"game-over-message"},e.createElement("h3",null,"Game Over!"),e.createElement("p",null,"Your score: ",p),j?e.createElement("div",{className:"vanity-number-selector"},e.createElement("h4",null,"You've scored 500 or more points! Set Your Player Number"),e.createElement("input",{type:"number",min:"0",max:"9999",value:ne,onChange:function(e){var t=e.target.value;(""===t||parseInt(t)>=0&&parseInt(t)<=9999)&&re(t)}}),e.createElement("button",{onClick:function(){var e=parseInt(ne);e>=0&&e<=9999&&![69,420,187,1738].includes(e)?me(e):alert("Invalid player number. Please choose a number between 0 and 9999, excluding 69, 420, 187, and 1738.")}},"Set Player Number"),e.createElement("button",{onClick:function(){return me(Math.floor(1e4*Math.random()))}},"Set Random Player Number")):e.createElement("button",{onClick:pe,className:"start-button"},"New Game"))),R&&e.createElement("div",{className:"leaderboard-overlay"},e.createElement("div",{className:"leaderboard"},e.createElement("h3",null,"Leaderboard (Top 15)"),e.createElement("table",null,e.createElement("thead",null,e.createElement("tr",null,e.createElement("th",null,"Rank"),e.createElement("th",null,"Player"),e.createElement("th",null,"Score"))),e.createElement("tbody",null,b.map((function(t,n){return e.createElement("tr",{key:n,className:t.name==="Player ".concat(A)?"highlighted":""},e.createElement("td",null,n+1),e.createElement("td",null,t.name),e.createElement("td",null,t.score))})),!b.some((function(e){return e.name==="Player ".concat(A)}))&&e.createElement("tr",{className:"highlighted"},e.createElement("td",null,"-"),e.createElement("td",null,"Your Best"),e.createElement("td",null,G)))),e.createElement("button",{onClick:function(){return D(!1)},className:"close-leaderboard-button"},"Close")))))}var Sl=400,El=function(){function e(e,t){this.x=e,this.y=t}return e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y)},e.prototype.subtract=function(t){return new e(this.x-t.x,this.y-t.y)},e.prototype.multiply=function(t){return new e(this.x*t,this.y*t)},e.prototype.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.normalize=function(){var t=this.magnitude();return t>0?this.multiply(1/t):new e(0,0)},e.prototype.reflect=function(t){var n=this.x*t.x+this.y*t.y;return new e(this.x-2*n*t.x,this.y-2*n*t.y)},e.prototype.dot=function(e){return this.x*e.x+this.y*e.y},e}(),Nl=function(){function e(e,t){this.position=e,this.radius=t,this.velocity=new El(0,0),this.inPlay=!1}return e.prototype.update=function(e){this.inPlay&&(this.velocity=this.velocity.add(new El(0,.2*e)),this.velocity=this.velocity.multiply(.99),this.velocity.magnitude()>15&&(this.velocity=this.velocity.normalize().multiply(15)),this.position=this.position.add(this.velocity))},e}(),Tl=function(){function e(e,t,n,r){this.position=e,this.length=t,this.width=n,this.isLeft=r,this.angularVelocity=0,this.angle=r?Math.PI/3:2*Math.PI/3}return e.prototype.update=function(e){this.angle+=this.angularVelocity*e;var t=(this.isLeft,Math.PI/2),n=this.isLeft?Math.PI/6:5*Math.PI/6;this.angle=Math.max(Math.min(this.angle,t),n),this.angularVelocity*=.9},e.prototype.flip=function(){this.angularVelocity=this.isLeft?20:-20},e.prototype.release=function(){this.angularVelocity=this.isLeft?-10:10},e.prototype.checkCollision=function(e){var t=new El(this.position.x+Math.cos(this.angle)*this.length,this.position.y+Math.sin(this.angle)*this.length),n=this.getClosestPointOnLine(e.position,this.position,t);return e.position.subtract(n).magnitude()<=e.radius+this.width/2},e.prototype.getClosestPointOnLine=function(e,t,n){var r=e.subtract(t),i=n.subtract(t),o=r.dot(i)/i.dot(i);return t.add(i.multiply(Math.max(0,Math.min(1,o))))},e.prototype.getNormalAtPoint=function(e){var t=new El(Math.cos(this.angle),Math.sin(this.angle));return new El(-t.y,t.x).normalize()},e}(),Il=function(){function e(e,t){this.position=e,this.radius=t}return e.prototype.checkCollision=function(e){return e.position.subtract(this.position).magnitude()<=e.radius+this.radius},e}(),Pl=function(){function e(e,t,n){this.position=e,this.width=t,this.height=n}return e.prototype.checkCollision=function(e){var t=this.width/2,n=this.height/2,r=Math.abs(e.position.x-this.position.x),i=Math.abs(e.position.y-this.position.y);return!(r>t+e.radius||i>n+e.radius)&&(r<=t||i<=n||Math.pow(r-t,2)+Math.pow(i-n,2)<=Math.pow(e.radius,2))},e}(),Rl=function(){function e(e,t,n){this.position=e,this.width=t,this.height=n,this.power=0,this.maxPower=100}return e.prototype.charge=function(){this.power=Math.min(this.power+2,this.maxPower)},e.prototype.launch=function(){var e=new El(-1,-this.power/5);return this.power=0,e},e}(),Dl=function(){function e(){this.score=0,this.lives=3,this.isGameOver=!1,this.launcher=new Rl(new El(370,600),20,100),this.ball=new Nl(new El(this.launcher.position.x+10,this.launcher.position.y-10),8),this.leftFlipper=new Tl(new El(120,620),120,15,!0),this.rightFlipper=new Tl(new El(280,640),120,15,!1),this.bumpers=[new Il(new El(100,150),25),new Il(new El(200,100),25),new Il(new El(300,150),25)],this.targets=[new Pl(new El(80,250),40,10),new Pl(new El(180,250),40,10),new Pl(new El(280,250),40,10)]}return e.prototype.update=function(e){this.isGameOver||(this.ball.update(e),this.leftFlipper.update(e),this.rightFlipper.update(e),this.checkCollisions(),this.checkBoundaries())},e.prototype.checkCollisions=function(){var e=this;this.leftFlipper.checkCollision(this.ball)&&this.handleFlipperCollision(this.leftFlipper),this.rightFlipper.checkCollision(this.ball)&&this.handleFlipperCollision(this.rightFlipper),this.bumpers.forEach((function(t,n){t.checkCollision(e.ball)&&e.handleBumperCollision(t,n)})),this.targets.forEach((function(t,n){t.checkCollision(e.ball)&&e.handleTargetCollision(t,n)}))},e.prototype.handleFlipperCollision=function(e){var t=e.getNormalAtPoint(this.ball.position);this.ball.velocity=this.ball.velocity.reflect(t).multiply(1.5),this.score+=10},e.prototype.handleBumperCollision=function(e,t){var n=this.ball.position.subtract(e.position).normalize();this.ball.velocity=this.ball.velocity.reflect(n).multiply(1.2),this.score+=50},e.prototype.handleTargetCollision=function(e,t){var n=new El(0,-1);this.ball.velocity=this.ball.velocity.reflect(n).multiply(1.1),this.score+=30},e.prototype.checkBoundaries=function(){this.ball.position.y>700&&(this.lives--,this.lives<=0?this.isGameOver=!0:this.resetBall()),this.ball.position.x<this.ball.radius&&(this.ball.position.x=this.ball.radius,this.ball.velocity.x*=-.8),this.ball.position.x>Sl-this.ball.radius&&(this.ball.position.x=Sl-this.ball.radius,this.ball.velocity.x*=-.8),this.ball.position.y<this.ball.radius&&(this.ball.position.y=this.ball.radius,this.ball.velocity.y*=-.8)},e.prototype.resetBall=function(){this.ball=new Nl(new El(this.launcher.position.x+10,this.launcher.position.y-10),8),this.ball.inPlay=!1},e.prototype.flipLeftFlipper=function(){this.leftFlipper.flip()},e.prototype.flipRightFlipper=function(){this.rightFlipper.flip()},e.prototype.releaseFlippers=function(){this.leftFlipper.release(),this.rightFlipper.release()},e.prototype.chargeLauncher=function(){this.launcher.charge()},e.prototype.launchBall=function(){this.ball.inPlay||(this.ball.velocity=this.launcher.launch(),this.ball.inPlay=!0)},e.prototype.render=function(e){e.clearRect(0,0,Sl,700),e.fillStyle="#240046",e.fillRect(0,0,Sl,700),e.fillStyle="#4a0e78",e.fillRect(360,500,40,200),e.fillStyle="#ff6d00",this.bumpers.forEach((function(t){e.beginPath(),e.arc(t.position.x,t.position.y,t.radius,0,2*Math.PI),e.fill()})),e.fillStyle="#1de9b6",this.targets.forEach((function(t){e.fillRect(t.position.x-t.width/2,t.position.y-t.height/2,t.width,t.height)})),e.fillStyle="#03dac6",[this.leftFlipper,this.rightFlipper].forEach((function(t){e.save(),e.translate(t.position.x,t.position.y),e.rotate(t.angle),e.fillRect(-t.width/2,0,t.length,t.width),e.restore()})),e.fillStyle="#e1bee7",e.beginPath(),e.arc(this.ball.position.x,this.ball.position.y,this.ball.radius,0,2*Math.PI),e.fill(),e.fillStyle="#ff6d00",e.fillRect(this.launcher.position.x,this.launcher.position.y-this.launcher.height+this.launcher.power,this.launcher.width,this.launcher.height),e.fillStyle="#ffffff",e.font="20px Arial",e.fillText("Score: ".concat(this.score),10,30),e.fillText("Lives: ".concat(this.lives),10,60)},e.prototype.getScore=function(){return this.score},e.prototype.getLives=function(){return this.lives},e.prototype.isOver=function(){return this.isGameOver},e.prototype.restartGame=function(){this.resetBall(),this.score=0,this.lives=3,this.isGameOver=!1},e}(),Ml=n(5242),Al={};Al.styleTagTransform=f(),Al.setAttributes=c(),Al.insert=l().bind(null,"head"),Al.domAPI=a(),Al.insertStyleElement=h(),i()(Ml.A,Al),Ml.A&&Ml.A.locals&&Ml.A.locals;const zl=function(t){var n=t.onClose,r=t.className,i=t.style,o=(t.isIframeApp,t.onFocus),a=(0,e.useRef)(null),s=(0,e.useRef)(null),l=(0,e.useState)(0),u=l[0],c=l[1],d=(0,e.useState)(3),h=(d[0],d[1]),p=(0,e.useState)(!1),f=p[0],m=p[1],g=(0,e.useCallback)((function(){a.current&&(s.current=new Dl)}),[]),y=(0,e.useCallback)((function(e){s.current&&(s.current.update(e),c(s.current.getScore()),h(s.current.getLives()),m(s.current.isOver()))}),[]),v=(0,e.useCallback)((function(){var e=a.current;if(e&&s.current){var t=e.getContext("2d");t&&s.current.render(t)}}),[]);(0,e.useEffect)((function(){g();var e=0,t=function(n){y((n-e)/1e3),v(),e=n,requestAnimationFrame(t)};requestAnimationFrame(t)}),[g,y,v]);var b=(0,e.useCallback)((function(){var e;return null===(e=s.current)||void 0===e?void 0:e.flipLeftFlipper()}),[]),w=(0,e.useCallback)((function(){var e;return null===(e=s.current)||void 0===e?void 0:e.flipRightFlipper()}),[]),_=(0,e.useCallback)((function(){var e;return null===(e=s.current)||void 0===e?void 0:e.releaseFlippers()}),[]),x=(0,e.useCallback)((function(){var e=function(){s.current&&(s.current.chargeLauncher(),requestAnimationFrame(e))};e()}),[]),k=(0,e.useCallback)((function(){var e;return null===(e=s.current)||void 0===e?void 0:e.launchBall()}),[]),C=(0,e.useCallback)((function(){s.current&&(s.current.restartGame(),m(!1))}),[]);return(0,e.useEffect)((function(){var e=function(e){"ArrowLeft"===e.key&&b(),"ArrowRight"===e.key&&w()," "===e.key&&x()},t=function(e){"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||_()," "===e.key&&k()};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),function(){window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}}),[b,w,_,x,k]),e.createElement("div",{className:"unicorn-pinball ".concat(r),style:i,onClick:o},e.createElement("div",{className:"window-header"},e.createElement("span",null,"Unicorn Pinball"),e.createElement("button",{onClick:n},"")),e.createElement("div",{className:"game-container"},e.createElement("canvas",{ref:a,width:400,height:700}),f&&e.createElement("div",{className:"game-over-overlay"},e.createElement("h2",null,"Game Over"),e.createElement("p",null,"Final Score: ",u),e.createElement("button",{onClick:C},"New Game"))),e.createElement("div",{className:"controls"},e.createElement("button",{className:"flipper-button left",onMouseDown:b,onMouseUp:_,onTouchStart:b,onTouchEnd:_},"Left Flipper"),e.createElement("button",{className:"launch-button",onMouseDown:x,onMouseUp:k,onTouchStart:x,onTouchEnd:k},"Launch"),e.createElement("button",{className:"flipper-button right",onMouseDown:w,onMouseUp:_,onTouchStart:w,onTouchEnd:_},"Right Flipper")))};var Ol=n(1626),Ll={};Ll.styleTagTransform=f(),Ll.setAttributes=c(),Ll.insert=l().bind(null,"head"),Ll.domAPI=a(),Ll.insertStyleElement=h(),i()(Ol.A,Ll),Ol.A&&Ol.A.locals&&Ol.A.locals;var Fl=function(){return Fl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Fl.apply(this,arguments)},Wl=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};t.render(e.createElement(e.StrictMode,null,e.createElement((function(){var t=(0,e.useState)(!1),n=t[0],r=t[1],i=(0,e.useState)(!1),o=i[0],a=i[1],s=(0,e.useState)([]),l=s[0],u=s[1],c=(0,e.useState)(0),d=c[0],h=c[1],p=(0,e.useState)(!1),f=p[0],m=p[1],g=(0,e.useState)(1e3),v=g[0],b=g[1],_=(0,e.useCallback)((function(){m(!0),h((function(e){return e+1}))}),[]),x=function(e){u(l.filter((function(t){return t!==e}))),"Stickies"===e&&m(!1)};return e.createElement("div",{className:"App"},e.createElement(y,{onFileExplorerClick:function(){return r(!0)},isWalletConnected:o,onWalletToggle:function(){return a(!o)},isStickiesOpen:f,onNewStickyClick:_,version:"3.11"}),e.createElement("div",{className:"desktop"},e.createElement("button",{className:"hard-disk-icon",onClick:function(){r(!0)}},e.createElement("span",{className:"icon-emoji"},""),e.createElement("span",{className:"icon-text"},"Hard Drive")),n&&e.createElement(w,{onClose:function(){return r(!1)},onAppClick:function(e){l.includes(e)||u((function(t){return Wl(Wl([],t,!0),[e],!1)})),"Stickies"===e&&(m(!0),_())},isFullscreenOnMobile:!0}),e.createElement("div",{className:"app-container"},l.map((function(t){return function(t){var n=["Bluwumbuwurg","UwUScape","Virtual Unicorn","Black Market Beta","Black Market V2","Black Market V3","Black Market Liquidity","Purity Finance","Buwut Camp","Terminal"].includes(t),r={onClose:function(){return x(t)},className:"window ".concat(t.toLowerCase().replace(/\s+/g,"-")," ").concat(n?"iframe-app":""),isIframeApp:n,style:{zIndex:v+l.indexOf(t)},onFocus:function(){var e=v+l.length;b(e);var n=l.filter((function(e){return e!==t}));u(Wl(Wl([],n,!0),[t],!1))}};switch(t){case"Calcuwulator":return e.createElement(Ae,Fl({},r));case"Calendar":return e.createElement(Fe,Fl({},r,{onClose:function(){return x("Calendar")}}));case"Notepad":return e.createElement(Be,Fl({},r));case"Paint":return e.createElement(Ve,Fl({},r));case"Memoji Minesweeper":return e.createElement(K,{title:"Multiplayer Memoji Minesweeper",onClose:function(){return x(t)},appName:t.toLowerCase().replace(/\s+/g,"-"),initialWidth:400,initialHeight:500,isIframeApp:!1,onFocus:function(){var e=v+l.length;b(e);var n=l.filter((function(e){return e!==t}));u(Wl(Wl([],n,!0),[t],!1))}},e.createElement(ml,{onClose:function(){return x(t)}}));case"Bluwumbuwurg":return e.createElement(ie,Fl({},r));case"UwUScape":return e.createElement(se,Fl({},r));case"Virtual Unicorn":return e.createElement(ce,Fl({},r));case"Black Market Beta":return e.createElement(pe,Fl({},r));case"Black Market V2":return e.createElement(ge,Fl({},r));case"Black Market V3":return e.createElement(be,Fl({},r));case"Black Market Liquidity":return e.createElement(xe,Fl({},r));case"Purity Finance":return e.createElement(Se,Fl({},r));case"Buwut Camp":return e.createElement(Te,Fl({},r));case"Terminal":return e.createElement(Re,Fl({},r));case"Stickies":return f?e.createElement(te,{key:d,onClose:function(){return x("Stickies")},onNewSticky:_,stickiesCount:d}):null;case"Tetris":return e.createElement(Cl,Fl({},r));case"Unicorn Pinball":return e.createElement(zl,Fl({},r));default:return null}}(t)})))))}),null)),document.getElementById("root"))})()})();